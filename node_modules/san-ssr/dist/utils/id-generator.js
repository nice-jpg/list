"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.IDGenerator = void 0;
class IDGenerator {
    constructor() {
        this.counts = new Map();
    }
    /**
     * 从 name 产生一个 ID。例如 name="key"：
     * 第一次调用：key0，第二次调用：key1，第三次调用：key2，...
     */
    generate(name) {
        const id = this.get(name);
        this.increaseCount(name);
        return id;
    }
    /**
     * 获取最近一次 name 对应的 id
     */
    get(name) {
        return name + this.getCount(name);
    }
    getCount(name) {
        return this.counts.get(name) || 0;
    }
    increaseCount(name) {
        return this.counts.set(name, this.getCount(name) + 1);
    }
}
exports.IDGenerator = IDGenerator;
//# sourceMappingURL=id-generator.js.map