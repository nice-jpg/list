"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.tsCode2js = exports.tsSourceFile2js = void 0;
const typescript_1 = require("typescript");
const debug_1 = __importDefault(require("debug"));
const debug = debug_1.default('san-ssr:ts2js');
function tsSourceFile2js(sourceFile, compilerOptions) {
    debug('compile', sourceFile.getFilePath(), 'with options:', compilerOptions);
    return tsCode2js(sourceFile.getFullText(), compilerOptions);
}
exports.tsSourceFile2js = tsSourceFile2js;
function tsCode2js(sourceCode, compilerOptions) {
    debug('source code:', sourceCode);
    const { outputText } = typescript_1.transpileModule(sourceCode, { compilerOptions });
    debug('target code:', outputText);
    return outputText;
}
exports.tsCode2js = tsCode2js;
//# sourceMappingURL=ts2js.js.map