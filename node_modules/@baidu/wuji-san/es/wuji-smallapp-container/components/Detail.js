/**
 * @file Detail
 * @author baozhixin@baidu.com
 * TODO: 小屏优化没有做隐藏显示不下的内容
 */

import {Component} from 'san';
import WujiButton from '../../wuji-button';
import WujiRate from '../../wuji-rate';
import Coupon from './Coupon';
import List2d from './List2d';
import Progress from './Progress'; // TODO: 迁移wuji-san
import Tags from './Tags';

class Detail extends Component {
    static template = /* html */ `
        <div class="detailContainer">
            <template s-for="content in formatList">
                <div s-if="content.twoItemGrid" class="{{content.class}}">
                    <div class="gridContainer">
                        <template s-for="item in content.formatItems">
                            <led-list2d s-if="item.type === 'list2d'" s-bind="item.data"/>
                            <wuji-button s-if="item.type === 'button'" s-bind="item.data" width="240" can-bubble/>
                        </template>
                    </div>
                </div>
                <div s-else class="lineWrap {{content.class}}">
                    <template s-for="item in content.formatItems">
                        <img s-if="item.type === 'icon'" s-bind="item.data"/>
                        <div s-if="item.type === 'text'" s-bind="item.data">{{item.data.text}}</div>
                        <led-coupon s-if="item.type === 'coupon'" s-bind="item.data"/>
                        <led-list2d s-if="item.type === 'list2d'" s-bind="item.data"/>
                        <led-progress s-if="item.type === 'progress'" s-bind="item.data"/>
                        <led-tags s-if="item.type === 'tags'" s-bind="item.data"/>
                        <wuji-button s-if="item.type === 'button'" s-bind="item.data" width="240" can-bubble/>
                        <wuji-star s-if="item.type === 'star'" s-bind="item.data"/>
                    </template>
                </div>
            </template>
        </div>
    `;

    static components = {
        'led-coupon': Coupon,
        'led-list2d': List2d,
        'led-progress': Progress,
        'led-tags': Tags,
        'wuji-button': WujiButton,
        'wuji-star': WujiRate,
    };
}

export default Detail;
