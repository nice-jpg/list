"use strict";
/**
 * @file 解析 url
 * @author wangyongqing <wangyongqing01@baidu.com>
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.parseUrl = void 0;
var query2json_1 = require("./query2json");
/**
 * 解析 url，返回 url 和 query
 *
 * @param input 需要解析的地址
 * @param [parseQueryString = false] 是否解析 query 为 object
 * @return 返回 {url, query} 对象
 * @example
 * parseUrl('http://baidu.com?abc=1', true);
 *  {
 *      url: 'http://baidu.com',
 *      query: {
 *          abc: 1
 *      }
 *  }
 * parseUrl('http://baidu.com?abc=1')
 *  {
 *      url: 'http://baidu.com',
 *      query: 'abc=1'
 *  }
 */
function parseUrl(input, parseQueryString) {
    if (parseQueryString === void 0) { parseQueryString = false; }
    var _a = input.split('?'), url = _a[0], _b = _a[1], query = _b === void 0 ? '' : _b;
    return {
        url: url,
        query: parseQueryString ? (0, query2json_1.query2json)(query) : query,
    };
}
exports.parseUrl = parseUrl;
