/**
 * @file 打开个人主页
 * @author jiangxiaoli(jiangxiaoli01@baidu.com)
 */
import version_compare from '../../version_compare';
import getBoxVersion from '../../get-box-version';
import isMatrix from '../../is-matrix';
import {COMMAND_NOT_EXIST} from '../const';
import {isAndroid} from '../../browser/detect';
import {invokeApp} from '../ios';
import {prompt} from '../android';

export default opts => {
    const version = getBoxVersion();
    const other = isMatrix();
    if (version_compare(version, '7.0') >= 0 || other) {
        if (isAndroid()) {
            prompt('Bdbox_android_account', 'profile', [JSON.stringify(opts)]);
        }
        else {
            invokeApp('account', {
                action: 'profile',
                params: JSON.stringify(opts),
                minver: '7.0.0.0'
            }, '');
        }
        return Promise.resolve();
    }
    return Promise.reject(COMMAND_NOT_EXIST);
};


