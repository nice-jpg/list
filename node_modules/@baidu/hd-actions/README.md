# 组件派发事件规范

## 事件的定义

新增 `@baidu/mo-actions`，用于将组件派发事件名称统一声明为常量定义在这个包中\
同时定义清楚所传参数的类型定义。

每个 action 需要注释写明含义，变量名称和取值都要保证唯一不重复，命名和取值风格尽量一致\
每个 payload 的命名应在 action 变量名称后添加 `_PAYLOAD`，方便开发者使用。

推荐取值：`动:宾:副`

示例用法：

```ts
// 1. 在 mo-actions/index.ts 文件中定义 action 和 payload

/**
 * action: 发布器发表按钮点击事件
 */
export const CLICK_PUBLISHER_PUBLISH = 'click:publisher:publish';

/**
 * payload: 发布器发表按钮点击事件参数
 */
export interface CLICK_PUBLISHER_PUBLISH_PAYLOAD {
    /**
     * 发布器文本框输入内容
     */
    content: string;
}

// 2. 在某个组件中使用 some-component.ts
import {CLICK_PUBLISHER_PUBLISH} from '@baidu/hd-actions';
import type {CLICK_PUBLISHER_PUBLISH_PAYLOAD} from '@baidu/hd-actions';

...
    someMethod() {
        this.eventDispatch<CLICK_PUBLISHER_PUBLISH_PAYLOAD>(CLICK_PUBLISHER_PUBLISH, 'payload');
    }
...

// 在某个 action 定义中使用 some-action.ts
import {CLICK_PUBLISHER_PUBLISH} from '@baidu/hd-actions';
import type {CLICK_PUBLISHER_PUBLISH_PAYLOAD} from '@baidu/hd-actions';

const actionList = {
    [CLICK_PUBLISHER_PUBLISH](payload: CLICK_PUBLISHER_PUBLISH_PAYLOAD, {dispatch, getState}) {
        // your action code
    }
};

// then store add this action
```

> 说明：每个组件都可能依赖 `@baidu/hd-actions` 这个包，但是我们不必为每个组件都声明依赖，作为隐式的依赖即可，只需要在框架代码中安装所需版本即可，
> 这样可以实现依赖版本一致的目的，并且不会因为频繁的更新或升级这个包带来麻烦。
