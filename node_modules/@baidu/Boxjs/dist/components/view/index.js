/**
* @file
* @author renzhonghua
*/

var invoke = require('../../core/invoke');

return {
    open: function (obj) {
        var name = obj.name;
        var type = obj.type || '';
        var data = obj.data;
        var action = [name, 'open'].join('/');
        /* istanbul ignore if */
        if (obj.style) {
            data.style = obj.style;
        }

        if (name === 'easybrowse' || name === 'browser') {
            data.newbrowser = obj.newbrowser || obj.data.newbrowser || '0';
            data.type = type;
        }
        /* istanbul ignore if */
        if (type === 'hybrid') {
            action = [name, type].join('/');
        }
        return invoke(action, data, obj.abtest);
    },
    close: function (obj) {
        /* istanbul ignore next */
        var action = [obj.name, 'close'].join('/');
        /* istanbul ignore next */
        return invoke(action, {}, obj.abtest);
    },
    update: function (obj) {
        /* istanbul ignore next */
        var action = [obj.name, 'update'].join('/');
        /* istanbul ignore next */
        return invoke(action, obj.data, obj.abtest);
    }
};