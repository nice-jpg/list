
var $ = require('@baidu/Boxjs/dist/utils/_bdboxWrapper')
//require("zepto");
var Api = require('./api');

/**
 * View类
 * @class  View
 * @lends Bdbox.app.view
 * @param {element} root 根id或者dom节点
 * @author wangyongqing01
 * @version  $Id: view.js 286585 2016-03-15 11:57:15Z wangyongqing01 $
 */
var View = function(root, apis) {
    root = this.dom = Zepto(root);
    if (!$.isArray(apis) && $.isObject(apis)) {
        apis = [apis];
    }
    this.apis = {};
    this.bindApis(apis);
}
View.prototype.bindApis = function(apis) {
    if (!$.isArray(apis)) {
        return this;
    }
    var selfApis = this.apis;
    apis.forEach(function(api) {
        selfApis[api.name] = Api(api);
    });
};
/**
 * View类
 * @memberOf Bdbox.app
 * @function
 * @name  view
 * @param {element} root 根id或者dom节点
 * @return {View}     返回View对象
 * @author wangyongqing01
 * @version  $Id: view.js 286585 2016-03-15 11:57:15Z wangyongqing01 $
 * @example
 * var view = Bdbox.app.view('id');
 */
return function(root, apis) {
    return new View(root, apis);
}
