/**
 * @file 剪贴板操作
 * @author zhuzhibo <zhuzhibo@baidu.com>
 * @author zsy
 */
// @ts-ignore
import ClipboardAction from 'clipboard/src/clipboard-action';

/**
 * 基于 clipboard.js 的默认复制剪贴板方法
 *
 */
export function copyText(token: string) {
    return new Promise<void>((resolve, reject) => {
        new ClipboardAction({
            action: 'copy',
            text: token,
            container: document.body,
            emitter: {
                emit(type: string) {
                    console.warn('复制口令clipboard返回值：', type);
                    if (type === 'success') {
                        resolve();
                    }
                    else {
                        reject();
                    }
                },
            },
        });
    });
}
