# eop-utils

基于eop-box项目产出的通用函数库，服务于百度App用户增长研发团队运营活动，任何人均可贡献。

## 讨论

所有用户增长团队前端通用库：`eop-*`相关问题，可以在百度hi群：1636931 讨论与解决。

## 快速开始

### 安装

内网源下，使用npm进行安装：

```
npm install @baidu/eop-utils --save --registry=http://registry.npm.baidu-int.com
```

### API

用法详见[测试用例](./test)

utils.getCookie
---

`说明`：获取 cookie 值。

`示例`：

```js
document.cookie = 'a=123';
getCookie('a');         // 123
```

utils.getId
---

`说明`：获取唯一 id。

`示例`：

```js
getId()
```

utils.getParameter
---

`说明`：获取当前 url 中的 query 参数。

`参数`：

- `string` name - 参数名
- `string?` search - url search string, 默认为 window.location.search

`示例`：

```js
getParameter('idfrom', '?idfrom=banner&from=spc')；     // 'banner'
```

utils.getVariableType
---

`说明`：获取变量类型。

`参数`：

- `any` value - 待验变量

`示例`：

```js
getVariableType(null)       // 'null'
```

utils.stringifyArgs
---

`说明`：将参数列表字符串化，函数会经过`utils.toGlobalFunc`处理。

`示例`：详见测试用例。

utils.stringifyQuery
---

`说明`：将 query 请求对象中的 value 全部转换成 string 类型，函数会经过`utils.toGlobalFunc`处理。

`示例`：详见测试用例。

utils.toGlobalFunc
---

`说明`：将传入函数转换成全局函数，返回其全局名称字符串，字符串由`utils.getId`生成。

utils.toQueryString
---

`说明`：将给定对象转成序列化的 queryString。

`示例`：

```js
toQueryString({a: '1', b: '2'})     // a=1&b=2
```

utils.versionCompare
---

`说明`：版本号比较。

`示例`：

```js
// 版本号字符串比较大小
versionCompare('10.7.6', '10.7.5') > 0;     // true
```

## 如何贡献

当前维护人：weijiaxun@baidu.com。贡献流程按照icode工作流程进行。

贡献通用函数时，请务必补充文档、测试用例。

## 测试

执行：

```sh
npm run test
```

测试用例编写在`test`目录。

## 版本更新日志
