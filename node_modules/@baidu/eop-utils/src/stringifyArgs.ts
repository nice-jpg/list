/**
 * @file 将参数列表转换为纯 string 类型的列表
 * @author weijiaxun <weijiaxun@baidu.com>
 */

import {toGlobalFunc} from './toGlobalFunc';
import {getVariableType} from './getVariableType';

/**
 * 将参数列表字符串化
 *
 * @param {Array} args 参数列表
 * @param {boolean} stringify 是否使用 JSON.stringify 处理 value 中的对象
 * @return {Array<string>} 字符串化的参数列表
 */
export function stringifyArgs(args: any[], stringify: boolean = true): string[] {
    return args.map((arg: any): string => {
        const type = getVariableType(arg);
        switch (type) {
            case 'string':
                return arg;
            case 'function':
                return toGlobalFunc(arg);
            default:
                return stringify ? JSON.stringify(arg) : arg;
        }
    });
}
