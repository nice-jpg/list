export default class CloseSuspense {
    constructor(api, pluginOptions) {
        this.api = api;
        this.pluginOptions = pluginOptions;
    }
    /**
     * 关闭小窗
     * run为本插件对应的方法实际执行的函数
     */
    run() {
        if (this.api.getMode() === 'na') {
            this.naRun();
        }
    }
    naRun() {
        const {isIOS, isAndroid, invokeP} = this.api.getBoxTools();
        const containerId = this.api.getPlayerOption('containerId');
        if (isIOS()) {
            invokeP('video/slrCloseSuspensePlayer', {params: {containerId}});
        }
        else if (isAndroid()) {
            const video = this.api.getVideoInstance();
            video.zeusVideoExt = JSON.stringify({
                id: containerId, // 唯一标识，必选
                name: 'h5samelayer', // 播放器类型，默认h5samelayer
                action: 'closeFloatingScreen' // 关闭小窗模式，必选
            });
        }
    }
}
