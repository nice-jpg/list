"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = loadFiles;

var _loadFile = _interopRequireDefault(require("./load-file"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @file Created on Tue Nov 27 2018
 * @module browser
 * @author wangyongqing <wangyongqing01@baidu.com>
 */

/**
 * 加载多个文件
 * @function loadfiles
 * @param {string[]} paths - The file paths
 * @param {Function} callbackFn - The callback function
 */
function loadFiles(paths, callbackFn, args) {
  // listify paths
  paths = paths.push ? paths : [paths];
  var numWaiting = paths.length;
  var len = numWaiting;
  var pathsNotFound = []; // define callback function

  var fn = function fn(error, path) {
    if (error) {
      pathsNotFound.push(path);
    }

    numWaiting--;

    if (!numWaiting) {
      callbackFn(pathsNotFound);
    }
  }; // load scripts


  for (var i = 0; i < len; i++) {
    (0, _loadFile.default)(paths[i], fn, args);
  }
}