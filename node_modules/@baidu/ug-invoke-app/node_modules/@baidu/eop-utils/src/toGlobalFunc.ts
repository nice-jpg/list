/**
 * @file 创建全局函数
 * @author weijiaxun <weijiaxun@baidu.com>
 */

import {getId} from './getId';

/**
 * 将传入函数转换成全局函数，返回其全局名称字符串
 *
 * @param {Function} func query 对象
 * @return {string} 将 function 字符串化后的 query 对象
 */
export function toGlobalFunc(func: any) {
    const funcName = getId();
    (window as any)[funcName] = (...args: []) => {
        func.apply(window, ([]).slice.call(args, 0));
    };
    return funcName;
}
