/**
 * boxx.js 
 * v3.0.69
 */

!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).boxx=n()}(this,function(){"use strict";var d={lite:{"5.24.0.0":{android:"13.2.0.0",ios:"13.2.1.0"},"5.21.0.0":{android:"12.28.0.0",ios:"12.28.2.0"},"5.15.0.0":{android:"12.21.0.0",ios:"12.21.0.0"},"5.6.0.0":{android:"12.13.0.0",ios:"12.13.0.0"},"5.0.0.0":{android:"12.1.0.0",ios:"12.1.0.0"},"4.21.0.0":{android:"11.24.0.0",ios:"11.24.0.0"},"4.17.0.0":{android:"11.22.0.0",ios:"11.22.0.0"}},tomas:{"1.13.0.0":{android:"12.19.0.0",ios:"12.19.0.0"},"1.0.0.0":{android:"12.1.0.0",ios:"12.1.0.0"}},baiduboxvision:{"2.0.0.0":{android:"12.15.0.0",ios:"12.15.0.0"},"1.0.0.0":{android:"11.25.9.10",ios:"11.25.5.15"}},baiduboxsenior:{"1.0.0.0":{android:"12.1.0.0",ios:"12.1.0.0"}},knews:{"2.0.0.0":{android:"12.13.0.0",ios:"12.13.0.0"}}},m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==m?m:"undefined"!=typeof self?self:{},r=null,t=[];function a(e){r=e,t.forEach(function(e){r.apply(void 0,e)}),t=[]}function h(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];r?r.apply(void 0,e):t.push(e)}var i="99999";function l(e,n){if(e===n)return 0;function r(e){if(!(0<=+e))throw new Error("传递了非法版本号:: "+e);return+e}for(var t=(""+e).split(".").map(r),a=(""+n).split(".").map(r),o=0,i=Math.max(t.length,a.length);o<i;o++){if(t[o]>a[o]||t[o]&&!a[o]&&0<t[o])return 1;if(t[o]<a[o]||a[o]&&!t[o]&&0<a[o])return-1}return 0}var b="undefined"!=typeof window,s=b&&window.navigator.userAgent.toLowerCase();function y(e){var n=e.isBdApp,r=e.isLiteBox,t=e.realBoxVersion;if(n||r){var n=e,r=n.boxType,a=n.realBoxVersion,o=n.isIOS,i=d[r]||{},s=Object.keys(i);if(0===s.length)return"";s.sort(l).reverse();for(var c=0;c<s.length;c++){var u=s[c];if(0<=l(a,u))return"string"!=typeof i[u]?o?i[u].ios:i[u].android:i[u]}return""}return t}function g(e){var n=e&&/iphone|ipad|ipod|ios/.test(e),r=e&&0<e.indexOf("android"),l=r?"android":n?"ios":"unknown",t={UA:e,isIOS:n,isAndroid:r},a=(o=(i=t).UA,a=i.isIOS,i.isAndroid?(i=o.match(/(android);?\s+([\d.]+)?/))&&i[2]:a?(i=o.match(/(ipad|iphone|ipod).*os\s([\d_]+)/))&&i[2].replace(/_/g,"."):0),o=/ baiduboxapp\//i.test(e)||/ bdapp\//i.test(e),i=/ bdapp\//i.test(e),s=/ bdapp\/\d+[.\d+]*\s\((\w+)[;]?\s?(\w+)?\)/g.exec(e),c=b&&window&&window._na&&window._na.isSupportSwan&&window._na.getSchemeHeader&&window._na.isSupportSwan(),s=c?window._na.getSchemeHeader():s?s[2]||s[1]:"baiduboxapp",f=/ baiduboxapp\//i.test(e)&&!/ (lite|info|pro|mission) baiduboxapp/.test(e)&&!i,u=n&&/ info baiduboxapp\//i.test(e)||r&&/ lite baiduboxapp\//i.test(e),d=/ mission baiduboxapp\//i.test(e),p=f?"main":d?"mission":u?"lite":s||"unknown",e=/imagesearch[\s\S]+main/i.test(e)?"imageseach":/light/i.test(e)?"light":"search",g=(Object.assign(t,{isBdApp:i,boxType:p,appProtoName:s}),function(e){var n=e.isBdApp,r=e.UA,e=e.appProtoName;if(n){n=new RegExp(e+"/([\\d+.]+)").exec(r);if(n&&n[1])return n[1]}return(e=/baiduboxapp\/([\d+.]+)/.exec(r))&&e[1]?e[1]:m.baiduboxapp_version||(n=/([\d+.]+)_(?:diordna|enohpi)_/.exec(r))&&n[1]&&n[1].split(".").reverse().join(".")||0}(t));return Object.assign(t,{realBoxVersion:g,isLiteBox:u}),{isIOS:n,isAndroid:r,OS:l,OSVersion:a,isBoxSeries:o,isBdApp:i,isSupportSwanInBrowser:c,appProtoName:s,isMainBox:f,isLiteBox:u,isMissionBox:d,boxType:p,adaptBoxType:"main",boxBrowserType:e,realBoxVersion:g,boxVersion:y(t)}}var e=g(s),o=e.isIOS,p=e.isAndroid,v=e.OS,A=e.OSVersion,w=e.isBoxSeries,k=e.isBdApp,O=e.isSupportSwanInBrowser,S=e.appProtoName,C=e.isMainBox,x=e.isLiteBox,n=e.isMissionBox,N=e.boxType,I=e.adaptBoxType,J=e.boxBrowserType,j=e.realBoxVersion,_=e.boxVersion;function B(e){try{e.boxType=N,e.boxVersion=j}catch(e){}return e}function E(e,n){var r=(n=void 0===n?{isApp:C,isBdBox:k,isLiteApp:x,appType:N,realAppVersion:j}:n).isApp,t=n.isBdBox,a=n.isLiteApp,o=n.appType,n=n.realAppVersion;e?r&&l(n,"12.16")<0||t||a?h(o+n+"使用兜底描述表，符合预期"):h(o+n+"使用兜底描述表，！！！不符合预期，请加抽样验证效果！！！"):r?0<l(n,"12.16")?h(o+n+"使用端描述表，符合预期"):h(o+n+"使用端描述表，！！！不符合预期，请去掉抽样使用兜底描述表验证效果！！！"):h("矩阵产品"+o+n+"线上无法命中联动实验，不会使用端描述表，！！！不需要加抽样验证，请去掉抽样使用兜底描述表验证效果！！！")}var e=Object.freeze({__proto__:null,INFINITYVERSION:i,versionCompare:l,inBrowser:b,UA:s,getUAInfo:g,isIOS:o,isAndroid:p,OS:v,OSVersion:A,isBoxSeries:w,isBdApp:k,isSupportSwanInBrowser:O,appProtoName:S,isMainBox:C,isLiteBox:x,isMissionBox:n,boxType:N,adaptBoxType:I,boxBrowserType:J,realBoxVersion:j,boxVersion:_,addEnvInfo:B,isHitLocDesc:E}),c={},T={fire:function(e,n){var r=c[e];if(r){var t=2<(t=[].slice.call(arguments,0)).length?t.splice(2,t.length-1):[];t=[e,n].concat(t);for(var a=r.length,o=0;o<a;o++){var i=r[o];i&&i.callback&&(t=t.concat(i.args),i.callback.apply(i.scope,t))}}return this},on:function(e,n,r){e=e||[];var t=[].slice.call(arguments),a=(e="string"==typeof e?e.split(","):e).length;if(0===a)return this;for(var t=3<t.length?t.splice(3,t.length-1):[],o=0;o<a;o++){var i=e[o];c[i]=c[i]||[],c[i].push({callback:n,scope:r,args:t})}return this},off:function(e,n,r){var t=c[e];if(!t)return this;if(n){for(var a=t.length,o=[],i=0;i<a;i++){var s=t[i];s.callback===n&&s.scope===r||o.push(s)}c[e]=o}else t.length=0;return this},removeAll:function(){return c={},this}};function U(){var o={};return{on:function(e,n){o.hasOwnProperty(e)?-1===o[e].indexOf(n)&&o[e].push(n):o[e]=[n]},off:function(e,n){n=(o[e]||[]).indexOf(n);-1<n&&o[e].splice(n,1)},once:function(r,t){var a=this,o=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];a.off(r,o),t.apply.apply(t,[a].concat(e))};this.on(r,o)},emit:function(e){for(var n=[],r=arguments.length-1;0<r--;)n[r]=arguments[r+1];var t=e.split(":"),a=t.length;2===a&&"*"===t[1]||(1<a&&(a=t[0]+":*",R.apply(void 0,[o,a,e].concat(n))),R.apply(void 0,[o,e].concat(n)))}}}function R(e,n){for(var r=[],t=arguments.length-2;0<t--;)r[t]=arguments[t+2];e.hasOwnProperty(n)&&e[n].forEach(function(e){e.apply(void 0,r)})}var L=new U,D=new U,v=[{name:"swan.open",invoke:"iframe.openSwan",args:[{name:"appKey",value:"string"},{name:"path",value:"string="},{name:"query",value:"Object="},{name:"_baiduboxapp",value:{type:{from:"string=",notinhis:"string=",srcAppId:"string=",extraData:"Object=",ext:"Object=",srcAppPage:"string=",ubc:"Object=",navi:"string=",backwardURL:"string="}}},{name:"third_ext",value:"string="},{name:"abtest",value:"string="},{name:"oauthType",value:"string="},{name:"_swaninfo",value:"string="},{name:"downloadUrl",value:"string="},{name:"udid",value:"string="},{name:"host",value:"string="},{name:"cb",value:"string="},{name:"port",value:"string="}],authority:"swan",scheme:window&&window._na&&window._na.getSchemeHeader&&window._na.getSchemeHeader()}],P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};(function(r){function s(e,n){for(var r=0,t=e&&e.length||0;r<t&&!1!==n(e[r],r);r++);}function c(e){return e}function d(e){return"string"==typeof e?JSON.parse(e):e}function p(a,e,o){s(e,function(e,n){var r,t=i(e.value);switch(function n(r,t){t=i(t);if(null==r)return t.isRequired&&"*"!==t.type?1:0;var a=!1;switch(typeof t.type){case"string":switch(t.type){case"string":case"boolean":case"number":case"function":case"object":a=typeof r===t.type;break;case"Object":a="object"==typeof r;break;case"Array":a=r instanceof Array;break;case"*":a=!0}if(!a)return 2;break;case"object":if(r&&"object"==typeof r)for(var e in a=!0,t.type)if(!(a=!n(r[e],t.type[e])))break;if(!a)return 2;break;default:if(t.oneOf){if(s(t.oneOf,function(e){return!(a=e===r)}),!a)return 3}else if(t.oneOfType){if(s(t.oneOfType,function(e){return!(a=!n(r,e))}),!a)return 4}else if(t.arrayOf){if(!(r instanceof Array))return 2;if(a=!0,s(r,function(e){return a=!n(e,t.arrayOf)}),!a)return 5}}return 0}(a[n],t)){case 1:r=" is required.";break;case 2:r=" type error. must be "+JSON.stringify(t.type||"Array");break;case 3:r=" type error, must be oneOf "+JSON.stringify(t.oneOf);break;case 4:r=" type error, must be oneOfType "+JSON.stringify(t.oneOfType);break;case 5:r=" type error, must be arrayOf "+JSON.stringify(t.arrayOf)}if(r)throw n=o&&o.options.errorTitle||"jsNative",new Error("["+n+" Argument Error]"+e.name+r)})}function i(e){var n;return"string"==typeof e?(n={isRequired:!0},/=$/.test(e)&&(n.isRequired=!1,e=e.slice(0,e.length-1)),/\[\]$/.test(e)?n.arrayOf=e.slice(0,e.length-2):0<e.indexOf("|")?n.oneOfType=e.split("|"):n.type=e,n):e}function g(t){return s(t,function(e,n){var r;"function"==typeof e&&(t[n]=(r=e,function(e){r("string"==typeof e?JSON.parse(e):e)}))}),t}function m(a){return s(a,function(e,n){var r,t;"function"==typeof e&&(a[n]=(r=e,t=l+o++,f[t]=function(e){delete f[t],r(e)},t))}),a}function h(r){return s(r,function(e,n){r[n]=JSON.stringify(e)}),r}function u(r,e){var t={};return s(e,function(e,n){n=r[n];null!=n&&(t[e.name]=n)}),t}function b(e){return f.prompt(e)}function y(e){f.location.href=e}function v(e){var n=document.createElement("iframe");n.src=e,document.body.appendChild(n),document.body.removeChild(n)}function A(e,n){for(var r in n)n.hasOwnProperty(r)&&!t[r]&&(e[r]=n[r]);return e}function a(e,n){var r=[];if(e.args instanceof Array)for(var t=0;t<e.args.length;t++){var a=e.args[t];r.push({name:a.name||a.n,value:a.value||a.v})}return(n=n||A)({name:e.name,args:r,invoke:function(e){if(e instanceof Array)return e;switch(typeof e){case"string":return w[e];case"object":var n=[];return e.check&&n.push("ArgCheck"),(n=e.before?n.concat(O[e.before]):n).push(k[e.call]),"JSON"===e.after&&n.push("ReturnDecode:JSON"),n}}(e.invoke),method:e.method,scheme:e.scheme||e.schema,authority:e.authority,path:e.path,handler:e.handler},e)}function n(e){var o={ArgCheck:function(n,e,r){return function(e){return p(e,n.args,r),e}},ArgFuncArgDecode:function(e,n){return"JSON"===n?g:c},ArgFuncEncode:function(){return m},ArgEncode:function(e,n){return"JSON"===n?h:c},ArgAdd:function(e,n){var r=e.args.length,t=(e.args.push({name:"_"+n,value:"*"}),e[n]);return function(e){return e[r]=t,e}},ArgCombine:function(n,e){switch(e){case"URL":var a=n.scheme+"://"+n.authority+n.path;return function(r){var t=[],e=(s(n.args,function(e,n){n=r[n];null!=n&&t.push(e.name+"="+encodeURIComponent(n))}),t.join("&"));return e?a+"?"+e:a};case"Object":return function(e){return u(e,n.args)};case"JSONString":return function(e){return JSON.stringify(u(e,n.args))}}return c},CallMethod:function(a,e){var o,i;return function(e){if(!o){var n=a.method.split("."),r=n.length-1;i=n[r],o=f;for(var t=0;t<r;t++)o=o[n[t]]}switch(a.args.length){case 0:return o[i]();case 1:return o[i](e[0]);case 2:return o[i](e[0],e[1]);case 3:return o[i](e[0],e[1],e[2])}return o[i].apply(o,e)}},CallPrompt:function(){return b},CallIframe:function(){return v},CallLocation:function(){return y},CallMessage:function(n){return function(e){f.webkit.messageHandlers[n.handler].postMessage(e)}},ReturnDecode:function(e,n){return"JSON"===n?d:c}},i={options:{errorTitle:"jsNative",namingConflict:"error"},apis:[],apisLen:0,apiIndex:{},config:function(e){return this.options.errorTitle=(e=e||{}).errorTitle||this.options.errorTitle,this.options.namingConflict=e.namingConflict||this.options.namingConflict,this},add:function(e){if(e instanceof Array)for(var n=0;n<e.length;n++)this.add(e[n]);else if("object"==typeof e){var r=e.name;if(null!=this.apiIndex[r])switch(this.options.namingConflict){case"override":this.apis[this.apiIndex[r]]=a(e,this.descriptionPropMerger);case"ignore":break;default:throw new Error("["+this.options.errorTitle+"] API exists: "+r)}else{var t=a(e,this.descriptionPropMerger);this.apiIndex[r]=this.apisLen,this.apis[this.apisLen++]=t}}return this},fromNative:function(e){return this.add(r(a(e,this.descriptionPropMerger)))},invoke:function(e,n){return r(this.apis[this.apiIndex[e]],n)},map:function(e){e=e||function(e){return e};for(var n,r={},t=0;t<this.apis.length;t++){var a=this.apis[t],o=(o=e,n=a.name,"function"==typeof o?o(n):o[n]);if(o&&a.invoke)if(0<o.indexOf(".")){for(var i=o.split("."),s=0,c=r;s<i.length-1;s++){var u=i[s];c[u]=c[u]||{},c=c[u]}c[i[s]]=l(a)}else r[o]=l(a)}return r},invokeAPI:function(e,n){return r(a(e,this.descriptionPropMerger),n)},addProcessorCreator:function(e,n){if(o[e])throw new Error("["+this.options.errorTitle+"] processorCreators exists: "+e);return o[e]=n,this},setExternalDescriptionProps:function(e){for(var n="",r=0;r<e.length;r++){var t=e[r];n+='target["'+t+'"] = source["'+t+'"];'}this.descriptionPropMerger=new Function("target","source",n+"return target;")}};return i.config(e),i;function t(t){var a=[];if(!t.invoke)throw new Error("["+i.options.errorTitle+"] invoke undefined: "+t.name);return s(t.invoke,function(e){var n,r=e.indexOf(":"),r=(0<r&&(n=e.slice(r+1),e=e.slice(0,r)),o[e](t,n,i));"function"==typeof r&&a.push(r)}),a}function r(e,n){if(e)return n=n||[],s(t(e),function(e){n=e(n)}),n}function l(e){var r=t(e);return function(){return n=Array.prototype.slice.call(arguments,0,e.args.length),s(r,function(e){n=e(n)}),n;var n}}}var f,o,l,w,k,O,t,e;f="undefined"!=typeof window?window:P,l="__jsna_",w={method:["ArgCheck","CallMethod"],"method.json":["ArgCheck","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgEncode:JSON","CallMethod","ReturnDecode:JSON"],"prompt.json":["ArgCheck","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgAdd:name","ArgCombine:JSONString","CallPrompt","ReturnDecode:JSON"],"prompt.url":["ArgCheck","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgEncode:JSON","ArgCombine:URL","CallPrompt","ReturnDecode:JSON"],location:["ArgCheck","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgEncode:JSON","ArgCombine:URL","CallLocation"],iframe:["ArgCheck","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgEncode:JSON","ArgCombine:URL","CallIframe"],message:["ArgCheck","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgAdd:name","ArgCombine:Object","CallMessage"]},k={method:"CallMethod",prompt:"CallPrompt",location:"CallLocation",iframe:"CallIframe",message:"CallMessage"},O={JSONStringInTurn:["ArgFuncArgDecode:JSON","ArgFuncEncode","ArgEncode:JSON"],JSONString:["ArgFuncArgDecode:JSON","ArgFuncEncode","ArgAdd:name","ArgCombine:JSONString"],JSONObject:["ArgFuncArgDecode:JSON","ArgFuncEncode","ArgAdd:name","ArgCombine:Object"],URL:["ArgFuncArgDecode:JSON","ArgFuncEncode","ArgEncode:JSON","ArgCombine:URL"]},t={name:o=1,args:1,invoke:1,method:1,scheme:1,authority:1,path:1,handler:1},(e=new n).version="1.2.4",e.createContainer=function(e){return new n(e)},f.jsNative=e,r.jsNative=e})((A={exports:{}},A.exports));var u=A.exports.jsNative.createContainer().config({errorTitle:"boxx",namingConflict:"override"}),F={invoke:["ArgFuncArgDecode:JSON","ArgFuncEncode","CallMethod","ReturnDecode:JSON"],name:"na.getAPIs",method:"_na.getAPIs",args:[{name:"fragmentIndex",value:"number="}]},M={"iframe.bdboxURL":["ArgCheckWithCallback","RegisterCallbacks","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgCombineWithCallback:Object","ArgJSONString","ArgCombineWithCallback:bdboxURL","CheckURL","CallIframe"],"iframe.url":["ArgCheckWithCallback","RegisterCallbacks","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgsEncodeToJSONExceptString","ArgCombineWithCallback:URL","CheckURL","CallIframe"],"method.args-json+callback":["ArgCheckWithCallback","RegisterCallbacks","ArgCombineWithCallback:JSONString","CallMethodByUserArgs:callback"],"method.args-json":["ArgCheckWithCallback","RegisterCallbacks","ArgCombineWithCallback:JSONString","CallMethodByUserArgs:noCallback"],"method.bdboxURL":["ArgCheckWithCallback","RegisterCallbacks","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgCombineWithCallback:Object","ArgJSONString","ArgCombineWithCallback:bdboxURL","CheckURL","CallMethodByUserArgs:callback"],"method.url":["ArgCheckWithCallback","RegisterCallbacks","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgsEncodeToJSONExceptString","ArgCombineWithCallback:URL","CheckURL","CallMethodByUserArgs:callback"],"method.openSwan":["ArgCheckWithCallback","RegisterCallbacks","ArgsEncodeToJSONExceptString","SwanSchemeCombine","CheckURL","CallMethodByUserArgs:callback"],"iframe.openSwan":["ArgCheckWithCallback","RegisterCallbacks","ArgsEncodeToJSONExceptString","SwanSchemeCombine","CheckURL","CallIframe"]};function V(l){if("undefined"==typeof _na||null===_na||!_na.getAPIs)return h("端描述表开关已关闭"),[];h("端描述表开关已打开， 端上会注入描述表， 但如果此时同时引入了兜底描述表， 则会被兜底描述表覆盖，目前矩阵（lite、tomas、青春版）产品属于该种情况");var r,e=[],n=[],t=0;do{var a=l.invokeAPI(F,[t]),f=a.totalSlices,d=a.descriptions,p=a.defaults,a=f}while(t++,e=e.concat(d),t<a);if(r=p,e=1===(o=e).length?[]:o.map(function(e){for(var n in r)r.hasOwnProperty(n)&&(e[n]=e[n]||r[n]);return e}),_na&&_na.getAmendAPIs){var o=_na.getAmendAPIs();if(o&&"string"==typeof o)try{n=JSON.parse(o)}catch(e){console.error(e)}else Array.isArray(o)&&(n=o);if(n&&0<n.length){var i={};n.forEach(function(e){i[e.name]=e});for(var s=e.length-1;0<=s;s--)i[e[s].name]&&e.splice(s,1)}}for(var c=o=e.concat(n),u=c.length-1;0<=u;u--){var g=Object.keys(c[u]);1===g.length&&"name"===g[0]&&c.splice(u,1)}return o}function q(e){var n={appType:N,adaptAppType:I,realAppVersion:j,appVersion:_};return e.filter(function(e){return H(e,n)})}function W(e,n){return e&&e[n]&&e[n][J]}function H(e,n){var r=(n=void 0===n?{appType:N,adaptAppType:I,realAppVersion:j,appVersion:_}:n).realAppVersion,t=n.appVersion,e=(e=e.env,a=(n=n).appType,n=n.adaptAppType,(a=W(e,a))||!1===a?{isAdapted:!1,startedVersion:a}:(a=W(e,n))?{isAdapted:!0,startedVersion:a}:{isAdapted:!1,startedVersion:i}),n=e.startedVersion;if(!n)return!1;var a=e.isAdapted?t:r;return!!a&&0<=l(a,n)}function Q(e){return e.invoke=M[e.invoke]||e.invoke,e.path=e.path||"",e}function $(e){n=e;var n=(n=o?n.ios:n.android)&&0<n.length?q(n):[],e=(e=e,q((o?e.iosCompatibility:e.androidCompatibility)||[])),n=n.concat(e);return n.forEach(Q),n}function z(){return{status:0,message:"success: NA 无返回信息，默认成功"}}var K={"feed.updateFavorInfo":z,"hybrid.reliabilityLog":z,"feed.showDislike":z,"easyBrowser.open":z,"account.login":function(e){return e.data?{status:"1"===e.data.status?0:1,message:"1"===e.data.status?"login success":"login fail"}:e},"device.getCUID":function(e){return e&&0===e.result?{status:0,message:"success",data:{unique_id:e.unique_id}}:e&&0===e.error?{status:0,message:"success",data:{unique_id:e.result}}:p&&(0<=l(_,"7.4")||!C)?{status:(n=e&&0<e.length)?0:1,message:n?"success":"fail",data:n?{unique_id:e}:{}}:p&&l(_,"7.4")<0||o&&l(_,"8.4")<0?{status:(n=(n=p?document.cookie.match(/BAIDUCUID=(.+?);/):s.match(/baiduboxapp\/.*\/(\w+)\/\d/))?n[1]:"")?0:1,message:n?"success":"fail",data:n?{unique_id:n}:{}}:e;var n},"device.getDeviceInfo":function(e){return e.data&&e.data.netInfo&&e.data.netInfo.network&&("1_0"===e.data.netInfo.network||"Wifi"===e.data.netInfo.network)?e.data.networkType="wifi":e.data.networkType="unknown",e},"feed.getSessionClickID":function(e){return{status:+e.status,message:e.message||"",data:e.data&&e.data.params||e.params||{}}},"easyBrowser.performanceFlowLog":function(e){return p?{status:+e.status,message:e.message||""}:e},"easyBrowser.request":function(e){var n=e&&e.data&&"1"===e.errno?o?JSON.parse(decodeURIComponent(e.data)):JSON.parse(e.data):e.data;return{status:"1"===e.errno?0:"0"===e.errno?1:parseInt(e.errno,10),message:e.message||("1"===e.errno?"success":"fail"),data:n||{}}},"easyBrowser.webStorage":function(e){return o&&0===e.result?{status:0,message:e.message||e.errmsg,data:e.data}:e},"device.getCurrentLocation":function(e){return o?{status:e.result||e.status,message:e.message||(0===e.result?"success":"fail"),data:e.coords||e.data}:p?(n=e.st,delete(r=e).st,{status:n,message:e.message||(0===n?"success":"fail"),data:r}):e;var n,r},"feed.isWebPSupported":function(e){return p&&(e.data=e.result),e}};function Y(n,e){var r;try{r="string"==typeof n?JSON.parse(n):n}catch(e){r=n}switch(typeof(r=-1<Object.keys(K).indexOf(e)?K[e](r):r)){case"undefined":return{status:1,message:"fail: na 返回值为 undefined"};case"boolean":return{status:r?0:1,message:r?"success":"fail"};case"number":return{status:r,message:0==+r?"success":"fail"};case"string":return{status:0,message:"success",data:r};case"object":if(null===r)return{status:1,message:"fail: NA 返回信息为 null"};var t,a=function(e){var n,r={};for(n in e)e.hasOwnProperty(n)&&"errno"!==n&&"errmsg"!==n&&"status"!==n&&"message"!==n&&"result"!==n&&(r[n]=e[n]);return r}(r);return null!=r.errno?{status:1===(t=parseInt(r.errno,10))?0:0===t?1:t,message:r.errmsg||1===t?"success":"fail",data:r.data||a}:null!=r.status?{status:+r.status,message:r.message||(0==+r.status?"success":"fail"),data:r.data||a}:null!=r.result?{status:r.result,message:0===r.result?"success":"fail",data:r.data||a}:{status:0,message:"success",data:r}}return r}function G(e,n){m[e]=n}var X=1;function Z(){return"__boxx_"+X++}var ee,ne=[],re="function"==typeof Promise&&/native code/.test(Promise);function te(e,n){n&&(e=e.bind(n)),ne.push(e),ee||(ee=function(){var e=ne.slice(0);ne=[],ee=null;for(var n=0,r=e.length;n<r;n++)e[n]()},"function"==typeof setImmediate?setImmediate(ee):"function"==typeof MessageChannel?(e=(n=new MessageChannel).port2,n.port1.onmessage=ee,e.postMessage(1)):re?Promise.resolve().then(ee):setTimeout(ee,0))}var ae=!1;function oe(e){return e}function f(e,n){for(var r=0,t=e&&e.length||0;r<t&&!1!==n(e[r],r);r++);}function ie(e,n){return e+n.authority+n.path}function se(e){var n="";if(e.query){var r,t=[];for(r in e.query)e.query.hasOwnProperty(r)&&t.push(r+"="+e.query[r]);n=t.join("&")}return n}function ce(e,n){var r,t=[];return n.argQueryList&&(r=e?JSON.parse(e):[],n.argQueryList.forEach(function(e){var n;r[e]&&(n="string"==typeof r[e]?r[e]:JSON.stringify(r[e]),t.push(e+"="+encodeURIComponent(n)))})),t.join("&")}function ue(e){var n;return"string"==typeof e?(n={isRequired:!0},/=$/.test(e)&&(n.isRequired=!1,e=e.slice(0,e.length-1)),/\[\]$/.test(e)?n.arrayOf=e.slice(0,e.length-2):0<e.indexOf("|")?n.oneOfType=e.split("|"):n.type="eventFunction"===e?"function":e,n):e}function le(a,e,o){f(e=e.concat([{name:"success",value:"function="},{name:"fail",value:"function="}]),function(e,n){var r="",t=ue(e.value);switch(function n(r,t){if(t=ue(t),null==r)return t.isRequired&&"*"!==t.type?1:0;var a=!1;switch(typeof t.type){case"string":switch(t.type){case"string":case"boolean":case"number":case"function":case"object":a=typeof r===t.type;break;case"Object":a="object"==typeof r;break;case"Array":a=r instanceof Array;break;case"*":a=!0}if(!a)return 2;break;case"object":if(r&&"object"==typeof r)for(var e in a=!0,t.type)if(!(a=!n(r[e],t.type[e])))break;if(!a)return 2;break;default:if(t.oneOf){if(f(t.oneOf,function(e){return!(a=e===r)}),!a)return 3}else if(t.oneOfType){if(f(t.oneOfType,function(e){return!(a=!n(r,e))}),!a)return 4}else if(t.arrayOf){if(!(r instanceof Array))return 2;if(a=!0,f(r,function(e){return a=!n(e,t.arrayOf)}),!a)return 5}}return 0}(a[n],t)){case 1:r=" is required.";break;case 2:r=" type error. must be "+JSON.stringify(t.type||"Array");break;case 3:r=" type error, must be oneOf "+JSON.stringify(t.oneOf);break;case 4:r=" type error, must be oneOfType "+JSON.stringify(t.oneOfType);break;case 5:r=" type error, must be arrayOf "+JSON.stringify(t.arrayOf)}if(r)throw n=o&&o.options.errorTitle||"jsNative",new Error("["+n+" Argument Error]"+e.name+r)})}function fe(r,e){var t={};return f(e,function(e,n){n=r[n];null!=n&&(t[e.name]=n)}),t}var de={ArgCheckWithCallback:function(n,e,r){return function(e){return le(e,n.args,r),e}},ArgsEncodeToJSONExceptString:function(){return function(r){return f(r,function(e,n){"object"==typeof e&&(r[n]=JSON.stringify(e))}),r}},RegisterCallbacks:function(f){var d=f.name;return function(e){var n,r,t,a,o,i,s,l=e.pop(),c=e.pop(),u=(f.nextCallback&&(n=d,r=(u={success:c,fail:l}).success,t=u.fail,u=Z(),G(u,function(e){0==+(e=Y(e,n)).status?r&&r(e):t&&t(e)}),e.push(u)),Z());return a=f.name,c={success:c,fail:l},o=!!f.nextCallback,i=c.success,s=c.fail,G(u,function(e){e=Y(e,a),o||(0==+e.status?i&&i(e):s&&s(e))}),e.push(u),e}},ArgCombineWithCallback:function(u,e){var l=S+"://";switch(e){case"bdboxURL":return function(e){var n=e[0],e=e[1],r=ie(l,u),t=se(u),a=ce(n,u);o=u,(n=n)&&Array.isArray(o.argQueryList)&&(i=JSON.parse(n),o.argQueryList.forEach(function(e){i[e]&&delete i[e]}),n=JSON.stringify(i)),o=o.paramsName||"params";var o,i,r=r+"?"+[n?o+"="+encodeURIComponent(n):"",t,a,(u.callbackName||u.callback||"callback")+"="+e].filter(function(e){return""!==e}).join("&");return console.log("scheme URL::: ",r),r};case"URL":return function(e){var n=ie(l,u),r=se(u),t=ce(e,u),a=(u.callbackName||u.callback||"callback")+"="+e.pop(),o=u.nextCallback?u.nextCallback+"="+e.pop():"";i=e,e="",(c=u).args&&0<c.args.length&&(s=[],f(c.args,function(e,n){n=i[n];null!=n&&s.push(e.name+"="+encodeURIComponent(n))}),e=0<=s.length?s.join("&"):"");var i,s,c=n+"?"+[e,o,r,t,a].filter(function(e){return""!==e}).join("&");return console.log("scheme URL::: ",c),c};case"Object":return function(e){var n=u.args,r=e.pop();return 0===(n=u.nextCallback?n.concat([{name:u.nextCallback,value:"string"}]):n).length?[void 0,r]:[fe(e,n),r]};case"JSONString":return function(e){var n=e.pop(),r=u.args;return 0===(r=u.nextCallback?r.concat([{name:u.nextCallback,value:"string"}]):r).length?[void 0,n]:[JSON.stringify(fe(e,r)),n]}}return oe},ArgJSONString:function(){return function(e){var n=e[0],e=e[1];return[JSON.stringify(n),e]}},CallMethodByUserArgs:function(l,e){var f,d;function t(e){if(!f){var n=l.method.split("."),r=n.length-1;d=n[r],f=m;for(var t=0;t<r;t++)f=f[n[t]]}var a,o=f&&f[d];if(p&&C&&!o)return s=e,i=(a=l).method.split("."),s=s||[],a.args&&0!==a.args.length||(s=s.slice(1)),a={obj:i[0],func:i.slice(1).join("."),args:Array.isArray(s)?s:[s]},h("window.prompt BdboxApp:"+JSON.stringify(a)),window.prompt("BdboxApp:"+JSON.stringify(a));if(!o&&!ae){ae=!0;var i=[0,0,0,0],s=(window.Bdbox_android_common?window.Bdbox_android_common.setQuery||(i[0]=2):i[0]=1,window.Bdbox_android_jsbridge?window.Bdbox_android_jsbridge.dispatch||(i[1]=2):i[1]=1,window._na?window._na.getAPIs?window._na.getAPIs(0)||(i[2]=3):i[2]=2:i[2]=1,window.chrome&&(i[3]=1),"");try{var c=(s=localStorage.getItem("methodInfo")||"")?s.split("|"):[],u=i.join(",");-1===c.indexOf(u)&&(c.push(u),s=c.join("|"),localStorage.setItem("methodInfo",s))}catch(e){}u={name:"MethodUndefined",message:"Method undefined",method:l.method,info:i,ls:s};D.emit("error:method-undefined",u)}if("[object Array]"!==Object.prototype.toString.call(e))return h(l.method+"("+JSON.stringify(e)+")"),f[d](e);switch(void 0===e[0]&&e.shift(),h(l.method+"("+JSON.stringify(e)+")"),e.length){case 0:return f[d]();case 1:return f[d](e[0]);case 2:return f[d](e[0],e[1]);case 3:return f[d](e[0],e[1],e[2]);default:return f[d].apply(f,e)}}switch(e){case"callback":return t;case"noCallback":return function(e){var n=e.pop(),r=t(e);te(function(){m[n](r)})};default:return t}},CheckURL:function(){return function(e){for(var n=[],r=arguments.length-1;0<r--;)n[r]=arguments[r+1];try{h("schema:",e);var t=e.length,a=(15360<t&&D.emit("error:url-too-long",{name:"URLTooLong",message:"The url is too long",length:t,url:e}),/(NaN|null|undefined)/.exec(e));a&&D.emit("error:url-include-unexpected-keyword",{name:"URLError",message:"The url include an unexpected keyword",keyword:a[0],url:e})}catch(e){}return e}},SwanSchemeCombine:function(u){var l=S+"://";return function(e){var n=e[0],r=e[1]||"",t=(0!==r.indexOf("/")&&(h("xcx_path: "+r+" 必须是/开头"),r="/"===n.substr(n.length-1,1)?r:"/"+r),e[2]&&JSON.parse(e[2])||{});e[0]=void 0,e[1]=void 0,e[2]=void 0;var a=(u.callbackName||u.callback||"callback")+"="+e.pop(),o=u.nextCallback?u.nextCallback+"="+e.pop():"",n=l+u.authority+"/"+n+r,r=se(u);i=e,e=u,s=t,c=Object.keys(s).map(function(e){return e+"="+encodeURIComponent(s[e])}),e.args&&0<e.args.length&&f(e.args,function(e,n){n=i[n];null!=n&&c.push(e.name+"="+encodeURIComponent(n))});var i,s,c,t=n+"?"+[0<=c.length?c.join("&"):"",o,r,a].filter(function(e){return""!==e}).join("&");return console.log("scheme URL::: ",t),t}}},pe=1,ge="__boxx_event_";function me(r){var e=ge+pe++;return m[e]=function(e,n){r(e,n)},e}function he(e,n){return p?n.jscallback?e.page===n.page&&e.action===n.action&&e.fn===n.jscallback:e.page===n.page&&e.action===n.action:n.jscallback?e.action===n.action&&e.fn===n.jscallback:e.action===n.action}var be=[];function ye(e,n){if("event.on"===e){var r;if("string"==typeof n.jscallback)return n;for(var t,a=!0,o=!0,i=be.length;i--;){if(he(t=be[i],n)){r=t.fnString,a=o=!1;break}if(t.fn===n.jscallback){r=t.fnString,a=!(o=!1);break}}o&&(r=me(n.jscallback)),a&&be.push({page:n.page,action:n.action,fn:n.jscallback,fnString:r});var s={page:n.page,action:n.action,jscallback:r,rnmsg:n.rnmsg,allowDuplicate:n.allowDuplicate};return n.success&&(s.success=n.success),n.fail&&(s.fail=n.fail),s}if("event.off"===e){s=n.jscallback;if(!s||"string"==typeof s)return n;for(var l=!1,c=be.length;c--;){var u=be[c];if(he(u,n))return be.splice(c,1),function(n){return!be.some(function(e){return n===e.fn})}(u.fn)&&delete m[u.fnString],u={page:n.page,action:n.action,rnmsg:n.rnmsg,jscallback:u.fnString},n.success&&(u.success=n.success),n.fail&&(u.fail=n.fail),l=!0,u}if(!l)return console.error("error：尝试移除一个未被注册的事件函数"),te(function(){n.fail&&n.fail({status:1,message:"removes a function that has not be registered"})}),delete n.jscallback,n}return n}var ve={"search.setQuery":function(e,n){n=u.apis[u.apiIndex[n]].authority;return p&&"searchframe"===n?(e.history=Boolean(e.history),e={searchType:JSON.stringify(e)}):o&&(e.history=Number(e.history)),e},"account.openLoginDialog":function(e){return e.third_login=e.showThirdLogin,e.login_type=e.loginType,e},"app.feedback":function(e){return p&&(e.type=e.type||"2"),e},"easyBrowser.request":function(e){return e.header=e.header||{},e.data=e.data||{},p&&(e.header=JSON.stringify(e.header),e.data=JSON.stringify(e.data)),e},"commonUI.showToastOld":function(e){return(e=e||{}).string=e.message,e},"easyBrowser.onPerformanceFlowEvent":function(e){return p&&(e.min_v="16789504"),e},"easyBrowser.openHybrid":function(e){return(e=e||{}).type="Hybrid",e.backup&&e.backup.url&&(e.backup.url=encodeURIComponent(e.backup.url)),e},"easyBrowser.openHybridOld":function(e){var n;if(e=e||{},p)return r=e.backup&&e.backup.url||"",n=e.style&&e.style.toolbaricons&&e.style.toolbaricons.tids||"",{intent:"intent:#Intent;"+["S.backup="+JSON.stringify({url:encodeURIComponent(r)}),"component=com.baidu.searchbox/.home.feed.FeedDetailActivity","S.toolbaricons="+encodeURIComponent(JSON.stringify({toolids:n})),"S.menumode="+(e.menumode||"")].join(";")+";end",min_v:e.min_v||"16783629",mode:"0"};if(o){var r=e.style&&e.style.toolbaricons&&e.style.toolbaricons.tids||"";if(e.toolbar=JSON.stringify({toolids:r}),e.type="Hybrid",e.openurl=encodeURIComponent(e.url),e.isla=e.isla,e.minver="5.3.0.0",e.opentype=1,e.append=0,e.rbtnstyle=2,e.style&&"object"==typeof e.style){var t,a=e.style;for(t in a)a.hasOwnProperty(t)&&(e[t]=a[t]);delete e.style}return e}return e},"device.getDeviceInfo":function(e){return e.keys=e.keys||["netInfo","screenInfo"],e},"event.on":function(e){return"globalSettingChange"===(e=ye("event.on",e)).action&&(window._Box_||(window._Box_={}),window._Box_.event||(window._Box_.event={}),window._Box_.event.broadcast||(window._Box_.event.broadcast=T),window._Box_.event.broadcast.on(e.action,e.jscallback?window[e.jscallback]:function(){})),e},"event.off":function(e){return"globalSettingChange"===e.action&&window._Box_&&delete window._Box_,e=ye("event.off",e)}};function Ae(l,t,n,f,a,d){function r(e,n){var r;n.api=t,n.stack||(r=new Error(n.message||"[Invoke Error]"),n.stack=r.stack),B(n),n.needDelayEmit?n.delayEmitCallback=function(){delete n.needDelayEmit,delete n.delayEmitCallback,a.emit(e,n)}:a.emit(e,n)}try{a.emit("invoke:start",B({api:t,args:n}));c=n,u=t;var o=-1<Object.keys(ve).indexOf(u)?ve[u](c,u):c,p=(i=o,s=[],e=(e=f).concat([{name:"success",value:"function="},{name:"fail",value:"function="}]),s=i&&0<e.length?e.map(function(e){return i[e.name]}):s);D.on("error:*",r),l.invoke(t,p),D.off("error:*",r)}catch(e){D.off("error:*",r);n=e,u="unknown",c=e.message||"";/^\[.+? Argument Error\]/.test(c)&&(u="arg-invalid",o=c.split("]")[1].split(" ")[0],n={name:"ArgInvalidError",message:c,stack:e.stack,arg:o});try{n.api=t}catch(e){}if(B(n),a.emit("error:"+u,n),d)throw e}var i,e,s,c,u}function we(n,r,t){return function(e){Ae(n,r.name,e,r.args,t,!0)}}w=function(o,i){return function(e,n){h("搜索禁止使用 call 方法调用端能力，请先判断canIuse之后使用语义化 api 调用");var r,t=o.apiIndex[e];if(void 0===t)return a="暂不支持 API: ["+e+"]",r=new Error(a),void i.emit("error:api-missed",B({name:"APIMissedError",api:e,message:a,stack:r.stack}));var a=o.apis[t];Ae(o,e,n,a.args,i,!1)}};function ke(l,f,d){for(var p=f.apis,e=0,g=p.length;e<g;e++){var n=p[e];if(n.name&&n.invoke){u=h=c=s=i=m=o=a=t=r=void 0;var r=l,t=f,a=n.name,o=n,m=d;if(0<a.indexOf(".")){for(var i=a.split("."),s=r,c=0,h=i.length-1;c<h;c++){var u=i[c];s[u]=s[u]||{},s=s[u]}s[i[c]]=we(t,o,m)}else r[a]=we(t,o,m)}}}var Oe={"account.login":"account.openLoginDialog","album.image.open":"album.image.openOld","commonUI.closeLoading":"commonUI.closeLoadingOld","commonUI.showToast":"commonUI.showToastOld","easyBrowser.openHybrid":"easyBrowser.openHybridOld","easyBrowser.performanceFlowLog":"easyBrowser.onPerformanceFlowEvent","device.getNetworkType":"device.getDeviceInfo"};function Se(e,n){if(0<n.indexOf(".")){for(var r=n.split("."),t=e,a=0,o=r.length-1;a<o;a++){var i=r[a];t[i]=t[i]||{},t=t[i]}return{methodOwner:t,methodName:r[a]}}return{methodOwner:e,methodName:n}}function Ce(e){if(e&&0<Object.keys(e).length)for(var n=$(e),r=0;r<n.length;r++){a=t=void 0;var t=u,a=n[r];if(H(a)){if(Q(a),!a.invoke)throw Error("[boxx] "+a.name+": must specify right invoke type in description");t.add(a)}}ke(this,u,L);var o,i,s,c=this;for(o in Oe)Oe.hasOwnProperty(o)&&(!c.canIUse(o)&&c.canIUse(Oe[o])?(s=Se(c,o),i=Se(c,Oe[o]),s.methodOwner[s.methodName]=i.methodOwner[i.methodName],delete i.methodOwner[i.methodName]):c.canIUse(o)&&c.canIUse(Oe[o])&&delete(s=Se(c,Oe[o])).methodOwner[s.methodName])}var xe,Ne=u;for(xe in de)if(de.hasOwnProperty(xe))try{Ne.addProcessorCreator(xe,de[xe])}catch(e){}v.forEach(Q);var Ie,Je=O?v:((Je=V(Je=u)).forEach(Q),Je),A=(u.add(Je),(n={}).env=e,n.canIUse=(Ie=u,function(e,n){return!(2===arguments.length&&!n)&&-1<Ie.apiIndex[e]}),n.call=w(u,L),n.setDefaultDescription=Ce.bind(n),n.on=L.on,n.off=L.off,n.once=L.once,n.setDebug=a,n),O={};try{O=document&&document.querySelectorAll("[data-for=boxx-description]")&&document.querySelectorAll("[data-for=boxx-description]")[0]&&document.querySelectorAll("[data-for=boxx-description]")[0].innerHTML&&JSON.parse(document.querySelectorAll("[data-for=boxx-description]")[0].innerHTML)||{},0<Object.keys(O).length?E(!0):E(!1)}catch(e){O={},console.error(e)}return A.setDefaultDescription(O),n});
