/**
 * @file shadow mixins
 * @author yangmei03 <yangmei03@baidu.com>
 */

.wuji-shadow(@code: undefined) {
    @raw: getShadow(@code);
    @type: if(extract(@raw, 1) = inside, inset, e(''));
    @x: addUnit(extract(@raw, 2), @dpr, @unit);
    @y: addUnit(extract(@raw, 3), @dpr, @unit);
    @blur: addUnit(extract(@raw, 4), @dpr, @unit);
    @cam: extract(@raw, 5);
    @color-default: getColor(@cam);
    box-shadow: @type @x @y @blur @color-default;

    & when (@multi-mode = true) and (@dark-mode = true) {
        @color-dark: getColor(@cam, dark);

        & when not (@color-dark = 'null') and not (@color-dark = @color-default) {
            @{selector-dark} & {
                box-shadow: @type @x @y @blur @color-dark;
            }
        }
    }

    & when (@multi-mode = true) and (@night-mode = true) {
        @color-night: getColor(@cam, night);

        & when not (@color-night = 'null') and not (@color-night = @color-default) {
            @{selector-night} & {
                box-shadow: @type @x @y @blur @color-night;
            }
        }
    }

    & when (@multi-mode = true) and not (@selector-default = '') {
        @{selector-default} & {
            box-shadow: @type @x @y @blur @color-default;
        }
    }
}
