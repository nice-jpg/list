/**
 * @file font mixins
 * @author Sheeta(wuhayao@gmail.com)
 */

// 字形
.wuji-font-weight(@code: undefined) when (default()) {
    font-weight: getFontWeight(@code);

    & when (getFontWeight(@code) = 600) and not (@fake-font-weight-600 = false) {
        @{selector-android} & {
            font-weight: unset;
            -webkit-text-stroke-width: 1.2pr;
        }
    }
}

// 字号
.wuji-font-size(@code: undefined, @dpr: @dpr, @unit: @unit) {
    font-size: addUnit(getFontSize(@code), @dpr, @unit);
}

// 行高=字号编码+间距编码
.wuji-line-height(@font-size, @line-spacing, @dpr: @dpr, @unit: @unit) {
    line-height: addUnit(getFontSize(@font-size) + getSpacing(@line-spacing), @dpr, @unit);
}

// 使用间距设置字体行高，适用于多行文本
.wuji-font(@font-size, @line-spacing, @font-weight: F_X01, @dpr: @dpr, @unit: @unit) {
    .wuji-font-size(@font-size, @dpr, @unit);
    .wuji-font-weight(@font-weight);
    .wuji-line-height(@font-size, @line-spacing, @dpr, @unit);
}

// .wuji-font-no-out-spacing 缩写，即文本第一行顶部与容器顶部，最后一行底部与容器底部没有间距，通过设置负 margin 得到
.wuji-font-nos(@font-size, @line-spacing, @font-weight: F_X01, @dpr: @dpr, @unit: @unit) {
    .wuji-font(@font-size, @line-spacing, @font-weight, @dpr, @unit);
    .wuji-my(@line-spacing, @dpr, @unit * -0.5);
}

// 使用倍数设置字体行高，适用于单行文本
.wuji-font-one-line(@font-size, @line-height: 1, @font-weight: F_X01, @dpr: @dpr, @unit: @unit) {
    .wuji-font-size(@font-size, @dpr, @unit);
    .wuji-font-weight(@font-weight);
    line-height: @line-height;
}
