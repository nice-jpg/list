/**
 * @file 通过UA获得当前宿主信息
 * @author changyuqing
 */
import {find} from './utils';

const uaRegMap = [
    {
        // name: '看多多',
        appname: 'baiduboxmission',
        reg: /\bmission\sbaiduboxapp\b/i,
        appid: "10006"
    },
    {
        // name: '百度APP极速版',
        appname: 'baiduboxlite',
        reg: /\b(?:lite|info) baiduboxapp\b/i,
        appid: "10001"
    },
    {
        // name: '百度APP',
        appname: 'baiduboxapp',
        reg: /\bbaiduboxapp\b/i,
        appid: "1"
    },

    {
        // name: '百度贴吧',
        appname: 'tieba',
        reg: /\btieba\b/i,
        appid: "11001"
    },
    {
        // name: '好看视频',
        appname: 'haokan',
        reg: /\bhaokan\b/i,
        appid: "11000"
    },
    {
        // name: '全民小视频',
        appname: 'quanmin',
        reg: /\bbdminivideo\b/i,
        appid: "12022"
    },
    {
        // name: '百度地图',
        appname: 'bdmap',
        reg: /\bbaidumap_/i,
        appid: "11006"
    },
    {
        // name: '百度网盘',
        appname: 'wangpan',
        reg: /\bnetdisk;/i,
        appid: "12018"
    },
    {
        // name: '宝宝知道',
        appname: 'askmybaby',
        reg: /\bmybaby\//i,
        appid: "12019"
    },
    {
        // name: '西番',
        appname: 'xifan',
        reg: /\bbdxifan\//i,
        appid: "12006"
    },
    {
        appid: "12031",
        // name: '百度手机助手',
        appname: 'sowhat'
    },
    {
        appid: "12010",
        // name: '柠檬爱美',
        appname: 'lemon',
        reg: /lemonapp/i
    },
    {
        appid: "12015",
        // name: '百家号APP',
        appname: 'baijiahao'
    },
    {
        appid: "12012",
        // name: '番乐',
        appname: 'fanle'
    },
    {
        appid: "12013",
        // name: '古物潮玩',
        appname: 'zhaocaimao'
    },
    {
        appid: "12014",
        // name: '分玩',
        appname: 'gamenow'
    },
    {
        appid: "12016",
        // name: '爱奇艺',
        appname: 'iqiyi'
    },
    {
        appid: "12017",
        // name: '百度百科',
        appname: 'baike'
    },
    {
        appid: "12023",
        // name: '新流',
        appname: 'flow'
    },
    {
        appid: "12026",
        // name: 'Robotaxi约车',
        appname: 'dutaxi'
    },
    {
        appid: "12011",
        // name: '有驾APP',
        appname: 'youjia'
    },
    {
        appid: "12020",
        // name: '内容联盟',
        appname: 'feedsunion'
    },
    {
        appid: "12021",
        // name: '一刻相册',
        appname: 'album'
    },
    {
        appid: "12024",
        // name: '页游平台',
        appname: 'webgame'
    },
    {
        appid: "12027",
        // name: 'HMI乘客端',
        appname: 'hmi_passenger'
    },
    {
        appid: "12028",
        // name: '百度文库',
        appname: 'bdwenku'
    },
    {
        appid: "12029",
        // name: '百度翻译',
        appname: 'fanyi'
    },
    {
        appid: "12030",
        // name: '百度知道',
        appname: 'iknow'
    },
    {
        appid: "12025",
        // name: '度晓晓',
        appname: 'duxiaoxiao'
    },
    {
        appid: "12032",
        // name: '百度汉语',
        appname: 'baiduhanyu'
    },
    {
        appid: "12034",
        // name: '百度经验',
        appname: 'exp'
    },
    {
        appid: "12036",
        // name: 'APP DEMO',
        appname: 'demo'
    },
    {
        appid: "12037",
        // name: '百度阅读',
        appname: 'baiduyuedu'
    },
    {
        appid: "12038",
        // name: '健康管理',
        appname: 'cdm'
    },
    {
        appid: "12040",
        // name: '微叭伴聊',
        appname: 'weiba'
    },
    {
        appid: "12041",
        // name: '百度视频版',
        appname: 'baiduboxvision'
    },
    {
        appid: "12042",
        // name: '嘻哈',
        appname: 'hiphop'
    },
    {
        appid: "12043",
        // name: 'robobus控制终端',
        appname: 'robobus-panel'
    },
    {
        appid: "12044",
        // name: '文库大学生版',
        appname: 'wenkustudent'
    },
    {
        appid: "12045",
        // name: '百度PC直播',
        appname: 'pc_live'
    },
    {
        appid: "12049",
        // name: '云上百度',
        appname: 'yunshangbaidu'
    },
    {
        appid: "12050",
        // name: '百度文库PC客户端',
        appname: 'baiduwenku_pc'
    },
    {
        appid: "12051",
        // name: '音磁',
        appname: 'yinci'
    },
    {
        appid: "12052",
        // name: '小说书城',
        appname: 'novel'
    },
    {
        appid: "12054",
        // name: '有噗',
        appname: 'yoopu'
    },
    {
        appid: "12057",
        // name: '音啵',
        appname: 'yinbo'
    },
    {
        appid: "12062",
        // name: '爱企查',
        appname: 'aiqicha'
    },
    {
        appid: "12066",
        // name: '轻竹健康',
        appname: 'Bamboo_Health'
    },
    {
        appid: "12067",
        // name: '轻竹健康医生版',
        appname: 'Bamboo_Health_Dr'
    },
    {
        appid: "12073",
        // name: '小度',
        appname: 'superduer'
    },
    {
        appid: "12074",
        // name: '百度健康',
        appname: 'baidujiankangapp'
    },
    {
        appid: "12075",
        // name: '百度爱番番',
        appname: 'bdcrm_aifanfan'
    },
    {
        appid: "12077",
        // name: '拇指医生(医生版)',
        appname: 'muzhidoctor'
    },
    {
        appid: "12079",
        // name: 'Apollo GO',
        appname: 'apollogo'
    },
    {
        appid: "12080",
        // name: '律临',
        appname: 'lvlin'
    },
    {
        appid: "12083",
        // name: '爱采购卖家版',
        appname: 'aipurchase'
    },
    {
        appid: "12088",
        // name: '百度CarLife',
        appname: 'BaiDuCarLife'
    },
    {
        appid: "12090",
        // name: '百度健康tt',
        appname: 'baidujiankangtt'
    },
    {
        appid: "12092",
        // name: '如流',
        appname: 'infoflow',
        reg: /\bbaiduhi/i
    },
    {
        appid: "12094",
        // name: 'hmi driver',
        appname: 'hmi_driver'
    },
    {
        appid: "12095",
        // name: '百度VR智慧云展',
        appname: 'vr_expo'
    },
    {
        appid: "12096",
        // name: '内容电商小程序',
        appname: 'content_ecommerce'
    },
    {
        appid: "12097",
        // name: '百度VR播控服务',
        appname: 'play_control'
    },
    {
        appid: "12098",
        // name: '爱采购买家版',
        appname: 'aipurchaser'
    },
    {
        appid: "12101",
        // name: '地图淘金',
        appname: 'ditutaojin'
    },
    {
        appid: "12102",
        // name: '高精定位SDK',
        appname: 'hp_location'
    },
    {
        appid: "12106",
        // name: '一起吧',
        appname: 'chatroom'
    },
    {
        appid: "12107",
        // name: 'Gaia数据App',
        appname: 'gaia'
    },
    {
        appid: "12108",
        // name: 'UBI商业数据App',
        appname: 'ubi'
    },
    {
        appid: "12109",
        // name: '一局',
        appname: 'yiju'
    },
    {
        appid: "12111",
        // name: '全功能AI开发平台',
        appname: 'bml'
    },
    {
        appid: "12112",
        // name: '智慧家庭助手',
        appname: 'aihome'
    },
    {
        appid: "12113",
        // name: '智慧家庭助手-孩子端',
        appname: 'aihome_children'
    },
    {
        appid: "12114",
        // name: '百度手机卫士',
        appname: 'mobsecurity'
    },
    {
        appid: "12117",
        // name: '百度APP大字版',
        appname: 'tomas'
    },
    {
        appid: "12118",
        // name: 'flutter中台',
        appname: 'baidu_flutter'
    },
    {
        appid: "12120",
        // name: '播客',
        appname: 'wepod'
    },
    {
        appid: "12121",
        // name: 'YY直播_非百度',
        appname: 'yy'
    },
    {
        appid: "12122",
        // name: '萌懂教育',
        appname: 'kidedu'
    },
    {
        appid: "12123",
        // name: '网盘极速版',
        appname: 'wangpan_faster'
    },
    {
        appid: "12124",
        // name: '随声',
        appname: 'wepod_mobile'
    },
    {
        appid: "12125",
        // name: '百度VR教育桌面应用',
        appname: 'baidu_vr_classroom_launcher'
    }
]
/**
 * 通过appname或者ua获得对应的appid
 * @param {string} [appname] 传入的appname
 * @link http://app.baidu-int.com/console/application/clientlist
 */
export const getAppByName = (appname = '') => {
    const defaultApp = {
        appname: 'other',
        appid: "12133"
    }
    if (appname) {
        let item = find(uaRegMap, item => appname === item.appname);
        return item ? item : defaultApp;
    } else {
        let ua = navigator?.userAgent || '';
        let item = find(uaRegMap, item => {
            if (item.reg) {
                return item.reg.test(ua);
            } else {
                return ua.search(item.appname) !== -1;
            }
        })
        return item ? item : defaultApp;
    }
}