"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = ready;

/**
 * @file dom ready 方法
 * @module browser
 * @author wangyongqing <wangyongqing01@baidu.com>
 */
var fnList = [];
var isReady = false;

function onReady() {
  fnList.forEach(function (fn) {
    fn();
  });
  fnList.length = 0;
  isReady = true;
}
/**
 * dom ready 方法
 * @function ready
 * @param {function} fn - 回调函数
 */


function ready(fn) {
  if (typeof fn !== 'function') {
    return;
  }

  if (isReady) {
    fn();
  } else {
    fnList.push(fn);
  }
}

if ('complete,loaded,interactive'.indexOf(document.readyState) > -1 && document.body) {
  onReady();
} else {
  document.addEventListener('DOMContentLoaded', onReady, false);
}