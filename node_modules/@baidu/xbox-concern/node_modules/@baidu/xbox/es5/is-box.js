"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _ua = _interopRequireDefault(require("./ua"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @file Created on Thu Nov 15 2018
 * @author wangyongqing <wangyongqing01@baidu.com>
 */

/**
 * 是否是手百产品，支持矩阵产品
 * @function isBox
 * @param {''|lite|pro|info|mission} [subName=''] - 手百矩阵产品标识
 * @param {string} ua - 传入的 userAgent，如果不传则取 navigator.userAgent
 * @return { boolean} 是否是手百判断结果
 * @example
 * isBoxApp()
 * isBoxApp('lite')
 * isBoxApp('pro', 'fdafafdafaf pro baiduboxapp')
 */
var _default = function _default() {
  var subName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  var ua = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _ua.default;

  if (subName === 'main') {
    subName = '';
  } // baiduboxapp: 框的常规UA
  // biduboxapp:  个别网站会触发内核的风控策略(比如域名以le.com结尾)，UA会被替换


  var reg = / (baiduboxapp|biduboxapp)\//i;

  if (reg.test(ua) === false) {
    // 框外
    return false;
  }

  var matchRes = ua.match(reg);
  var sign = matchRes[1];

  if (!~ua.indexOf("".concat(subName, " ").concat(sign))) {
    // 具体的 app ：主线 / lite / info / pro 等
    return false;
  }

  return true;
};

exports.default = _default;