/**
 * @file 组件样式 网格布局
 * @author baozhixin <baozhixin@baidu.com>
 */

@import '../../style/index.less';

@prefix-col: s-col;
@prefix-row: s-row;
@columns: 12;
@lr-space: @M;

.make-col(@size, @columns: @columns) {
    flex: 0 0 percentage(@size / @columns);
    max-width: percentage(@size / @columns);
    width: percentage(@size / @columns);
}

.make-col-offset(@size, @columns: @columns) {
    margin-left: percentage(@size / @columns);
}

.@{prefix-row} {
    margin-left: @lr-space;
    margin-right: @lr-space;
    max-width: 100%;
    // overflow: hidden;

    &-float {
        .clearfix();

        .@{prefix-col} {
            float: left;
        }
    }

    &-flex {
        display: flex;
        flex-wrap: nowrap;

        // .@{prefix-col} {
        //     flex-basis: 0;
        //     flex-grow: 1;
        //     max-width: 100%;
        //     word-break: break-all;
        //     overflow: hidden;
        // }

        .w-100 {
            width: 100%!important;
        }
    }

    &-wrap {
        flex-wrap: wrap;
    }

    &-justify-center {
        justify-content: center;
    }

    &-justify-end {
        justify-content: flex-end;
    }

    &-justify-space-between {
        justify-content: space-between;
    }

    &-justify-space-around {
        justify-content: space-around;
    }

    &-align-center {
        align-items: center;
    }

    &-align-bottom {
        align-items: flex-end;
    }
}

// 生成 s-col-# 和 s-col-offset-#
each(range(@columns), {
    .@{prefix-col}-@{value} {
        .make-col(@value);
    }
});
each(range(@columns - 1), {
    .@{prefix-col}-offset-@{value} {
        .make-col-offset(@value);
    }
});
