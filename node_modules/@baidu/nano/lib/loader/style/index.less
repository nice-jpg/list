/**
 * @file 组件样式 进度加载
 * @author baozhixin <baozhixin@baidu.com>
 */

@import '../../style/index.less';

@prefix-cls: s-loader;
// @camCodeIC79: #Compatible[@IC79];
// @camCodeIC80: #Compatible[@IC80];

.@{prefix-cls} {
    &-container {
        .theme-hairline(top, GC37);
        .theme-color(GC2);
        .theme-background(GC9);
        overflow: hidden;
        height: 156pr;
        font-size: @T6;
        text-align: center;

        > div {
            .centerfy();
            display: none;
            width: 100%;
            height: 100%;
        }
    }

    &-ing {
        .icon-wrap {
            transform: scale(.5) translateZ(0);
            margin: 0 -20pr;
        }

        .icon {
            width: 80pr;
            height: 80pr;
            border-radius: @BR0;
            animation: fliploader .8s linear infinite;
            .theme-background(IC79);

            @{selector-dark} & {
                animation-name: dark-fliploader;
            }

            @{selector-night} & {
                animation-name: night-fliploader;
                border: 40pr solid rgba(0,0,0,0.1);
                opacity: .4;
            }
        }

        .text {
            .ellipsis();
            margin-left: 24pr;
            font-size: @T8;
        }

        .state-1 & {
            .centerfy();
        }
    }

    .state-0 {
        display: none;
    }

    .state-2 &-end,
    .state-3 &-err {
        .ellipsis();
        display: flex;
    }
}

@keyframes fliploader {
    0% {
        // background-color: #Default[@@camCodeIC79];
        background-color: getColor(IC79);
        transform: rotateY(0);
    }
    40% {
        transform: rotateY(90deg);
    }
    50% {
        // background-color: #Default[@@camCodeIC80];
        background-color: getColor(IC80);
        transform: rotateY(180deg);
    }
    60% {
        transform: rotateY(270deg);
    }
    100% {
        // background-color: #Default[@@camCodeIC79];
        background-color: getColor(IC79);
        transform: rotateY(360deg);
    }
}

@keyframes dark-fliploader {
    0% {
        // background-color: #Dark[@@camCodeIC79];
        background-color: getColor(IC79, dark);
        transform: rotateY(0);
    }
    40% {
        transform: rotateY(90deg);
    }
    50% {
        // background-color: #Dark[@@camCodeIC80];
        background-color: getColor(IC80, dark);
        transform: rotateY(180deg);
    }
    60% {
        transform: rotateY(270deg);
    }
    100% {
        // background-color: #Dark[@@camCodeIC79];
        background-color: getColor(IC79, dark);
        transform: rotateY(360deg);
    }
}

@keyframes night-fliploader {
    0% {
        opacity: .4;
        transform: rotateY(0);
    }
    40% {
        transform: rotateY(90deg);
    }
    50% {
        opacity: .2;
        transform: rotateY(180deg);
    }
    60% {
        transform: rotateY(270deg);
    }
    100% {
        opacity: .4;
        transform: rotateY(360deg);
    }
}
