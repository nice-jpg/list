/**
 * @file 获取矩阵app的schema头，符合新的规范，规范地址：
 * @link http://agroup.baidu.com/share/md/0d6d1cc6b1c7417e8071057fb436001b
 * @author wangyongqing <wangyongqing01@baidu.com>
 */

import {UA} from './ua';

/**
 * 获取手百矩阵产品schema头，需要符合新的ua规范
 *
 * @param ua 传入的 userAgent，如果不传则取 navigator.userAgent
 * @return schema 头
 * @example
 * getSchemaHead()
 * getSchemaHead('bdapp/1.0 (youjia; youjia) youjia/1.0.1 (Baidu; P1 8.0.0)')
 */
export function getSchemaHead(ua = UA) {
    const match = ua.match(/\bbdapp\/\d+\.\d+\s+\(\w+;\s*(\w+)\)/);

    if (match && match[1]) {
        return match[1];
    }

    return 'baiduboxapp';
}
