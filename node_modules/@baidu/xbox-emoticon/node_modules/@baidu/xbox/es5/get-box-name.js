"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _isBox = _interopRequireDefault(require("./is-box"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @file 获取手百版本
 * @author wangyongqing01
 */
var UA = typeof window !== 'undefined' && window.self === window ? navigator.userAgent : '';
/**
 * 获取手百的矩阵产品名
 * @function getBoxName
 * @param {String} [ua=userAgent] - 需要判断的 userAgent
 * @return {any} 返回 lite、pro、main、info、mission 及 false，false 是非手百
 * @example
 * getAppName(); // main
 */

var _default = function _default() {
  var ua = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : UA;

  if (ua && (0, _isBox.default)('', ua)) {
    var m = /\s(lite|pro|info|mission)\sbaiduboxapp\//.exec(ua);

    if (m) {
      return m[1];
    }

    return 'main';
  } else if (ua && /\sbdapp\/\d+\.\d+\s/.test(ua)) {
    // 支持最新的matrix ua规范：
    // http://agroup.baidu.com/share/md/0d6d1cc6b1c7417e8071057fb436001b
    var _m = ua.match(/\bbdapp\/\d+\.\d+\s+\((\w+);\s*(\w+)\)/);

    if (_m && _m[1]) {
      return _m[1];
    }
  }

  return false;
};

exports.default = _default;