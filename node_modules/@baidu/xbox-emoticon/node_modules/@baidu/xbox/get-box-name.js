/**
 * @file 获取手百版本
 * @author wangyongqing01
 */
import isBoxApp from './is-box';
const UA = typeof window !== 'undefined' && window.self === window ? navigator.userAgent : '';
/**
 * 获取手百的矩阵产品名
 * @function getBoxName
 * @param {String} [ua=userAgent] - 需要判断的 userAgent
 * @return {any} 返回 lite、pro、main、info、mission 及 false，false 是非手百
 * @example
 * getAppName(); // main
 */
export default (ua = UA) => {
    if (ua && isBoxApp('', ua)) {
        let m = /\s(lite|pro|info|mission)\sbaiduboxapp\//.exec(ua);
        if (m) {
            return m[1];
        }

        return 'main';
    } else if (ua && /\sbdapp\/\d+\.\d+\s/.test(ua)) {
        // 支持最新的matrix ua规范：
        // http://agroup.baidu.com/share/md/0d6d1cc6b1c7417e8071057fb436001b
        let m = ua.match(/\bbdapp\/\d+\.\d+\s+\((\w+);\s*(\w+)\)/);
        if (m && m[1]) {
            return m[1];
        }
    }
    return false;
};
