/**
 * @file: utils.js
 * @des: 通用方法库
 * @author: zhangjiaqi03
 * @date: 2020-08-17 17:30:44
 * @last modified by:   zhangjiaqi03
 * @last modified time: 2020-08-17 17:30:44
 */

/**
 * 将给定对象转成序列化的 queryString
 *
 * @param {Object} query 待转换对象
 * @return {string} queryString
 */
export function toQueryString(query) {
    const search = Object.keys(query)
        .reduce((res, key) => {
            const value = query[key];
            res += '&' + key + '=' + encodeURIComponent(value);
            return res;
        }, '');
    return search.slice(1);
}

/**
 * 生成一个随机id
 *
 * @return {string} id
 */
export function getId() {
    let str = '';
    const dict = 'abcdefghijklmnopqrstuvwxyz01234567890';
    for (let i = 0, length = 8; i < length; ++i) {
        str += dict[Math.floor(Math.random() * dict.length)];
    }
    return str;
}
