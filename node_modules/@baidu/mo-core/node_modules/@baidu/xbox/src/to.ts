/**
 * @file 类型转换
 * @author wangyongqing <wangyongqing01@baidu.com>
 */

import {isNil, isString} from './is';

/**
 * 将传入的对象转换成数组
 *
 * @param arrayLike 被转对象
 * @return 返回array
 */
export function toArray(arrayLike: ArrayLike<unknown>) {
    return [].slice.call(arrayLike);
}

/**
 * 将传入的对象转换成数字
 *
 * @param value 被转对象
 * @param [defaultValue=null] 如果不能转，默认返回值
 * @return 返回 number
 */
export function toNumber(value: unknown, defaultValue: unknown = null) {
    if (isNil(value)) {
        return defaultValue;
    }

    return Number(value);
}

/**
 * 将传入的对象返回布尔
 *
 * @param value 被转对象
 * @param [defaultValue=false] 如果不能转，默认返回值
 * @return 返回boolean
 */
export function toBoolean(value: unknown, defaultValue: unknown = false) {
    if (isNil(value)) {
        return defaultValue;
    }

    return Boolean(value);
}

/**
 * 将传入对象返回字符串
 *
 * @function toString
 * @param value 被转对象
 * @param [defaultValue=null] 如果不能转，默认返回值
 * @return 返回字符串
 */
export function toString(value: unknown, defaultValue: unknown = null) {
    if (isNil(value)) {
        return defaultValue;
    }

    if (isString(value)) {
        return value as string;
    }

    return String(value);
}
