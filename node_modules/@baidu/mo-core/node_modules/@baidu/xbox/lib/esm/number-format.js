/**
 * @file 数字格式化
 * @author jiangxinge <jiangxinge@baidu.com>
 * @see http://ku.baidu-int.com/knowledge/HFVrC7hq1Q/pKzJfZczuc/t1_ZiJfMEE/KYJj6ddrNIfVGD
 */
/**
 * 高精度格式化
 * @param n 原始数字
 * @returns 格式化后的字符串
 */
function precisionHigh(n) {
    if (n < 1e4) {
        return '' + n;
    }
    else if (n < 1e5) {
        return Math.round(n / 1e3) / 10 + '万';
    }
    else if (n < 1e8) {
        return Math.round(n / 1e4) + '万';
    }
    else if (n < 1e9) {
        return Math.round(n / 1e7) / 10 + '亿';
    }
    return Math.round(n / 1e8) + '亿';
}
/**
 * 低精度格式化
 * @param n 原始数字
 * @returns 格式化后的字符串
 */
function precisionLow(n) {
    if (n >= 1e8) {
        return Math.round(n / 1e7) / 10 + '亿';
    }
    else if (n >= 1e4) {
        return Math.round(n / 1e3) / 10 + '万';
    }
    return '' + n;
}
/**
 * 数字格式化
 * @param num 原始数字
 * @param mode 精度模式，取值'high'|'low'，默认值‘high’
 * @returns 格式化后的字符串
 */
export function numberFormat(num, mode = 'high') {
    const n = !num || num < 0 ? 0 : num;
    if (mode === 'low') {
        // 低精度
        return precisionLow(n);
    }
    // 高精度
    return precisionHigh(n);
}
