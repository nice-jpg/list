/**
 * @file 打开HN页面
 * @author panming
 * @date 2019-02-20 18:32:00
 */

import register from '../register';
import {getParams} from '../utils';
import stringify from '../stringify';
import {open} from './index';

register(
    'HTMLNative/open',
    {
        v: 19,
        versionRange: ['10.3'],
        filter: data => {
            data.backupURL = data.backup;
            delete data.backup;

            return {
                module: 'utils',
                action: 'invokeHNPage',
                data: {
                    params: stringify(data, true)
                }
            };
        }
    },
);

export default (params = {}) => {
    return open(getParams('HTMLNative', params));
};
