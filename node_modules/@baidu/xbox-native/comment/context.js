/**
 * @file 评论 context 上下文
 * @module comment
 * @author wangyongqing <wangyongqing01@baidu.com>
 */

import {version_compare, getBoxVersion, isMatrix} from '../detect';
import {invokeP} from '../invoke';
import json2params from '../json2params';
import {COMMAND_NOT_EXIST} from '../const';
/**
 * 获取评论上下文
 * @function context
 * @param {object} params - 获取评论上下文参数对象
 * @return {Promise}
 */
export default params => {
    const version = getBoxVersion();
    if (version_compare(version, '9.1') >= 0 || isMatrix()) {
        return invokeP('v12/comment/context', {params: json2params(params)});
    }
    return Promise.reject(COMMAND_NOT_EXIST);
};
