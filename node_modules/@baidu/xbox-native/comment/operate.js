/**
 * @file  评论操作
 * @module comment
 * @author wangyongqing <wangyongqing01@baidu.com>
 */
import {version_compare, getBoxVersion} from '../detect';
import {invokeP} from '../invoke';
import json2params from '../json2params';
import {COMMAND_NOT_EXIST} from '../const';

/**
 * 评论操作
 * @function operate
 * @param {object} params - 评论参数对象
 * @return {Promise}
 */
export default params => {
    const version = getBoxVersion();
    if (version_compare(version, '9.1.5') >= 0) {
        return invokeP('v11/comment/operate', {params: json2params(params)});
    }
    return Promise.reject(COMMAND_NOT_EXIST);
};
