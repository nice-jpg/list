"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _detect = require("../detect");

var _stringify = _interopRequireDefault(require("../stringify"));

var _index = _interopRequireDefault(require("../ios/index"));

var _index2 = require("../android/index");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @file 
 * @author panming <panming@baidu.com>
 */
var _default = function _default(arValue) {
  if ((0, _detect.isBox)()) {
    if ((0, _detect.isAndroid)()) {
      var intent = ['intent:widgetid://com.baidu.searchbox/-1#Intent;' + 'action=com.baidu.searchbox.action.ar_invoke;' + 'category=android.intent.category.LAUNCHER;' + 'component=com.baidu.searchbox/.CodeScannerActivity;' + 'launchFlags=0x10000000;S.arValue=' + (0, _stringify.default)(arValue) + ';end'];
      (0, _index2.prompt)('Bdbox_android_send_intent', 'send', intent);
      return Promise.resolve();
    } else {
      var cmd = 'baiduboxapp://imagesearch?action=ar_invoke&arValue=' + (0, _stringify.default)(arValue);
      (0, _index.default)(cmd);
      return Promise.resolve();
    }
  }

  return Promise.reject({
    errCode: 902,
    errMsg: '手百外无法调用端能力'
  });
};

exports.default = _default;