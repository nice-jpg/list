"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.paramsFilter = exports.default = exports.off = exports.on = exports.fire = void 0;

var _index = _interopRequireDefault(require("boxjs/dist/components/event/index"));

var _is = require("@baidu/xbox/es5/is");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @file event
 * @author wangyongqing01@baidu.com
 */
var fire = _index.default.fire,
    on = _index.default.on,
    off = _index.default.off;
exports.off = off;
exports.on = on;
exports.fire = fire;
var _default = _index.default;
exports.default = _default;

var paramsFilter = function paramsFilter(data) {
  var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

  if (data.name === 'tts') {
    data.action = 'com.baidu.channel.tts.statuschange';
  } else {
    data.action = 'com.baidu.channel.' + data.name;
  }

  delete data.name;

  if (encode) {
    for (var key in data) {
      if ((0, _is.isPlainObject)(data[key])) {
        data[key] = JSON.stringify(data[key]);
      }
    }
  }

  return data;
};

exports.paramsFilter = paramsFilter;