"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isAndroid = isAndroid;
exports.isIOS = isIOS;
exports.getOSName = getOSName;
exports.getOSVersion = getOSVersion;

var _ua = _interopRequireDefault(require("./ua"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * 这里是精简版本的 is
 * @module os
 * @file Created on Mon Nov 26 2018
 * @author wangyongqing <wangyongqing01@baidu.com>
 */

/**
 * 是否是安卓
 * @function isAndroid
 * @param {string} ua - ua 默认是 userAgent
 */
function isAndroid() {
  var ua = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _ua.default;
  return /(Android);?[\s/]+([\d.]+)?/.test(ua);
}
/**
 * 是否是ios
 * @function isIOS
 * @param {string} ua - ua 默认是 userAgent
 */


function isIOS() {
  var ua = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _ua.default;
  return /(iPhone|iPod|iPad)/.test(ua);
}
/**
 * 获取系统名称
 * @function getOSName
 * @return {string} ios/android/unknown
 */


function getOSName() {
  var ua = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _ua.default;
  return isIOS(ua) ? 'ios' : isAndroid(ua) ? 'android' : 'unknown';
}
/**
 * getOsVersion 获取系统版本
 * @function getOSVersion
 * @param {string} ua - ua 默认是浏览器 ua
 */


function getOSVersion() {
  var ua = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _ua.default;
  var android = ua.match(/(Android);?\s+([\d.]+)?/);

  if (android) {
    return android[2];
  }

  var iphone = ua.match(/(iPhone\sOS)\s([\d_]+)/);

  if (iphone) {
    return iphone[2].replace(/_/g, '.');
  }

  return 0;
}