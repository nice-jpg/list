"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = extend;

var _is = require("./is");

/**
 * @file 对象深度merge方法
 * @author yanyiting <yanyiting@baidu.com>
 */
function merge(target, source) {
  for (var key in source) {
    if ((0, _is.isPlainObject)(source[key]) || (0, _is.isArray)(source[key])) {
      if ((0, _is.isPlainObject)(source[key]) && !(0, _is.isPlainObject)(target[key])) {
        target[key] = {};
      }

      if ((0, _is.isArray)(source[key]) && !(0, _is.isArray)(target[key])) {
        target[key] = [];
      }

      merge(target[key], source[key]);
    } else if (!(0, _is.isUndefined)(source[key])) {
      target[key] = source[key];
    }
  }
}

function extend(target) {
  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    args[_key - 1] = arguments[_key];
  }

  if ((0, _is.isBoolean)(target)) {
    target = args.shift();
  }

  args.forEach(function (arg) {
    merge(target, arg);
  });
  return target;
}