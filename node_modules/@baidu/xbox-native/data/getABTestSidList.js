/**
 * @file Created on Thu Nov 15 2018
 * @module data
 * @author wangyongqing <wangyongqing01@baidu.com>
 */

import register from '../register';
import {get} from './index';
const thunk = res => {
    let sidData;
    let sid = '';
    try {
        sidData = res.data;
        if (sidData && sidData.length > 0) {
            let sidList = [];
            for (let i in sidData) {
                sidList.push(sidData[i][0] + '_' + sidData[i][1]);
            }
            sid = sidList.join('-');
        }
        return {
            status: 0,
            data: {
                data: sid
            }
        };
    } catch (e) {
        console.log(e);
    }
};
register('utils/getABTestSidList', {
    androidlite: {
        versionRange: ['2.2.2']
    },
    androidinfo: {
        versionRange: ['1.0']
    },
    androidmission: {
        versionRange: ['1.0']
    },
    iosmission: {
        versionRange: ['1.0']
    },
    ios: {
        versionRange: ['7.3'],
        thunk
    },
    android: {
        versionRange: ['7.3'],
        filter() {
            return {
                module: 'Bdbox_android_utils',
                action: 'getABTestSidList'
            };
        },
        thunk
    }
});
/**
 * 获取 getABTestSidList
 * @function getABTestSidList
 */
export default () =>
    get({
        name: 'utils-ABTestSidList'
    });
