/**
 * @file 调用设置头像端能力提示弹层
 * @module account
 * @author wangyongqing <wangyongqing01@baidu.com>
 */

import {invokeP} from '../invoke';
import {COMMAND_NOT_EXIST} from '../const';
import {isIOS, isAndroid, isMatrix, version_compare, getBoxVersion} from '../detect';
/**
 * @function avatarTip
 * @param {object} options - 调起参数，{alertCallback:xxx}
 * @param {number} upgrade - 低版本是否强制升级，默认是**强制**
 * @return {Promise} promise - Promise
 */
export default params => {
    const version = getBoxVersion();
    if (isMatrix('baiduboxvision')
     || version_compare(version, '9.3.5') >= 0
     || isAndroid()
     || (isIOS() && version_compare(version, '10.0') >= 0)) {
        return invokeP('v15/account/profile/alertportrait', {
            params
        });
    }
    return Promise.reject(COMMAND_NOT_EXIST);
};
