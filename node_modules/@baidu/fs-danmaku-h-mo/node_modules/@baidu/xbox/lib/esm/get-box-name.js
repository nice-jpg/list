/**
 * @file 获取手百版本标识
 * @author wangyongqing01
 */
import { isBox } from './is-box';
import { UA } from './ua';
/**
 * 获取手百的矩阵产品名
 *
 * @param [ua=userAgent] - 需要判断的 userAgent
 * @return 返回 lite、pro、main、info、mission 及 false，false 是非手百
 * @example
 * getAppName(); // main
 * getBoxName(' lite baiduboxapp/12.3.0'); // lite
 * getBoxName('bdapp/1.0 (youjia; youjia) youjia/1.0.1 (Baidu; P1 8.0.0)'); // youjia
 */
export function getBoxName(ua = UA) {
    if (ua && isBox('', ua)) {
        const match = /\s(lite|pro|info|mission)\sbaiduboxapp\//.exec(ua);
        if (match) {
            return match[1];
        }
        return 'main';
    }
    else if (ua && /\bbdapp\/\d+\.\d+\s/.test(ua)) {
        // 支持最新的matrix ua规范：
        // http://agroup.baidu.com/share/md/0d6d1cc6b1c7417e8071057fb436001b
        const match = ua.match(/\bbdapp\/\d+\.\d+\s+\((\w+);\s*(\w+)\)/);
        if (match && match[1]) {
            return match[1];
        }
    }
    return false;
}
