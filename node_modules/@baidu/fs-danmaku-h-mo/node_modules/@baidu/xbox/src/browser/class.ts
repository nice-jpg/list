/**
 * @file: class 类名处理
 * @author: xulinfeng@baidu.com
 * @date:   2019-11-27 18:38:45
 */

/**
 * 去除字符串前后空格
 *
 * @param str 源字符串
 */
export function trim(str: string) {
    return str.replace(/(^\s*)|(\s*$)/g, '');
}

/**
 * 元素是否包含类名
 *
 * @param obj 元素
 * @param cls 类名
 */
export function hasClass(obj: Element, cls: string) {
    return new RegExp(`(\s|^)${cls}(\s|$)`).test(obj.className);
}

/**
 * 元素添加类名
 *
 * @param obj 元素
 * @param cls 类名
 */
export function addClass(obj: Element, cls: string) {
    if (!hasClass(obj, cls)) {
        obj.className = trim(obj.className) + ' ' + cls;
    }
    return obj;
}

/**
 * 元素移除类名
 *
 * @param obj 元素
 * @param cls 类名
 * @return 元素对象
 */
export function removeClass(obj: Element, cls: string) {
    if (hasClass(obj, cls)) {
        let reg = new RegExp(`(\s|^)${cls}(\s|$)`);
        obj.className = trim(obj.className.replace(reg, ' '));
    }
    return obj;
}
