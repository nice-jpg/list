{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-native/invoke.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-native/invoke.js","mtime":1696919509757},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuYXNzaWduIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSBpbnZva2U7CmV4cG9ydHMuaW52b2tlUCA9IGludm9rZVA7CmV4cG9ydHMueFJlZ2lzdGVyID0geFJlZ2lzdGVyOwoKdmFyIF9zbGljZWRUb0FycmF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5IikpOwoKdmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9saWFvaHVhbnl1L3Byb2plY3RzL2JhaWR1LXdvcmsvYmFpZHUvZmVlZDMvbXVsdGktcGFnZXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkiKSk7Cgp2YXIgX2RldGVjdCA9IHJlcXVpcmUoIi4vZGV0ZWN0Iik7Cgp2YXIgX3R5cGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkBiYWlkdS94Ym94L3R5cGUiKSk7Cgp2YXIgX2pzb24ycGFyYW1zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL2pzb24ycGFyYW1zIikpOwoKdmFyIF9pb3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vaW9zIikpOwoKdmFyIF9hbmRyb2lkID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL2FuZHJvaWQiKSk7Cgp2YXIgX2pzb24ycXVlcnkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkBiYWlkdS94Ym94L2pzb24ycXVlcnkiKSk7Cgp2YXIgX2NvbnN0ID0gcmVxdWlyZSgiLi9jb25zdCIpOwoKdmFyIF9vcyA9IHJlcXVpcmUoIkBiYWlkdS94Ym94L29zIik7Cgp2YXIgX2dldEJveE5hbWUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkBiYWlkdS94Ym94L2dldC1ib3gtbmFtZSIpKTsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKLyoqCiAqIOaWsOiwg+i1t+iDveWKm++8jOWujOWFqCBzY2hlbWUg5b2i5byP77yM5pSv5oyBIGlvcyDlkozlronljZPnm7jlkIzmiJbogIXkuI3lkIzvvIwKICog5LiN5ZCM5pe277yM5YWI5LygIGFuZHJvaWTlkI4gaW9z77yI6aaW5a2X5q+N5o6S5bqP77yJCiAqIOW/hemhuyBiYWlkdWJveGFwcCDlvIDlpLQKICogQGZ1bmN0aW9uIGludm9rZQogKiBAcGFyYW0ge3N0cmluZ30gYXJnczAgLSDlronljZPosIPotbcgc2NoZW1hCiAqIEBwYXJhbSB7c3RyaW5nfSBhcmdzMSAtIGlvc+iwg+i1tyBzY2hlbWHvvIzlpoLmnpznm7jlkIznnIHnlaXmlLnlj4LmlbAKICovCmZ1bmN0aW9uIGludm9rZSgpIHsKICBpZiAoISgwLCBfZGV0ZWN0LmlzQm94KSgpICYmICEoMCwgX2RldGVjdC5pc01hdHJpeCkoKSkgewogICAgcmV0dXJuOwogIH0KCiAgdmFyIGFzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzBdOyAvLyDlronljZMgaW9zIOWFrOeUqOS4gOS4quebuOWQjOeahCBzY2hlbWUKCiAgdmFyIGlzID0gKGFyZ3VtZW50cy5sZW5ndGggPD0gMSA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1sxXSkgPyBhcmd1bWVudHMubGVuZ3RoIDw9IDEgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMV0gOiBhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF07CgogIGlmICgoMCwgX2RldGVjdC5pc0lPUykoKSAmJiBpcykgewogICAgKDAsIF9pb3MuZGVmYXVsdCkoZ2V0VmFsaWRTY2hlbWUoaXMpKTsKICB9IGVsc2UgaWYgKCgwLCBfZGV0ZWN0LmlzQW5kcm9pZCkoKSAmJiBhcykgewogICAgKDAsIF9hbmRyb2lkLmRlZmF1bHQpKGdldFZhbGlkU2NoZW1lKGFzKSk7CiAgfQp9CgpmdW5jdGlvbiBnZXRWYWxpZFNjaGVtZShzY2hlbWEpIHsKICAvLyDpg73mmK/ku6UgYmFpZHVib3gg5byA5aS05YyF5ous77yMYmFpZHVib3hhcHAsYmFpZHVib3htaXNzaW9uCiAgaWYgKCgwLCBfdHlwZS5kZWZhdWx0KShzY2hlbWEpID09PSAnc3RyaW5nJyAmJiBzY2hlbWEuaW5kZXhPZignYmFpZHVib3gnKSAhPT0gMCkgewogICAgcmV0dXJuICdiYWlkdWJveGFwcDovLycgKyBzY2hlbWE7CiAgfQoKICByZXR1cm4gc2NoZW1hOwp9Ci8qKgogKiBQcm9taXNlIOiwg+i1t+WRveS7pO+8jGhvc3Qg5ZKMIHBhcmFtcyDliIblvIDlpITnkIbvvIzmlK/mjIHlh73mlbDnm7TmjqXkvKDlhaUKICogQHBhcmFtIHtTdHJpbmd9IGFjdGlvbiAtIHNjaGVtYSBob3N0IOmDqOWIhgogKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zIC0g5Y+C5pWwCiAqIEBwYXJhbSB7c3RyaW5nfSBzY2hlbWFIZWFkIC0gc2NoZW1hIOWktO+8jOm7mOiupCBiYWlkdWJveGFwcAogKiBAcmV0dXJuIHtQcm9taXNlfQogKi8KCgpmdW5jdGlvbiBpbnZva2VQKGFjdGlvbikgewogIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogIHZhciBzY2hlbWFIZWFkID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnYmFpZHVib3hhcHAnOwoKICBpZiAoISgwLCBfZGV0ZWN0LmlzQm94KSgpICYmICEoMCwgX2RldGVjdC5pc01hdHJpeCkoKSkgewogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KF9jb25zdC5OT1RfSU5fQk9YKTsKICB9CgogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICB2YXIgdG1wID0gcGFyYW1zLnBhcmFtcyB8fCB7fTsKCiAgICBpZiAoaXNFbXB0eU9iamVjdCh0bXApIHx8IHRtcCA9PT0gJyU3QiU3RCcgfHwgdG1wID09PSAne30nKSB7CiAgICAgIC8vIOWIoOmZpOepuueahHBhcmFtc+WvueixoQogICAgICBkZWxldGUgcGFyYW1zLnBhcmFtczsKICAgIH0gZWxzZSBpZiAoKDAsIF90eXBlLmRlZmF1bHQpKHRtcCkgPT09ICdvYmplY3QnKSB7CiAgICAgIHBhcmFtcy5wYXJhbXMgPSAoMCwgX2pzb24ycGFyYW1zLmRlZmF1bHQpKHRtcCk7CiAgICB9CgogICAgdmFyIHF1ZXJ5ID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwYXJhbXMpLCB7fSwgewogICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2socmVzdWx0KSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXN1bHQ7CgogICAgICAgIGlmICgoMCwgX3R5cGUuZGVmYXVsdCkocmVzdWx0KSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdCk7CiAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKCtkYXRhLnN0YXR1cyA9PT0gMCkgewogICAgICAgICAgcmVzb2x2ZShkYXRhLmRhdGEpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgcmVqZWN0KGRhdGEpOwogICAgICB9CiAgICB9KTsKCiAgICB2YXIgc2VhcmNoID0gKDAsIF9qc29uMnF1ZXJ5LmRlZmF1bHQpKHF1ZXJ5KTsKICAgIHZhciBzY2hlbWEgPSAiIi5jb25jYXQoc2NoZW1hSGVhZCwgIjovLyIpLmNvbmNhdChhY3Rpb24sICI/IikuY29uY2F0KHNlYXJjaCk7CiAgICBpbnZva2Uoc2NoZW1hKTsKICB9KTsKfQovKioKICog5paw54mI5pys55qE5rOo5YaM77yM5Y+q55So5LqO5a6J5Y2T5ZKMIGlvcyDnm7jlkIznmoQgc2NoZW1lIOexu++8jOi/lOWbniBwcm9taXNlCiAqIEBmdW5jdGlvbiB4UmVnaXN0ZXIKICogQHBhcmFtIHtBcnJheXxTdHJpbmd9IHJhbmdlIC0g54mI5pys6IyD5Zu0CiAqIEBwYXJhbSB7U3RyaW5nfSBhY3Rpb24gLSBhY3Rpb24g6YOo5YiG77yM5Y675o6JIHYg6YOo5YiG77yM5L6L5aaCdjI2L3N3YW7lrp7pmYXkvKDlhaUgc3dhbuOAguOAguOAgiB2eHgg5LmL5ZCO55qECiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSDlj4LmlbDpg6jliIbvvIzkvovlpoIgcGFyYW1zPXt1cmx977yM5Lyg5YWle3VybH3ljbPlj68KICogQHBhcmFtIHtTdHJpbmd9IHNjaGVtYUhlYWQgLSBzY2hlbWUg5aS0CiAqIEByZXR1cm4ge1Byb21pc2V9CiAqIEBleGFtcGxlCiAqICB4UmVnaXN0ZXIoCiAgICAgICAgewogICAgICAgICAgICBsaXRlOiB7CiAgICAgICAgICAgICAgICB2OiAzNCwKICAgICAgICAgICAgICAgIHZlcnNpb25SYW5nZTogJzMuOScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbWFpbjogewogICAgICAgICAgICAgICAgdjogNDEsCiAgICAgICAgICAgICAgICB2ZXJzaW9uUmFuZ2U6ICcxMS4zLjUnCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICdhdWRpby9wbGF5U291bmQnLAogICAgICAgIHt1cmx9CiAgICApOwogKi8KCgpmdW5jdGlvbiB4UmVnaXN0ZXIoKSB7CiAgdmFyIHJhbmdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgdmFyIHNjaGVtYUhlYWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6ICdiYWlkdWJveGFwcCc7CgogIGlmICghKDAsIF9kZXRlY3QuaXNCb3gpKCkpIHsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChfY29uc3QuTk9UX0lOX0JPWCk7CiAgfQoKICB2YXIgb3NuYW1lID0gKDAsIF9vcy5nZXRPU05hbWUpKCk7CiAgdmFyIGJveG5hbWUgPSAoMCwgX2dldEJveE5hbWUuZGVmYXVsdCkoKTsgLy8g5LyY5YWI6K+75Y+WIGFuZHJvaWRtaXNzaW9uIOi/meS4qu+8jOeEtuWQjuaYryBtaXNzaW9uKGlvcythbmRyb2lk5YWo5bmz5Y+wKe+8jOacgOWQjuS4u+advyBhbmRyb2lkL2lvcwoKICB2YXIgb3B0ID0gcmFuZ2VbIiIuY29uY2F0KG9zbmFtZSkuY29uY2F0KGJveG5hbWUpXSB8fCByYW5nZVtib3huYW1lXSB8fCByYW5nZVtvc25hbWVdOyAvLyDlv4XpobvopoHmnIkgdgoKICBpZiAob3B0ICYmIG9wdC52KSB7CiAgICB2YXIgdmVyc2lvbiA9ICgwLCBfZGV0ZWN0LmdldEJveFZlcnNpb24pKGJveG5hbWUpOwogICAgdmFyIHZlcnNpb25SYW5nZSA9IG9wdC52ZXJzaW9uUmFuZ2U7CgogICAgaWYgKCgwLCBfdHlwZS5kZWZhdWx0KSh2ZXJzaW9uUmFuZ2UpID09PSAnc3RyaW5nJykgewogICAgICAvLyDmlK/mjIEgJzMuOS03LjAnIOWGmeazlQogICAgICB2ZXJzaW9uUmFuZ2UgPSB2ZXJzaW9uUmFuZ2Uuc3BsaXQoJy0nKTsKICAgIH0KCiAgICB2YXIgX3ZlcnNpb25SYW5nZSA9IHZlcnNpb25SYW5nZSwKICAgICAgICBfdmVyc2lvblJhbmdlMiA9ICgwLCBfc2xpY2VkVG9BcnJheTIuZGVmYXVsdCkoX3ZlcnNpb25SYW5nZSwgMiksCiAgICAgICAgc3RhcnRWID0gX3ZlcnNpb25SYW5nZTJbMF0sCiAgICAgICAgZW5kViA9IF92ZXJzaW9uUmFuZ2UyWzFdOwoKICAgIGlmICgoMCwgX2RldGVjdC52ZXJzaW9uX2NvbXBhcmUpKHZlcnNpb24sIHN0YXJ0VikgPj0gMCAmJiAoIWVuZFYgfHwgZW5kViAmJiAoMCwgX2RldGVjdC52ZXJzaW9uX2NvbXBhcmUpKHZlcnNpb24sIGVuZFYpIDw9IDApKSB7CiAgICAgIHBhcmFtcyA9IG9wdC5wYXJhbXMgPyBvcHQucGFyYW1zIDogcGFyYW1zOwogICAgICB2YXIgb3RoZXJzID0ge307CgogICAgICBpZiAocGFyYW1zLnBhcmFtcykgewogICAgICAgIC8vIOWQq+aciSBwYXJhbXMg55qEIHBhcmFtcyA9IHtwYXJhbXM6IHt9LCB1cGdyYWRlOjF9CiAgICAgICAgdmFyIHRtcCA9IE9iamVjdC5hc3NpZ24oe30sIHBhcmFtcy5wYXJhbXMpOwogICAgICAgIHBhcmFtcy5wYXJhbXMgPSBudWxsOyAvLyDliKDkuI3mjonvvJ8KCiAgICAgICAgZGVsZXRlIHBhcmFtcy5wYXJhbXM7CiAgICAgICAgb3RoZXJzID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyYW1zKTsKICAgICAgICBwYXJhbXMgPSB0bXA7CiAgICAgIH0KCiAgICAgIHZhciBhcmdzID0ge307CgogICAgICBpZiAob3RoZXJzICYmICgwLCBfdHlwZS5kZWZhdWx0KShvdGhlcnMpID09PSAnb2JqZWN0JykgewogICAgICAgIGFyZ3MgPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgIHBhcmFtczogKDAsIF9qc29uMnBhcmFtcy5kZWZhdWx0KShwYXJhbXMpCiAgICAgICAgfSwgb3RoZXJzKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhcmdzID0gewogICAgICAgICAgcGFyYW1zOiAoMCwgX2pzb24ycGFyYW1zLmRlZmF1bHQpKHBhcmFtcykKICAgICAgICB9OwogICAgICB9IC8vIOWFvOWuuSBhY3Rpb24g5LiN5LiA5qC355qE5oOF5Ya177yM55u05o6l5YaZ5Zyo6YWN572u6YeM6Z2iCgoKICAgICAgYWN0aW9uID0gInYiLmNvbmNhdChvcHQudiwgIi8iKS5jb25jYXQob3B0LmFjdGlvbiA/IG9wdC5hY3Rpb24gOiBhY3Rpb24pOwogICAgICByZXR1cm4gaW52b2tlUChhY3Rpb24sIGFyZ3MsIHNjaGVtYUhlYWQpOwogICAgfQogIH0KCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KF9jb25zdC5DT01NQU5EX05PVF9FWElTVCk7Cn0KCmZ1bmN0aW9uIGlzRW1wdHlPYmplY3Qob2JqKSB7CiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0Owp9"},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-native/invoke.js"],"names":["invoke","as","is","getValidScheme","schema","indexOf","invokeP","action","params","schemaHead","Promise","reject","NOT_IN_BOX","resolve","tmp","isEmptyObject","query","callback","result","data","JSON","parse","e","console","log","status","search","xRegister","range","osname","boxname","opt","v","version","versionRange","split","startV","endV","others","Object","assign","args","COMMAND_NOT_EXIST","obj","keys","length","constructor"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASA,MAAT,GAAyB;AACpC,MAAI,CAAC,oBAAD,IAAY,CAAC,uBAAjB,EAA6B;AACzB;AACH;;AACD,MAAIC,EAAE,mDAAN,CAJoC,CAKpC;;AACA,MAAIC,EAAE,GAAG,wJAAT;;AACA,MAAI,wBAAWA,EAAf,EAAmB;AACf,sBAAUC,cAAc,CAACD,EAAD,CAAxB;AACH,GAFD,MAEO,IAAI,4BAAeD,EAAnB,EAAuB;AAC1B,0BAAcE,cAAc,CAACF,EAAD,CAA5B;AACH;AACJ;;AAED,SAASE,cAAT,CAAwBC,MAAxB,EAAgC;AAC5B;AACA,MAAI,mBAAKA,MAAL,MAAiB,QAAjB,IAA6BA,MAAM,CAACC,OAAP,CAAe,UAAf,MAA+B,CAAhE,EAAmE;AAC/D,WAAO,mBAAmBD,MAA1B;AACH;;AACD,SAAOA,MAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;AACO,SAASE,OAAT,CAAiBC,MAAjB,EAAkE;AAAA,MAAzCC,MAAyC,uEAAhC,EAAgC;AAAA,MAA5BC,UAA4B,uEAAf,aAAe;;AACrE,MAAI,CAAC,oBAAD,IAAY,CAAC,uBAAjB,EAA6B;AACzB,WAAOC,OAAO,CAACC,MAAR,CAAeC,iBAAf,CAAP;AACH;;AACD,SAAO,IAAIF,OAAJ,CAAY,UAACG,OAAD,EAAUF,MAAV,EAAqB;AACpC,QAAIG,GAAG,GAAGN,MAAM,CAACA,MAAP,IAAiB,EAA3B;;AACA,QAAIO,aAAa,CAACD,GAAD,CAAb,IAAsBA,GAAG,KAAK,QAA9B,IAA0CA,GAAG,KAAK,IAAtD,EAA4D;AACxD;AACA,aAAON,MAAM,CAACA,MAAd;AACH,KAHD,MAGO,IAAI,mBAAKM,GAAL,MAAc,QAAlB,EAA4B;AAC/BN,MAAAA,MAAM,CAACA,MAAP,GAAgB,0BAAYM,GAAZ,CAAhB;AACH;;AAED,QAAME,KAAK,mCACJR,MADI;AAEPS,MAAAA,QAFO,oBAEEC,MAFF,EAEU;AACb,YAAIC,IAAI,GAAGD,MAAX;;AACA,YAAI,mBAAKA,MAAL,MAAiB,QAArB,EAA+B;AAC3B,cAAI;AACAC,YAAAA,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWH,MAAX,CAAP;AACH,WAFD,CAEE,OAAOI,CAAP,EAAU;AACRC,YAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH;AACJ;;AACD,YAAI,CAACH,IAAI,CAACM,MAAN,KAAiB,CAArB,EAAwB;AACpBZ,UAAAA,OAAO,CAACM,IAAI,CAACA,IAAN,CAAP;AACA;AACH;;AACDR,QAAAA,MAAM,CAACQ,IAAD,CAAN;AACH;AAhBM,MAAX;;AAkBA,QAAMO,MAAM,GAAG,yBAAWV,KAAX,CAAf;AAEA,QAAMZ,MAAM,aAAMK,UAAN,gBAAsBF,MAAtB,cAAgCmB,MAAhC,CAAZ;AACA1B,IAAAA,MAAM,CAACI,MAAD,CAAN;AACH,GA/BM,CAAP;AAgCH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACO,SAASuB,SAAT,GAAgF;AAAA,MAA7DC,KAA6D,uEAArD,EAAqD;AAAA,MAAjDrB,MAAiD;AAAA,MAAzCC,MAAyC,uEAAhC,EAAgC;AAAA,MAA5BC,UAA4B,uEAAf,aAAe;;AACnF,MAAI,CAAC,oBAAL,EAAc;AACV,WAAOC,OAAO,CAACC,MAAR,CAAeC,iBAAf,CAAP;AACH;;AACD,MAAMiB,MAAM,GAAG,oBAAf;AACA,MAAMC,OAAO,GAAG,0BAAhB,CALmF,CAMnF;;AACA,MAAMC,GAAG,GAAGH,KAAK,WAAIC,MAAJ,SAAaC,OAAb,EAAL,IAAgCF,KAAK,CAACE,OAAD,CAArC,IAAkDF,KAAK,CAACC,MAAD,CAAnE,CAPmF,CAQnF;;AACA,MAAIE,GAAG,IAAIA,GAAG,CAACC,CAAf,EAAkB;AACd,QAAMC,OAAO,GAAG,2BAAcH,OAAd,CAAhB;AACA,QAAII,YAAY,GAAGH,GAAG,CAACG,YAAvB;;AACA,QAAI,mBAAKA,YAAL,MAAuB,QAA3B,EAAqC;AACjC;AACAA,MAAAA,YAAY,GAAGA,YAAY,CAACC,KAAb,CAAmB,GAAnB,CAAf;AACH;;AANa,wBAOSD,YAPT;AAAA;AAAA,QAOPE,MAPO;AAAA,QAOCC,IAPD;;AAQd,QAAI,6BAAgBJ,OAAhB,EAAyBG,MAAzB,KAAoC,CAApC,KAA0C,CAACC,IAAD,IAAUA,IAAI,IAAI,6BAAgBJ,OAAhB,EAAyBI,IAAzB,KAAkC,CAA9F,CAAJ,EAAuG;AACnG7B,MAAAA,MAAM,GAAGuB,GAAG,CAACvB,MAAJ,GAAauB,GAAG,CAACvB,MAAjB,GAA0BA,MAAnC;AACA,UAAI8B,MAAM,GAAG,EAAb;;AACA,UAAI9B,MAAM,CAACA,MAAX,EAAmB;AACf;AACA,YAAIM,GAAG,GAAGyB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBhC,MAAM,CAACA,MAAzB,CAAV;AACAA,QAAAA,MAAM,CAACA,MAAP,GAAgB,IAAhB,CAHe,CAGO;;AACtB,eAAOA,MAAM,CAACA,MAAd;AACA8B,QAAAA,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBhC,MAAlB,CAAT;AACAA,QAAAA,MAAM,GAAGM,GAAT;AACH;;AACD,UAAI2B,IAAI,GAAG,EAAX;;AACA,UAAIH,MAAM,IAAI,mBAAKA,MAAL,MAAiB,QAA/B,EAAyC;AACrCG,QAAAA,IAAI;AAAIjC,UAAAA,MAAM,EAAE,0BAAYA,MAAZ;AAAZ,WAAoC8B,MAApC,CAAJ;AACH,OAFD,MAEO;AACHG,QAAAA,IAAI,GAAG;AAACjC,UAAAA,MAAM,EAAE,0BAAYA,MAAZ;AAAT,SAAP;AACH,OAhBkG,CAiBnG;;;AACAD,MAAAA,MAAM,cAAOwB,GAAG,CAACC,CAAX,cAAgBD,GAAG,CAACxB,MAAJ,GAAawB,GAAG,CAACxB,MAAjB,GAA0BA,MAA1C,CAAN;AACA,aAAOD,OAAO,CAACC,MAAD,EAASkC,IAAT,EAAehC,UAAf,CAAd;AACH;AACJ;;AACD,SAAOC,OAAO,CAACC,MAAR,CAAe+B,wBAAf,CAAP;AACH;;AAED,SAAS3B,aAAT,CAAuB4B,GAAvB,EAA4B;AACxB,SAAOJ,MAAM,CAACK,IAAP,CAAYD,GAAZ,EAAiBE,MAAjB,KAA4B,CAA5B,IAAiCF,GAAG,CAACG,WAAJ,KAAoBP,MAA5D;AACH","sourcesContent":["/**\n * @file Created on Thu Nov 15 2018\n * @author wangyongqing <wangyongqing01@baidu.com>\n */\n\nimport {isIOS, isAndroid, isBox, isMatrix, getBoxVersion, version_compare} from './detect';\nimport type from '@baidu/xbox/type';\nimport json2params from './json2params';\nimport iosInvoke from './ios';\nimport androidInvoke from './android';\nimport json2query from '@baidu/xbox/json2query';\nimport {NOT_IN_BOX, COMMAND_NOT_EXIST} from './const';\nimport {getOSName} from '@baidu/xbox/os';\nimport getBoxName from '@baidu/xbox/get-box-name';\n/**\n * 新调起能力，完全 scheme 形式，支持 ios 和安卓相同或者不同，\n * 不同时，先传 android后 ios（首字母排序）\n * 必须 baiduboxapp 开头\n * @function invoke\n * @param {string} args0 - 安卓调起 schema\n * @param {string} args1 - ios调起 schema，如果相同省略改参数\n */\nexport default function invoke(...args) {\n    if (!isBox() && !isMatrix()) {\n        return;\n    }\n    let as = args[0];\n    // 安卓 ios 公用一个相同的 scheme\n    let is = args[1] ? args[1] : args[0];\n    if (isIOS() && is) {\n        iosInvoke(getValidScheme(is));\n    } else if (isAndroid() && as) {\n        androidInvoke(getValidScheme(as));\n    }\n}\n\nfunction getValidScheme(schema) {\n    // 都是以 baidubox 开头包括，baiduboxapp,baiduboxmission\n    if (type(schema) === 'string' && schema.indexOf('baidubox') !== 0) {\n        return 'baiduboxapp://' + schema;\n    }\n    return schema;\n}\n/**\n * Promise 调起命令，host 和 params 分开处理，支持函数直接传入\n * @param {String} action - schema host 部分\n * @param {object} params - 参数\n * @param {string} schemaHead - schema 头，默认 baiduboxapp\n * @return {Promise}\n */\nexport function invokeP(action, params = {}, schemaHead = 'baiduboxapp') {\n    if (!isBox() && !isMatrix()) {\n        return Promise.reject(NOT_IN_BOX);\n    }\n    return new Promise((resolve, reject) => {\n        let tmp = params.params || {};\n        if (isEmptyObject(tmp) || tmp === '%7B%7D' || tmp === '{}') {\n            // 删除空的params对象\n            delete params.params;\n        } else if (type(tmp) === 'object') {\n            params.params = json2params(tmp);\n        }\n\n        const query = {\n            ...params,\n            callback(result) {\n                let data = result;\n                if (type(result) === 'string') {\n                    try {\n                        data = JSON.parse(result);\n                    } catch (e) {\n                        console.log(e);\n                    }\n                }\n                if (+data.status === 0) {\n                    resolve(data.data);\n                    return;\n                }\n                reject(data);\n            }\n        };\n        const search = json2query(query);\n\n        const schema = `${schemaHead}://${action}?${search}`;\n        invoke(schema);\n    });\n}\n/**\n * 新版本的注册，只用于安卓和 ios 相同的 scheme 类，返回 promise\n * @function xRegister\n * @param {Array|String} range - 版本范围\n * @param {String} action - action 部分，去掉 v 部分，例如v26/swan实际传入 swan。。。 vxx 之后的\n * @param {Object} params - 参数部分，例如 params={url}，传入{url}即可\n * @param {String} schemaHead - scheme 头\n * @return {Promise}\n * @example\n *  xRegister(\n        {\n            lite: {\n                v: 34,\n                versionRange: '3.9'\n            },\n            main: {\n                v: 41,\n                versionRange: '11.3.5'\n            }\n        },\n        'audio/playSound',\n        {url}\n    );\n */\nexport function xRegister(range = {}, action, params = {}, schemaHead = 'baiduboxapp') {\n    if (!isBox()) {\n        return Promise.reject(NOT_IN_BOX);\n    }\n    const osname = getOSName();\n    const boxname = getBoxName();\n    // 优先读取 androidmission 这个，然后是 mission(ios+android全平台)，最后主板 android/ios\n    const opt = range[`${osname}${boxname}`] || range[boxname] || range[osname];\n    // 必须要有 v\n    if (opt && opt.v) {\n        const version = getBoxVersion(boxname);\n        let versionRange = opt.versionRange;\n        if (type(versionRange) === 'string') {\n            // 支持 '3.9-7.0' 写法\n            versionRange = versionRange.split('-');\n        }\n        const [startV, endV] = versionRange;\n        if (version_compare(version, startV) >= 0 && (!endV || (endV && version_compare(version, endV) <= 0))) {\n            params = opt.params ? opt.params : params;\n            let others = {};\n            if (params.params) {\n                // 含有 params 的 params = {params: {}, upgrade:1}\n                let tmp = Object.assign({}, params.params);\n                params.params = null; // 删不掉？\n                delete params.params;\n                others = Object.assign({}, params);\n                params = tmp;\n            }\n            let args = {};\n            if (others && type(others) === 'object') {\n                args = {params: json2params(params), ...others};\n            } else {\n                args = {params: json2params(params)};\n            }\n            // 兼容 action 不一样的情况，直接写在配置里面\n            action = `v${opt.v}/${opt.action ? opt.action : action}`;\n            return invokeP(action, args, schemaHead);\n        }\n    }\n    return Promise.reject(COMMAND_NOT_EXIST);\n}\n\nfunction isEmptyObject(obj) {\n    return Object.keys(obj).length === 0 && obj.constructor === Object;\n}\n"]}]}