{"remainingRequest":"/Users/a2012/Desktop/list/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/a2012/Desktop/list/node_modules/@baidu/xbox/browser/load-file.js","dependencies":[{"path":"/Users/a2012/Desktop/list/node_modules/@baidu/xbox/browser/load-file.js","mtime":1696919504000},{"path":"/Users/a2012/Desktop/list/node_modules/san-hot-loader/index.js","mtime":1696919525000},{"path":"/Users/a2012/Desktop/list/node_modules/cache-loader/dist/cjs.js","mtime":1696919513000},{"path":"/Users/a2012/Desktop/list/node_modules/babel-loader/lib/index.js","mtime":1696919524000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiKTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gbG9hZEZpbGU7CgovKioKICogQGZpbGUgQ3JlYXRlZCBvbiBUdWUgTm92IDI3IDIwMTgKICogQG1vZHVsZSBicm93c2VyCiAqIEBhdXRob3Igd2FuZ3lvbmdxaW5nIDx3YW5neW9uZ3FpbmcwMUBiYWlkdS5jb20+CiAqLwp2YXIgZW1wdHlGbiA9IGZ1bmN0aW9uIGVtcHR5Rm4oKSB7fTsKLyoqCiAqIOWKoOi9veWNleS4quaWh+S7tu+8jOaUr+aMgWNzcy9pbWcvanMKICogQGZ1bmN0aW9uIGxvYWRGaWxlCiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gdXJsIOWcsOWdgAogKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja0ZuIC0gY2FsbGJhY2sgZXJyb3IgZmlyc3QKICogQHBhcmFtIHtvYmplY3R9IGFyZ3MgLSDphY3nva7lr7nosaHvvIzljIXmi6xhc3luY++8jHRpbWVvdXTvvIxtYXhUcmllc++8jGJlZm9yZSDnrYkKICogQHBhcmFtIHtudW1iZXJ9IG51bVRyaWVzIC0g5LiN5a+55aSW5Y+C5pWw77yM55So5LqO5bCd6K+V6YeN6K+V5qyh5pWwCiAqIEBleGFtcGxlCiAqIGxvYWRGaWxlKCcvcGF0aC90by9mb28uanMnLCBmdW5jdGlvbihlcnIsIHBhdGgpIHsKICogICAgIC8vIGZvby5qcyBsb2FkZWQKICogfSk7CiAqIGxvYWRGaWxlKCdjc3MhL3BhdGgvdG8vZm9vJywgZnVuY3Rpb24oZXJyLCBwYXRoKSB7CiAqICAgICAvLyBmb28gY3NzIGxvYWRlZAogKiB9KTsKICogbG9hZEZpbGUoJ2ltZyEvcGF0aC90by9mb28nLCBmdW5jdGlvbihlcnIsIHBhdGgpIHsKICogICAgIC8vIGZvbyBpbWcgbG9hZGVkCiAqIH0pOwogKi8KCgpmdW5jdGlvbiBsb2FkRmlsZShwYXRoLCBjYWxsYmFja0ZuLCBhcmdzKSB7CiAgdmFyIG51bVRyaWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwOwogIHZhciBkb2MgPSBkb2N1bWVudDsKICB2YXIgcGF0aFN0cmlwcGVkID0gcGF0aC5yZXBsYWNlKC9eKGNzc3xpbWcpIS8sICcnKTsKICB2YXIgaXNDc3MgPSBmYWxzZTsKICB2YXIgZWxlbTsKICB2YXIgdGltZXI7CiAgdmFyIF9hcmdzJGFzeW5jID0gYXJncy5hc3luYywKICAgICAgYXN5bmMgPSBfYXJncyRhc3luYyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9hcmdzJGFzeW5jLAogICAgICBfYXJncyRtYXhUcmllcyA9IGFyZ3MubWF4VHJpZXMsCiAgICAgIG1heFRyaWVzID0gX2FyZ3MkbWF4VHJpZXMgPT09IHZvaWQgMCA/IDEgOiBfYXJncyRtYXhUcmllcywKICAgICAgX2FyZ3MkdGltZW91dCA9IGFyZ3MudGltZW91dCwKICAgICAgdGltZW91dCA9IF9hcmdzJHRpbWVvdXQgPT09IHZvaWQgMCA/IDJlNCA6IF9hcmdzJHRpbWVvdXQsCiAgICAgIF9hcmdzJGJlZm9yZSA9IGFyZ3MuYmVmb3JlLAogICAgICBiZWZvcmUgPSBfYXJncyRiZWZvcmUgPT09IHZvaWQgMCA/IG51bGwgOiBfYXJncyRiZWZvcmU7CiAgdmFyIGJlZm9yZUNhbGxiYWNrRm4gPSBiZWZvcmU7CgogIGlmICh0eXBlb2YgYmVmb3JlQ2FsbGJhY2tGbiAhPT0gJ2Z1bmN0aW9uJykgewogICAgYmVmb3JlQ2FsbGJhY2tGbiA9IGVtcHR5Rm47CiAgfQoKICBpZiAoLyheY3NzIXxcLmNzcyQpLy50ZXN0KHBhdGgpKSB7CiAgICBpc0NzcyA9IHRydWU7IC8vIGNzcwoKICAgIGVsZW0gPSBkb2MuY3JlYXRlRWxlbWVudCgnbGluaycpOwogICAgZWxlbS5yZWwgPSAnc3R5bGVzaGVldCc7CiAgICBlbGVtLmhyZWYgPSBwYXRoU3RyaXBwZWQ7CiAgfSBlbHNlIGlmICgvKF5pbWchfFwuKHBuZ3xnaWZ8anBnfHN2ZykkKS8udGVzdChwYXRoKSkgewogICAgLy8gaW1hZ2UKICAgIGVsZW0gPSBkb2MuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICBlbGVtLnNyYyA9IHBhdGhTdHJpcHBlZDsKICB9IGVsc2UgewogICAgLy8gamF2YXNjcmlwdAogICAgZWxlbSA9IGRvYy5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgIGVsZW0uc3JjID0gcGF0aDsKICAgIGVsZW0uYXN5bmMgPSAhIWFzeW5jOwogIH0KCiAgdmFyIGNiID0gZnVuY3Rpb24gY2IoZXYpIHsKICAgIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICB2YXIgcmVzdWx0OwoKICAgIGlmIChldiBpbnN0YW5jZW9mIEVycm9yKSB7CiAgICAgIHJlc3VsdCA9ICdlJzsKICAgIH0gZWxzZSB7CiAgICAgIHJlc3VsdCA9IGV2LnR5cGVbMF07CiAgICB9IC8vIE5vdGU6IFRoZSBmb2xsb3dpbmcgY29kZSBpc29sYXRlcyBJRSB1c2luZyBgaGlkZUZvY3VzYCBhbmQgdHJlYXRzIGVtcHR5CiAgICAvLyBzdHlsZXNoZWV0cyBhcyBmYWlsdXJlcyB0byBnZXQgYXJvdW5kIGxhY2sgb2Ygb25lcnJvciBzdXBwb3J0CgoKICAgIGlmIChpc0NzcyAmJiAnaGlkZUZvY3VzJyBpbiBlbGVtKSB7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKCFlbGVtLnNoZWV0LmNzc1RleHQubGVuZ3RoKSB7CiAgICAgICAgICByZXN1bHQgPSAnZSc7CiAgICAgICAgfQogICAgICB9IGNhdGNoICh4KSB7CiAgICAgICAgLy8gc2hlZXRzIG9iamVjdHMgY3JlYXRlZCBmcm9tIGxvYWQgZXJyb3JzIGRvbid0IGFsbG93IGFjY2VzcyB0bwogICAgICAgIC8vIGBjc3NUZXh0YAogICAgICAgIHJlc3VsdCA9ICdlJzsKICAgICAgfQogICAgfSAvLyBoYW5kbGUgcmV0cmllcyBpbiBjYXNlIG9mIGxvYWQgZmFpbHVyZQoKCiAgICBpZiAocmVzdWx0ID09PSAnZScpIHsKICAgICAgLy8gaW5jcmVtZW50IGNvdW50ZXIKICAgICAgbnVtVHJpZXMgKz0gMTsgLy8gZXhpdCBmdW5jdGlvbiBhbmQgdHJ5IGFnYWluCgogICAgICBpZiAobnVtVHJpZXMgPCBtYXhUcmllcykgewogICAgICAgIHJldHVybiBsb2FkRmlsZShwYXRoLCBjYWxsYmFja0ZuLCBhcmdzLCBudW1Ucmllcyk7CiAgICAgIH0KICAgIH0KCiAgICBlbGVtLm9ubG9hZCA9IGVsZW0ub25lcnJvciA9IGVsZW0ub25iZWZvcmVsb2FkID0gbnVsbDsKICAgIGVsZW0gPSBudWxsOyAvLyBlcnJvciBmaXJzdAoKICAgIGNhbGxiYWNrRm4ocmVzdWx0ID09PSAnZScgPyBldiA/IGV2IDogJ2Vycm9yJyA6IG51bGwsIHBhdGgpOwogIH07CgogIGVsZW0ub25sb2FkID0gZWxlbS5vbmVycm9yID0gY2I7CgogIGlmIChiZWZvcmVDYWxsYmFja0ZuKHBhdGgsIGVsZW0pICE9PSBmYWxzZSkgewogICAgdmFyIGhlYWQgPSBkb2MuaGVhZCB8fCBkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdOwogICAgaGVhZC5hcHBlbmRDaGlsZChlbGVtKTsgLy8gdGltZW91dAoKICAgIGlmICh0aW1lb3V0ID4gMCkgewogICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGNiKG5ldyBFcnJvcigndGltZW91dCcpKTsKICAgICAgfSwgdGltZW91dCk7CiAgICB9CiAgfQp9"},{"version":3,"sources":["/Users/a2012/Desktop/list/node_modules/@baidu/xbox/browser/load-file.js"],"names":["emptyFn","loadFile","path","callbackFn","args","numTries","doc","document","pathStripped","replace","isCss","elem","timer","async","maxTries","timeout","before","beforeCallbackFn","test","createElement","rel","href","src","cb","ev","clearTimeout","result","Error","type","sheet","cssText","length","x","onload","onerror","onbeforeload","head","getElementsByTagName","appendChild","setTimeout"],"mappings":"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","sourcesContent":["/**\n * @file Created on Tue Nov 27 2018\n * @module browser\n * @author wangyongqing <wangyongqing01@baidu.com>\n */\nconst emptyFn = () => {};\n\n/**\n * 加载单个文件，支持css/img/js\n * @function loadFile\n * @param {string} path - url 地址\n * @param {function} callbackFn - callback error first\n * @param {object} args - 配置对象，包括async，timeout，maxTries，before 等\n * @param {number} numTries - 不对外参数，用于尝试重试次数\n * @example\n * loadFile('/path/to/foo.js', function(err, path) {\n *     // foo.js loaded\n * });\n * loadFile('css!/path/to/foo', function(err, path) {\n *     // foo css loaded\n * });\n * loadFile('img!/path/to/foo', function(err, path) {\n *     // foo img loaded\n * });\n */\nexport default function loadFile(path, callbackFn, args, numTries = 0) {\n    const doc = document;\n    const pathStripped = path.replace(/^(css|img)!/, '');\n    let isCss = false;\n    let elem;\n    let timer;\n    const {async = true, maxTries = 1, timeout = 2e4, before = null} = args;\n    let beforeCallbackFn = before;\n\n    if (typeof beforeCallbackFn !== 'function') {\n        beforeCallbackFn = emptyFn;\n    }\n    if (/(^css!|\\.css$)/.test(path)) {\n        isCss = true;\n\n        // css\n        elem = doc.createElement('link');\n        elem.rel = 'stylesheet';\n        elem.href = pathStripped;\n    } else if (/(^img!|\\.(png|gif|jpg|svg)$)/.test(path)) {\n        // image\n        elem = doc.createElement('img');\n        elem.src = pathStripped;\n    } else {\n        // javascript\n        elem = doc.createElement('script');\n        elem.src = path;\n        elem.async = !!async;\n    }\n    const cb = ev => {\n        clearTimeout(timer);\n        let result;\n        if (ev instanceof Error) {\n            result = 'e';\n        } else {\n            result = ev.type[0];\n        }\n\n        // Note: The following code isolates IE using `hideFocus` and treats empty\n        // stylesheets as failures to get around lack of onerror support\n        if (isCss && 'hideFocus' in elem) {\n            try {\n                if (!elem.sheet.cssText.length) {\n                    result = 'e';\n                }\n            } catch (x) {\n                // sheets objects created from load errors don't allow access to\n                // `cssText`\n                result = 'e';\n            }\n        }\n\n        // handle retries in case of load failure\n        if (result === 'e') {\n            // increment counter\n            numTries += 1;\n\n            // exit function and try again\n            if (numTries < maxTries) {\n                return loadFile(path, callbackFn, args, numTries);\n            }\n        }\n        elem.onload = elem.onerror = elem.onbeforeload = null;\n        elem = null;\n        // error first\n        callbackFn(result === 'e' ? (ev ? ev : 'error') : null, path);\n    };\n    elem.onload = elem.onerror = cb;\n\n    if (beforeCallbackFn(path, elem) !== false) {\n        const head = doc.head || doc.getElementsByTagName('script')[0];\n        head.appendChild(elem);\n        // timeout\n        if (timeout > 0) {\n            timer = setTimeout(() => {\n                cb(new Error('timeout'));\n            }, timeout);\n        }\n    }\n}\n"]}]}