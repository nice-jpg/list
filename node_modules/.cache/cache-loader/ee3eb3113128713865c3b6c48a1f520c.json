{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/olympic/containers/trans.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/olympic/containers/trans.js","mtime":1695633995779},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciKTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdHJhbnM7CgovKgogICAg5pWw5o2u57uT5p6ECiAgICDmnIDlkI7lkJDnu5lhcHAuanPnmoTmmK/kuIDkuKrmlbDnu4TvvIzmlbDnu4TnmoTmoLzlvI/lpoLkuIvvvJoKICAgIFsKICAgICAgICB7CiAgICAgICAgICAgIGxheW91dDogJ3JhbmstaGVhZGVyJyAgLy/liIbkuqvlpLTpg6gKICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgLi4uICAgLy8g6L+Q5Yqo5ZGY5qac5pWw5o2uIOWlpei/kOeDreaQnOamnAogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgIGxheW91dDogJ2hvdC1yYW5rJyAgLy/nu4Tku7blkI0KICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgLi4uICAgLy8g6L+Q5Yqo5ZGY5qac5pWw5o2uIOWlpei/kOeDreaQnOamnAogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgIGxheW91dDogJ3RyZW5kaW5nLWxpc3QnICAvL+e7hOS7tuWQjQogICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAuLi4gICAvLyDlpaXov5Dng63mkJzmppzmlbDmja4KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICBdCiovCnZhciBuYW1lTWFwID0gewogIC8vICdvbHltcGljX2Jyb3dzZV9udW0nOiAncmFuay1oZWFkZXInLCDliIbkuqvlpLTpg6jvvIzmnKzmrKHpnIDmsYLlhYjkuI3lgZrkuoYKICAnb2x5bXBpY19hdGhsZXRlX3RyZW5kJzogJ2hvdC1yYW5rJywKICAnb2x5bXBpY19ob3Rfc2VhcmNoJzogJ3RyZW5kaW5nLWxpc3QnLAogICdvbHltcGljX2Rpc2NpcGxpbmVfdHJlbmQnOiAnaG90LXJhbmsnLAogICdvbHltcGljX2tub3dsZWRnZSc6ICd0cmVuZGluZy1saXN0JywKICAnb2x5bXBpY19kaXZlcnNpb24nOiAnZGl2ZXJzaW9uLXRhYicKfTsKCmZ1bmN0aW9uIHRyYW5zKHNlcnZlckRhdGEpIHsKICBpZiAoIXNlcnZlckRhdGEuZGF0YSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc2VydmVyRGF0YS5kYXRhKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHsKICAgIHJldHVybjsKICB9CgogIHZhciByZXN1bHQgPSBbXTsKICB2YXIga2V5TmFtZXMgPSBPYmplY3Qua2V5cyhzZXJ2ZXJEYXRhLmRhdGEpOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGtleU5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgbmFtZSA9IGtleU5hbWVzW2ldOwoKICAgIGlmICghbmFtZU1hcFtuYW1lXSkgewogICAgICBjb250aW51ZTsKICAgIH0KCiAgICB2YXIgcmVzdWx0SXRlbSA9IHt9OwogICAgcmVzdWx0SXRlbS5sYXlvdXQgPSBuYW1lTWFwW25hbWVdOwogICAgcmVzdWx0SXRlbS5zZXJ2ZXJOYW1lID0gbmFtZTsKICAgIHJlc3VsdEl0ZW0uZGF0YSA9IHNlcnZlckRhdGEuZGF0YVtuYW1lXTsKCiAgICBpZiAoKHJlc3VsdEl0ZW0ubGF5b3V0ID09PSAndHJlbmRpbmctbGlzdCcgfHwgcmVzdWx0SXRlbS5sYXlvdXQgPT09ICdob3QtcmFuaycpICYmIHJlc3VsdEl0ZW0uZGF0YSAmJiByZXN1bHRJdGVtLmRhdGEuYm9hcmRfbGlzdCAmJiByZXN1bHRJdGVtLmRhdGEuYm9hcmRfbGlzdC5sZW5ndGggPCAzKSB7CiAgICAgIC8vIOWPr+eUqOivjeadoeS4jei2s+S4ieS4quaXtuWIoOmZpOivpeWNoeeJhwogICAgICBjb250aW51ZTsKICAgIH0KCiAgICByZXN1bHQucHVzaChyZXN1bHRJdGVtKTsKICB9CgogIHJldHVybiByZXN1bHQ7Cn0="},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/olympic/containers/trans.js"],"names":["nameMap","trans","serverData","data","Object","prototype","toString","call","result","keyNames","keys","i","length","name","resultItem","layout","serverName","board_list","push"],"mappings":";;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAMA,OAAO,GAAG;AACZ;AACA,2BAAyB,UAFb;AAGZ,wBAAsB,eAHV;AAIZ,8BAA4B,UAJhB;AAKZ,uBAAqB,eALT;AAMZ,uBAAqB;AANT,CAAhB;;AAQe,SAASC,KAAT,CAAeC,UAAf,EAA2B;AACtC,MAAI,CAACA,UAAU,CAACC,IAAZ,IACGC,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BL,UAAU,CAACC,IAA1C,MAAoD,iBAD3D,EAC8E;AAC1E;AACH;;AACD,MAAIK,MAAM,GAAG,EAAb;AACA,MAAMC,QAAQ,GAAGL,MAAM,CAACM,IAAP,CAAYR,UAAU,CAACC,IAAvB,CAAjB;;AACA,OAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,QAAQ,CAACG,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACtC,QAAME,IAAI,GAAGJ,QAAQ,CAACE,CAAD,CAArB;;AACA,QAAI,CAACX,OAAO,CAACa,IAAD,CAAZ,EAAoB;AAChB;AACH;;AACD,QAAIC,UAAU,GAAG,EAAjB;AACAA,IAAAA,UAAU,CAACC,MAAX,GAAoBf,OAAO,CAACa,IAAD,CAA3B;AACAC,IAAAA,UAAU,CAACE,UAAX,GAAwBH,IAAxB;AACAC,IAAAA,UAAU,CAACX,IAAX,GAAkBD,UAAU,CAACC,IAAX,CAAgBU,IAAhB,CAAlB;;AACA,QAAI,CAACC,UAAU,CAACC,MAAX,KAAsB,eAAtB,IAAyCD,UAAU,CAACC,MAAX,KAAsB,UAAhE,KACGD,UAAU,CAACX,IADd,IAEGW,UAAU,CAACX,IAAX,CAAgBc,UAFnB,IAGGH,UAAU,CAACX,IAAX,CAAgBc,UAAhB,CAA2BL,MAA3B,GAAoC,CAH3C,EAG8C;AAAC;AAC3C;AACH;;AACDJ,IAAAA,MAAM,CAACU,IAAP,CAAYJ,UAAZ;AACH;;AACD,SAAON,MAAP;AACH","sourcesContent":["/*\n    数据结构\n    最后吐给app.js的是一个数组，数组的格式如下：\n    [\n        {\n            layout: 'rank-header'  //分享头部\n            data: {\n                ...   // 运动员榜数据 奥运热搜榜\n            }\n        },\n        {\n            layout: 'hot-rank'  //组件名\n            data: {\n                ...   // 运动员榜数据 奥运热搜榜\n            }\n        },\n        {\n            layout: 'trending-list'  //组件名\n            data: {\n                ...   // 奥运热搜榜数据\n            }\n        },\n    ]\n*/\n\nconst nameMap = {\n    // 'olympic_browse_num': 'rank-header', 分享头部，本次需求先不做了\n    'olympic_athlete_trend': 'hot-rank',\n    'olympic_hot_search': 'trending-list',\n    'olympic_discipline_trend': 'hot-rank',\n    'olympic_knowledge': 'trending-list',\n    'olympic_diversion': 'diversion-tab'\n};\nexport default function trans(serverData) {\n    if (!serverData.data\n        || Object.prototype.toString.call(serverData.data) !== '[object Object]') {\n        return;\n    }\n    let result = [];\n    const keyNames = Object.keys(serverData.data);\n    for (let i = 0; i < keyNames.length; i++) {\n        const name = keyNames[i];\n        if (!nameMap[name]) {\n            continue;\n        }\n        let resultItem = {};\n        resultItem.layout = nameMap[name];\n        resultItem.serverName = name;\n        resultItem.data = serverData.data[name];\n        if ((resultItem.layout === 'trending-list' || resultItem.layout === 'hot-rank')\n            && resultItem.data\n            && resultItem.data.board_list\n            && resultItem.data.board_list.length < 3) {// 可用词条不足三个时删除该卡片\n            continue;\n        }\n        result.push(resultItem);\n    }\n    return result;\n}\n"]}]}