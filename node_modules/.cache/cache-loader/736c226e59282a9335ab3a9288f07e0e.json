{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-player-mini/plugins/Loop.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-player-mini/plugins/Loop.js","mtime":1696919504666},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpKTsKCnZhciBfY3JlYXRlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIikpOwoKdmFyIExvb3AgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIExvb3AoYXBpLCBwbHVnaW5PcHRpb25zKSB7CiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMi5kZWZhdWx0KSh0aGlzLCBMb29wKTsKICAgIHRoaXMuYXBpID0gYXBpOwogICAgdGhpcy5wbHVnaW5PcHRpb25zID0gcGx1Z2luT3B0aW9uczsKICB9CiAgLyoqCiAgICogbG9vcOW+queOr+asoeaVsAogICAqLwoKCiAgKDAsIF9jcmVhdGVDbGFzczIuZGVmYXVsdCkoTG9vcCwgW3sKICAgIGtleTogImdldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgaXNJT1MgPSB0aGlzLmFwaS5nZXRCb3hUb29scygpLmlzSU9TOwoKICAgICAgaWYgKHRoaXMuYXBpLmdldE1vZGUoKSA9PT0gJ25hJyAmJiBpc0lPUygpKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYXBpLmdldFBsYXllck9wdGlvbignbG9vcCcpOwogICAgICB9CgogICAgICB2YXIgdmlkZW8gPSB0aGlzLmFwaS5nZXRWaWRlb0luc3RhbmNlKCk7CiAgICAgIHJldHVybiB2aWRlbyA/IHZpZGVvLmxvb3AgOiAnJzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldChpc1RydWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBfdGhpcyRhcGkkZ2V0Qm94VG9vbHMgPSB0aGlzLmFwaS5nZXRCb3hUb29scygpLAogICAgICAgICAgaXNJT1MgPSBfdGhpcyRhcGkkZ2V0Qm94VG9vbHMuaXNJT1MsCiAgICAgICAgICBpbnZva2VQID0gX3RoaXMkYXBpJGdldEJveFRvb2xzLmludm9rZVA7CgogICAgICBpZiAodGhpcy5hcGkuZ2V0TW9kZSgpID09PSAnbmEnICYmIGlzSU9TKCkpIHsKICAgICAgICB2YXIgY29udGFpbmVySWQgPSB0aGlzLmFwaS5nZXRQbGF5ZXJPcHRpb24oJ2NvbnRhaW5lcklkJyk7CiAgICAgICAgaW52b2tlUCgndmlkZW8vc2xyU2V0TG9vcCcsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBjb250YWluZXJJZDogY29udGFpbmVySWQsCiAgICAgICAgICAgIGxvb3A6ICtpc1RydWUKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5hcGkuc2V0UGxheWVyT3B0aW9uKCdsb29wJywgaXNUcnVlKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciB2aWRlbyA9IHRoaXMuYXBpLmdldFZpZGVvSW5zdGFuY2UoKTsKICAgICAgdmlkZW8gJiYgKHZpZGVvLmxvb3AgPSBpc1RydWUpOwogICAgICB0aGlzLmFwaS5zZXRQbGF5ZXJPcHRpb24oJ2xvb3AnLCBpc1RydWUpOwogICAgfQogIH1dKTsKICByZXR1cm4gTG9vcDsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gTG9vcDs="},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-player-mini/plugins/Loop.js"],"names":["Loop","api","pluginOptions","isIOS","getBoxTools","getMode","getPlayerOption","video","getVideoInstance","loop","isTrue","invokeP","containerId","params","then","setPlayerOption"],"mappings":";;;;;;;;;;;;;IAAqBA,I;AACjB,gBAAYC,GAAZ,EAAiBC,aAAjB,EAAgC;AAAA;AAC5B,SAAKD,GAAL,GAAWA,GAAX;AACA,SAAKC,aAAL,GAAqBA,aAArB;AACH;AACD;AACJ;AACA;;;;;0BACU;AACF,UAAMC,KAAK,GAAG,KAAKF,GAAL,CAASG,WAAT,GAAuBD,KAArC;;AACA,UAAI,KAAKF,GAAL,CAASI,OAAT,OAAuB,IAAvB,IAA+BF,KAAK,EAAxC,EAA4C;AACxC,eAAO,KAAKF,GAAL,CAASK,eAAT,CAAyB,MAAzB,CAAP;AACH;;AACD,UAAMC,KAAK,GAAG,KAAKN,GAAL,CAASO,gBAAT,EAAd;AACA,aAAOD,KAAK,GAAGA,KAAK,CAACE,IAAT,GAAgB,EAA5B;AACH;;;wBACGC,M,EAAQ;AAAA;;AAAA,kCACiB,KAAKT,GAAL,CAASG,WAAT,EADjB;AAAA,UACDD,KADC,yBACDA,KADC;AAAA,UACMQ,OADN,yBACMA,OADN;;AAER,UAAI,KAAKV,GAAL,CAASI,OAAT,OAAuB,IAAvB,IAA+BF,KAAK,EAAxC,EAA4C;AACxC,YAAMS,WAAW,GAAG,KAAKX,GAAL,CAASK,eAAT,CAAyB,aAAzB,CAApB;AACAK,QAAAA,OAAO,CAAC,kBAAD,EAAqB;AACpBE,UAAAA,MAAM,EAAE;AACJD,YAAAA,WAAW,EAAXA,WADI;AAEJH,YAAAA,IAAI,EAAE,CAACC;AAFH;AADY,SAArB,CAAP,CAMKI,IANL,CAMU;AAAA,iBAAM,KAAI,CAACb,GAAL,CAASc,eAAT,CAAyB,MAAzB,EAAiCL,MAAjC,CAAN;AAAA,SANV;AAOA;AACH;;AACD,UAAMH,KAAK,GAAG,KAAKN,GAAL,CAASO,gBAAT,EAAd;AACAD,MAAAA,KAAK,KAAKA,KAAK,CAACE,IAAN,GAAaC,MAAlB,CAAL;AACA,WAAKT,GAAL,CAASc,eAAT,CAAyB,MAAzB,EAAiCL,MAAjC;AACH","sourcesContent":["export default class Loop {\n    constructor(api, pluginOptions) {\n        this.api = api;\n        this.pluginOptions = pluginOptions;\n    }\n    /**\n     * loop循环次数\n     */\n    get() {\n        const isIOS = this.api.getBoxTools().isIOS;\n        if (this.api.getMode() === 'na' && isIOS()) {\n            return this.api.getPlayerOption('loop');\n        }\n        const video = this.api.getVideoInstance();\n        return video ? video.loop : '';\n    }\n    set(isTrue) {\n        const {isIOS, invokeP} = this.api.getBoxTools();\n        if (this.api.getMode() === 'na' && isIOS()) {\n            const containerId = this.api.getPlayerOption('containerId');\n            invokeP('video/slrSetLoop', {\n                    params: {\n                        containerId,\n                        loop: +isTrue\n                    }\n                })\n                .then(() => this.api.setPlayerOption('loop', isTrue));\n            return;\n        }\n        const video = this.api.getVideoInstance();\n        video && (video.loop = isTrue);\n        this.api.setPlayerOption('loop', isTrue);\n    }\n}\n"]}]}