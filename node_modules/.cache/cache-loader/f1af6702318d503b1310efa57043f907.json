{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-player-mini/EventEmitter.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-player-mini/EventEmitter.js","mtime":1696919504666},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIik7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIikpOwoKdmFyIF9jcmVhdGVDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9saWFvaHVhbnl1L3Byb2plY3RzL2JhaWR1LXdvcmsvYmFpZHUvZmVlZDMvbXVsdGktcGFnZXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSk7CgovKioKICogQGZpbGUg5LqL5Lu26Kem5Y+R5ZmoCiAqIEBhdXRob3Igemhhbmd0aW5ndGluZzEyIDx6aGFuZ3Rpbmd0aW5nMTJAYmFpZHUuY29tPgogKi8KdmFyIEV2ZW50RW1pdHRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkgewogICAgdmFyIHByZWZpeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ18nOwogICAgKDAsIF9jbGFzc0NhbGxDaGVjazIuZGVmYXVsdCkodGhpcywgRXZlbnRFbWl0dGVyKTsKICAgIHRoaXMuX2V2ZW50cyA9IHt9OwogICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwOwogICAgdGhpcy5wcmVmaXggPSBwcmVmaXguc2xpY2UoMCwgMSk7IC8vIOWJjee8gOS4gOS4quWtl+espgogIH0KICAvKioKICAgKiDlop7liqDkuIDkuKrkuovku7bnm5HlkKwKICAgKiBAcHVibGljCiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IOS6i+S7tuWQjeensAogICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIOebkeWQrOWHveaVsAogICAqIEBwYXJhbSB7b2JqZWN0fSBbY29udGV4dF0g5Y+v6YCJ77yM5LiK5LiL5paHCiAgICogQHBhcmFtIHtCb29sZWFufSBbb25jZV0g5Y+v6YCJ77yM55uR5ZCs5LiA5qyh77yM6buY6K6k6Z2e5LiA5qyh55uR5ZCsCiAgICogQHJldHVybiB7b2JqZWN0fQogICAqLwoKCiAgKDAsIF9jcmVhdGVDbGFzczIuZGVmYXVsdCkoRXZlbnRFbWl0dGVyLCBbewogICAga2V5OiAib24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkgewogICAgICB2YXIgb25jZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7CgogICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpOwogICAgICB9CgogICAgICB2YXIgbGlzdGVuZXIgPSB7CiAgICAgICAgZm46IGZuLAogICAgICAgIGNvbnRleHQ6IGNvbnRleHQgfHwgdGhpcywKICAgICAgICBvbmNlOiBvbmNlCiAgICAgIH07CiAgICAgIHZhciBldnQgPSB0aGlzLnByZWZpeCA/IHRoaXMucHJlZml4ICsgZXZlbnQgOiBldmVudDsKCiAgICAgIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHsKICAgICAgICB0aGlzLl9ldmVudHNbZXZ0XSA9IFtdOwogICAgICAgIHRoaXMuX2V2ZW50c0NvdW50Kys7CiAgICAgIH0KCiAgICAgIHRoaXMuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpOwoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICog5aKe5Yqg5LuF6Kem5Y+R5LiA5qyh55qE5LqL5Lu255uR5ZCsCiAgICAqIEBwdWJsaWMKICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IOS6i+S7tuWQjeensAogICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiDnm5HlkKzlh73mlbAKICAgICogQHBhcmFtIHtvYmplY3R9IFtjb250ZXh0XSDlj6/pgInvvIzkuIrkuIvmlocKICAgICogQHJldHVybiB7b2JqZWN0fQogICAgKi8KCiAgfSwgewogICAga2V5OiAib25jZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHsKICAgICAgcmV0dXJuIHRoaXMub24oZXZlbnQsIGZuLCBjb250ZXh0LCB0cnVlKTsKICAgIH0KICAgIC8qKgogICAgICog5LqL5Lu26Kem5Y+RCiAgICAgKiBAcHVibGljCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQg5LqL5Lu25ZCN56ewCiAgICAgKiBAcGFyYW0gIHsuLi5hbnl9IGRhdGEg5Y+R6YCB55qE5pWw5o2uCiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSDop6blj5Hnu5PmnpwKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJlbWl0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBlbWl0KGV2ZW50KSB7CiAgICAgIHZhciBldnQgPSB0aGlzLnByZWZpeCA/IHRoaXMucHJlZml4ICsgZXZlbnQgOiBldmVudDsKCiAgICAgIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBsaXN0ZW5lcnMgPSAodGhpcy5fZXZlbnRzW2V2dF0gfHwgW10pLnNsaWNlKCk7CgogICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZGF0YSA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgICAgZGF0YVtfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpIHsKICAgICAgICAgIHRoaXMub2ZmKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7CiAgICAgICAgfQoKICAgICAgICB0cnkgewogICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBkYXRhKTsKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdlbWl0ICcgKyBldmVudCArICcgZXZlbnQgZXJyb3IhIHBsZWFzZSBjaGVjayBpdDogJywgZXJyKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgLyoqCiAgICAqIOa4hemZpOS4gOS4quS6i+S7tueahOaJgOacieebkeWQrAogICAgKiBAcHJpdmF0ZQogICAgKiBAcGFyYW0ge3N0cmluZ30gZXZ0IOS6i+S7tuWQjeensAogICAgKi8KCiAgfSwgewogICAga2V5OiAiY2xlYXJFdmVudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJFdmVudChldnQpIHsKICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHsKICAgICAgICB0aGlzLl9ldmVudHMgPSB7fTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW2V2dF07CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgKiDnp7vpmaTkuIDkuKrkuovku7bnm5HlkKwKICAgICogQHB1YmxpYwogICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQg5LqL5Lu25ZCN56ewCiAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIOebkeWQrOWHveaVsAogICAgKiBAcGFyYW0ge29iamVjdH0gW2NvbnRleHRdIOWPr+mAie+8jOS4iuS4i+aWhwogICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlXSDlj6/pgInvvIznm5HlkKzkuIDmrKEKICAgICogQHJldHVybiB7b2JqZWN0fQogICAgKi8KCiAgfSwgewogICAga2V5OiAib2ZmIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvZmYoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7CiAgICAgIC8vIOiuoeeul+WinuWKoOS6i+S7tuWJjee8gAogICAgICB2YXIgZXZ0ID0gdGhpcy5wcmVmaXggPyB0aGlzLnByZWZpeCArIGV2ZW50IDogZXZlbnQ7CgogICAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0gJiYgdGhpcy5fZXZlbnRzW2V2dF0ubGVuZ3RoKSB7CiAgICAgICAgaWYgKCFmbikgewogICAgICAgICAgdGhpcy5jbGVhckV2ZW50KGV2dCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTsKICAgICAgICAgIHZhciBldmVudHMgPSBbXTsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIC8vIOWNs+S9v2Zu55u45ZCM77yM6Kem5Y+R5qyh5pWw5ZKM5LiK5LiL5paH5LiN5ZCM5pe25Lmf6K6k5Li65piv5Lik5Liq5LiN5ZCM55qE55uR5ZCs5Ye95pWwCiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8IG9uY2UgJiYgIWxpc3RlbmVyc1tpXS5vbmNlIHx8IGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpIHsKICAgICAgICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnNbaV0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGV2ZW50cy5sZW5ndGgpIHsKICAgICAgICAgICAgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHM7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmNsZWFyRXZlbnQoZXZ0KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiDnp7vpmaTlhajpg6jkuovku7bnm5HlkKwKICAgICAqIEBwdWJsaWMKICAgICAqIEByZXR1cm4ge29iamVjdH0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJyZW1vdmVBbGxMaXN0ZW5lcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycygpIHsKICAgICAgdGhpcy5fZXZlbnRzID0ge307CiAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfV0pOwogIHJldHVybiBFdmVudEVtaXR0ZXI7Cn0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IEV2ZW50RW1pdHRlcjs="},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-player-mini/EventEmitter.js"],"names":["EventEmitter","prefix","_events","_eventsCount","slice","event","fn","context","once","TypeError","listener","evt","push","on","listeners","data","i","len","length","off","undefined","apply","err","console","log","clearEvent","events"],"mappings":"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","sourcesContent":["/**\n * @file 事件触发器\n * @author zhangtingting12 <zhangtingting12@baidu.com>\n */\n\nexport default class EventEmitter {\n\n    constructor(prefix = '_') {\n        this._events = {};\n        this._eventsCount = 0;\n        this.prefix = prefix.slice(0, 1); // 前缀一个字符\n\n    }\n    /**\n     * 增加一个事件监听\n     * @public\n     * @param {string} event 事件名称\n     * @param {function} fn 监听函数\n     * @param {object} [context] 可选，上下文\n     * @param {Boolean} [once] 可选，监听一次，默认非一次监听\n     * @return {object}\n     */\n    on(event, fn, context, once = false) {\n        if (typeof fn !== 'function') {\n            throw new TypeError('The listener must be a function');\n        }\n\n        const listener = {\n            fn,\n            context: context || this,\n            once\n        };\n        const evt = this.prefix ? this.prefix + event : event;\n\n        if (!this._events[evt]) {\n            this._events[evt] = [];\n            this._eventsCount++;\n        }\n        this._events[evt].push(listener);\n        return this;\n    }\n    /**\n    * 增加仅触发一次的事件监听\n    * @public\n    * @param {string} event 事件名称\n    * @param {function} fn 监听函数\n    * @param {object} [context] 可选，上下文\n    * @return {object}\n    */\n    once(event, fn, context) {\n        return this.on(event, fn, context, true);\n    }\n    /**\n     * 事件触发\n     * @public\n     * @param {string} event 事件名称\n     * @param  {...any} data 发送的数据\n     * @return {Boolean} 触发结果\n     */\n    emit(event, ...data) {\n        const evt = this.prefix ? this.prefix + event : event;\n        if (!this._events[evt]) {\n            return false;\n        }\n        const listeners = (this._events[evt] || []).slice();\n\n        for (let i = 0, len = listeners.length; i < len; i++) {\n            if (listeners[i].once) {\n                this.off(event, listeners[i].fn, undefined, true);\n            }\n            try {\n                listeners[i].fn.apply(listeners[i].context, data); \n            }\n            catch (err) {\n                console.log('emit ' + event + ' event error! please check it: ', err);\n            }\n            \n        }\n\n        return true;\n    }\n    /**\n    * 清除一个事件的所有监听\n    * @private\n    * @param {string} evt 事件名称\n    */\n    clearEvent(evt) {\n        if (--this._eventsCount === 0) {\n            this._events = {};\n        }\n        else {\n            delete this._events[evt];\n        }\n    }\n    /**\n    * 移除一个事件监听\n    * @public\n    * @param {string} event 事件名称\n    * @param {function} fn 监听函数\n    * @param {object} [context] 可选，上下文\n    * @param {Boolean} [once] 可选，监听一次\n    * @return {object}\n    */\n    off(event, fn, context, once) {\n        // 计算增加事件前缀\n        const evt = this.prefix ? this.prefix + event : event;\n\n        if (this._events[evt] && this._events[evt].length) {\n            if (!fn) {\n                this.clearEvent(evt);\n            }\n            else {\n                const listeners = this._events[evt];\n                let events = [];\n                for (let i = 0, len = listeners.length; i < len; i++) {\n                    // 即使fn相同，触发次数和上下文不同时也认为是两个不同的监听函数\n                    if (listeners[i].fn !== fn\n                        || (once && !listeners[i].once) \n                        || (context && listeners[i].context !== context)\n                    ) {\n                        events.push(listeners[i]);\n                    }\n                }\n\n                if (events.length) {\n                    this._events[evt] = events;\n                }\n                else {\n                    this.clearEvent(evt);\n                }\n            }\n        }\n        return this;\n    }\n   /**\n    * 移除全部事件监听\n    * @public\n    * @return {object}\n    */\n    removeAllListeners() {\n        this._events = {};\n        this._eventsCount = 0;\n        return this;\n    }\n}\n\n"]}]}