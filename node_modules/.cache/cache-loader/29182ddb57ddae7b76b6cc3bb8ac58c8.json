{"remainingRequest":"/Users/a2012/Desktop/list/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/a2012/Desktop/list/node_modules/@baidu/wuji-san/es/wuji-topic-header/components/header-description/index.js","dependencies":[{"path":"/Users/a2012/Desktop/list/node_modules/@baidu/wuji-san/es/wuji-topic-header/components/header-description/index.js","mtime":1696919503000},{"path":"/Users/a2012/Desktop/list/node_modules/san-hot-loader/index.js","mtime":1696919525000},{"path":"/Users/a2012/Desktop/list/node_modules/cache-loader/dist/cjs.js","mtime":1696919513000},{"path":"/Users/a2012/Desktop/list/node_modules/babel-loader/lib/index.js","mtime":1696919524000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvYTIwMTIvRGVza3RvcC9saXN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZmxlY3QuY29uc3RydWN0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiKTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKdmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9hMjAxMi9EZXNrdG9wL2xpc3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSk7Cgp2YXIgX2NyZWF0ZUNsYXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2EyMDEyL0Rlc2t0b3AvbGlzdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpKTsKCnZhciBfaW5oZXJpdHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvYTIwMTIvRGVza3RvcC9saXN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIikpOwoKdmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2EyMDEyL0Rlc2t0b3AvbGlzdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikpOwoKdmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9hMjAxMi9EZXNrdG9wL2xpc3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2YiKSk7Cgp2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2EyMDEyL0Rlc2t0b3AvbGlzdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSIpKTsKCnJlcXVpcmUoIi4vaW5kZXgubGVzcyIpOwoKdmFyIF9zYW4gPSByZXF1aXJlKCJzYW4iKTsKCmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KSh0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMi5kZWZhdWx0KSh0aGlzLCByZXN1bHQpOyB9OyB9CgpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH0KCnZhciBwcmVmaXhDbHMgPSAndy10b3BpYy1kZXNjLXdyYXBwZXInOwoKdmFyIEhlYWRlckRlc2MgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICAoMCwgX2luaGVyaXRzMi5kZWZhdWx0KShIZWFkZXJEZXNjLCBfQ29tcG9uZW50KTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihIZWFkZXJEZXNjKTsKCiAgZnVuY3Rpb24gSGVhZGVyRGVzYygpIHsKICAgICgwLCBfY2xhc3NDYWxsQ2hlY2syLmRlZmF1bHQpKHRoaXMsIEhlYWRlckRlc2MpOwogICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgKDAsIF9jcmVhdGVDbGFzczIuZGVmYXVsdCkoSGVhZGVyRGVzYywgW3sKICAgIGtleTogImluaXREYXRhIiwKICAgIC8vIOi/meaYr+S4quWPr+aUtui1t+WxleW8gOeahOeugOS7iwogICAgLy8g5piv6YCa6L+H5LiN5YGc55qE5YeP5bCR5a2X56ym5bm26K6h566X6KGM5pWw5p2l5a6e546w55qECiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdERhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZGVzYzogJycsCiAgICAgICAgZnVsbERlc2M6ICcnLAogICAgICAgIHNob3dpbmdEZXNjOiAnJywKICAgICAgICBjb21wdXRlZERlc2M6ICcnLAogICAgICAgIHNob3J0RGVzYzogJycsCiAgICAgICAgbmVlZEV4cGFuZDogZmFsc2UsCiAgICAgICAgY29tcHV0ZWRFbmQ6IGZhbHNlLAogICAgICAgIGlzRXhwYW5kOiBmYWxzZQogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZVJvdyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlUm93KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgZGVzY0VsZSA9IF90aGlzLnJlZignZGVzYycpOwoKICAgICAgICAgIHZhciBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShkZXNjRWxlKTsKICAgICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gY29tcHV0ZWRTdHlsZS5saW5lSGVpZ2h0LAogICAgICAgICAgICAgIGhlaWdodCA9IGNvbXB1dGVkU3R5bGUuaGVpZ2h0OwogICAgICAgICAgbGluZUhlaWdodCA9IGxpbmVIZWlnaHQucmVwbGFjZSgncHgnLCAnJyk7CiAgICAgICAgICBoZWlnaHQgPSBoZWlnaHQucmVwbGFjZSgncHgnLCAnJyk7CiAgICAgICAgICB2YXIgcm93ID0gTWF0aC5yb3VuZCgraGVpZ2h0IC8gK2xpbmVIZWlnaHQpOwoKICAgICAgICAgIHZhciBkZXNjID0gX3RoaXMuZGF0YS5nZXQoJ2NvbXB1dGVkRGVzYycpOwoKICAgICAgICAgIGlmIChyb3cgPCAzKSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpOwoKICAgICAgICAgICAgX3RoaXMuZGF0YS5zZXQoJ3Nob3J0RGVzYycsIGRlc2MpOwoKICAgICAgICAgICAgX3RoaXMuZGF0YS5zZXQoJ2NvbXB1dGVkRW5kJywgdHJ1ZSk7CgogICAgICAgICAgICBfdGhpcy5kYXRhLnNldCgnc2hvd2luZ0Rlc2MnLCBkZXNjKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLmRhdGEuc2V0KCduZWVkRXhwYW5kJywgdHJ1ZSk7CgogICAgICAgICAgICBfdGhpcy5kYXRhLnNldCgnY29tcHV0ZWREZXNjJywgZGVzYy5zbGljZSgwLCBkZXNjLmxlbmd0aCAtIDEpICsgJycpOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7CiAgICAgICAgfQogICAgICB9LCAwKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbml0ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRlZCgpIHsKICAgICAgdGhpcy5kYXRhLnNldCgnc2hvd2luZ0Rlc2MnLCB0aGlzLmRhdGEuZ2V0KCdkZXNjJykpOwogICAgfQogIH0sIHsKICAgIGtleTogImF0dGFjaGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhdHRhY2hlZCgpIHsKICAgICAgdGhpcy5kYXRhLnNldCgnZnVsbERlc2MnLCB0aGlzLmRhdGEuZ2V0KCdkZXNjJykpOwogICAgICB0aGlzLmRhdGEuc2V0KCdzaG93aW5nRGVzYycsIHRoaXMuZGF0YS5nZXQoJ2Rlc2MnKSk7CiAgICAgIHRoaXMuZGF0YS5zZXQoJ2NvbXB1dGVkRGVzYycsIHRoaXMuZGF0YS5nZXQoJ2Rlc2MnKSk7CiAgICAgIHRoaXMudXBkYXRlUm93KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZXhwYW5kIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBleHBhbmQoKSB7CiAgICAgIHZhciBpc0V4cGFuZCA9IHRoaXMuZGF0YS5nZXQoJ2lzRXhwYW5kJyk7CgogICAgICBpZiAoaXNFeHBhbmQpIHsKICAgICAgICB0aGlzLmRhdGEuc2V0KCdzaG93aW5nRGVzYycsIHRoaXMuZGF0YS5nZXQoJ3Nob3J0RGVzYycpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRhdGEuc2V0KCdzaG93aW5nRGVzYycsIHRoaXMuZGF0YS5nZXQoJ2Z1bGxEZXNjJykpOwogICAgICB9CgogICAgICB0aGlzLmRhdGEuc2V0KCdpc0V4cGFuZCcsICFpc0V4cGFuZCk7CiAgICB9CiAgfV0pOwogIHJldHVybiBIZWFkZXJEZXNjOwp9KF9zYW4uQ29tcG9uZW50KTsKCmV4cG9ydHMuZGVmYXVsdCA9IEhlYWRlckRlc2M7CigwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKEhlYWRlckRlc2MsICJ0ZW1wbGF0ZSIsCi8qIGh0bWwgKi8KIlxuICAgICAgICA8ZGl2IGNsYXNzPVwiIi5jb25jYXQocHJlZml4Q2xzLCAiXCI+XG4gICAgICAgICAgICA8ZGl2IHMtaWY9XCJkZXNjXCIgY2xhc3M9XCJoZWFkZXItZGVzYyB7e2ZpbmFsTmVlZEV4cGFuZCA/ICcnIDogJ2VsbGlwc2UnfX1cIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj57e3Nob3dpbmdEZXNjfX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgcy1pZj1cImZpbmFsTmVlZEV4cGFuZFwiXG4gICAgICAgICAgICAgICAgICAgIG9uLWNsaWNrPVwiZXhwYW5kXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHMtaWY9XCIhaXNFeHBhbmRcIj4uLi48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwie3tleHBhbmRDbHN9fVwiPnt7ZXhwYW5kVGV4dH19PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbXB1dGVkLWRlc2NcIiBzLXJlZj1cImRlc2NcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj57e2NvbXB1dGVkRGVzY319PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIHMtaWY9XCJuZWVkRXhwYW5kXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPi4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+XHU1QzU1XHU1RjAwPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAiKSk7CigwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKEhlYWRlckRlc2MsICJ0cmltV2hpdGVzcGFjZSIsICdhbGwnKTsKKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkoSGVhZGVyRGVzYywgImNvbXB1dGVkIiwgewogIGZpbmFsTmVlZEV4cGFuZDogZnVuY3Rpb24gZmluYWxOZWVkRXhwYW5kKCkgewogICAgcmV0dXJuIHRoaXMuZGF0YS5nZXQoJ25lZWRFeHBhbmQnKSAmJiB0aGlzLmRhdGEuZ2V0KCdjb21wdXRlZEVuZCcpOwogIH0sCiAgZXhwYW5kVGV4dDogZnVuY3Rpb24gZXhwYW5kVGV4dCgpIHsKICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0KCdpc0V4cGFuZCcpID8gJ+aUtui1tycgOiAn5bGV5byAJzsKICB9LAogIGV4cGFuZENsczogZnVuY3Rpb24gZXhwYW5kQ2xzKCkgewogICAgdmFyIGlzRXhwYW5kID0gdGhpcy5kYXRhLmdldCgnaXNFeHBhbmQnKTsKCiAgICBpZiAoaXNFeHBhbmQpIHsKICAgICAgcmV0dXJuICdleHBhbmQtdGV4dCBzcGFjZSc7CiAgICB9CgogICAgcmV0dXJuICdleHBhbmQtdGV4dCc7CiAgfQp9KTsKCmlmIChtb2R1bGUuaG90KSB7CiAgdmFyIF9fSE9UX0FQSV9fID0gcmVxdWlyZSgnL1VzZXJzL2EyMDEyL0Rlc2t0b3AvbGlzdC9ub2RlX21vZHVsZXMvc2FuLWhvdC1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50LWNsaWVudC1hcGkuanMnKTsKCiAgdmFyIF9fSE9UX1VUSUxTX18gPSByZXF1aXJlKCcvVXNlcnMvYTIwMTIvRGVza3RvcC9saXN0L25vZGVfbW9kdWxlcy9zYW4taG90LWxvYWRlci9saWIvcnVudGltZS91dGlscy5qcycpOwoKICB2YXIgX19TQU5fQ09NUE9ORU5UX18gPSBfX0hPVF9VVElMU19fLmdldEV4cG9ydHMobW9kdWxlKTsKCiAgaWYgKF9fU0FOX0NPTVBPTkVOVF9fLnRlbXBsYXRlIHx8IF9fU0FOX0NPTVBPTkVOVF9fLnByb3RvdHlwZS50ZW1wbGF0ZSkgewogICAgbW9kdWxlLmhvdC5hY2NlcHQoKTsKCiAgICBfX0hPVF9BUElfXy5pbnN0YWxsKHJlcXVpcmUoJ3NhbicpKTsKCiAgICB2YXIgX19ITVJfSURfXyA9ICc0MWVjOWEyMic7CgogICAgaWYgKCFtb2R1bGUuaG90LmRhdGEpIHsKICAgICAgX19IT1RfQVBJX18uY3JlYXRlUmVjb3JkKF9fSE1SX0lEX18sIF9fU0FOX0NPTVBPTkVOVF9fKTsKICAgIH0gZWxzZSB7CiAgICAgIF9fSE9UX0FQSV9fLmhvdFJlbG9hZChfX0hNUl9JRF9fLCBfX1NBTl9DT01QT05FTlRfXyk7CiAgICB9CiAgfQp9"},{"version":3,"sources":["/Users/a2012/Desktop/list/node_modules/@baidu/wuji-san/es/wuji-topic-header/components/header-description/index.js"],"names":["prefixCls","HeaderDesc","desc","fullDesc","showingDesc","computedDesc","shortDesc","needExpand","computedEnd","isExpand","interval","setInterval","descEle","ref","computedStyle","getComputedStyle","lineHeight","height","replace","row","Math","round","data","get","clearInterval","set","slice","length","e","console","log","updateRow","Component","finalNeedExpand","expandText","expandCls","module","hot","__HOT_API__","require","__HOT_UTILS__","__SAN_COMPONENT__","getExports","template","prototype","accept","install","__HMR_ID__","createRecord","hotReload"],"mappings":"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","sourcesContent":["/**\n * @file 组件描述信息\n * @author xiewenbo01 <xiewenbo01@baidu.com>\n */\nimport './index.less';\nimport {Component} from 'san';\nconst prefixCls = 'w-topic-desc-wrapper';\nexport default class HeaderDesc extends Component {\n    // 这是个可收起展开的简介\n    // 是通过不停的减少字符并计算行数来实现的\n    static template = /* html */ `\n        <div class=\"${prefixCls}\">\n            <div s-if=\"desc\" class=\"header-desc {{finalNeedExpand ? '' : 'ellipse'}}\">\n                <span>{{showingDesc}}</span>\n                <span\n                    s-if=\"finalNeedExpand\"\n                    on-click=\"expand\">\n                    <span s-if=\"!isExpand\">...</span>\n                    <span class=\"{{expandCls}}\">{{expandText}}</span>\n                </span>\n            </div>\n            <div class=\"computed-desc\" s-ref=\"desc\">\n                <span>{{computedDesc}}</span>\n                <span s-if=\"needExpand\">\n                    <span>...</span>\n                    <span>展开</span>\n                </span>\n            </div>\n        </div>\n    `;\n\n    static trimWhitespace = 'all';\n\n    static computed = {\n        finalNeedExpand() {\n            return this.data.get('needExpand') && this.data.get('computedEnd');\n        },\n        expandText() {\n            return this.data.get('isExpand') ? '收起' : '展开';\n        },\n        expandCls() {\n            const isExpand = this.data.get('isExpand');\n\n            if (isExpand) {\n                return 'expand-text space';\n            }\n\n            return 'expand-text';\n        },\n    };\n\n    initData() {\n        return {\n            desc: '',\n            fullDesc: '',\n            showingDesc: '',\n            computedDesc: '',\n            shortDesc: '',\n            needExpand: false,\n            computedEnd: false,\n            isExpand: false,\n        };\n    }\n\n    updateRow() {\n        let interval = setInterval(() => {\n            try {\n                const descEle = this.ref('desc');\n                const computedStyle = getComputedStyle(descEle);\n                let {lineHeight, height} = computedStyle;\n                lineHeight = lineHeight.replace('px', '');\n                height = height.replace('px', '');\n                const row = Math.round(+height / +lineHeight);\n                const desc = this.data.get('computedDesc');\n\n                if (row < 3) {\n                    clearInterval(interval);\n                    this.data.set('shortDesc', desc);\n                    this.data.set('computedEnd', true);\n                    this.data.set('showingDesc', desc);\n                }\n                else {\n                    this.data.set('needExpand', true);\n                    this.data.set('computedDesc', desc.slice(0, desc.length - 1) + '');\n                }\n            }\n            catch (e) {\n                console.log(e);\n                clearInterval(interval);\n            }\n        }, 0);\n    }\n\n    inited() {\n        this.data.set('showingDesc', this.data.get('desc'));\n    }\n\n    attached() {\n        this.data.set('fullDesc', this.data.get('desc'));\n        this.data.set('showingDesc', this.data.get('desc'));\n        this.data.set('computedDesc', this.data.get('desc'));\n        this.updateRow();\n    }\n\n    expand() {\n        let isExpand = this.data.get('isExpand');\n\n        if (isExpand) {\n            this.data.set('showingDesc', this.data.get('shortDesc'));\n        }\n        else {\n            this.data.set('showingDesc', this.data.get('fullDesc'));\n        }\n        this.data.set('isExpand', !isExpand);\n    }\n}\n"]}]}