{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/nano/es/search/index.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/nano/es/search/index.js","mtime":1696919503876},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWZsZWN0LmNvbnN0cnVjdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbSIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpKTsKCnZhciBfY3JlYXRlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIikpOwoKdmFyIF9pbmhlcml0czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9saWFvaHVhbnl1L3Byb2plY3RzL2JhaWR1LXdvcmsvYmFpZHUvZmVlZDMvbXVsdGktcGFnZXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSk7Cgp2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iKSk7Cgp2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZiIpKTsKCnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5IikpOwoKcmVxdWlyZSgiLi9zdHlsZS9pbmRleC5sZXNzIik7Cgp2YXIgX3NhbiA9IHJlcXVpcmUoInNhbiIpOwoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yLmRlZmF1bHQpKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQoKdmFyIHByZWZpeENscyA9ICdzLXNlYXJjaCc7Cgp2YXIgU2VhcmNoID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgKDAsIF9pbmhlcml0czIuZGVmYXVsdCkoU2VhcmNoLCBfQ29tcG9uZW50KTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihTZWFyY2gpOwoKICBmdW5jdGlvbiBTZWFyY2goKSB7CiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMi5kZWZhdWx0KSh0aGlzLCBTZWFyY2gpOwogICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgKDAsIF9jcmVhdGVDbGFzczIuZGVmYXVsdCkoU2VhcmNoLCBbewogICAga2V5OiAiaW5pdERhdGEiLAogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdERhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgYXV0b0ZvY3VzOiBmYWxzZSwKICAgICAgICBib3JkZXI6IGZhbHNlLAogICAgICAgIGZpbGxNb2RlOiAnaW5zaWRlJywKICAgICAgICBpbnB1dElkOiAnc2VhcmNoYm94JywKICAgICAgICBpbnB1dFZhbHVlOiAnJywKICAgICAgICBpc0FuZHJvaWQ6IGZhbHNlLAogICAgICAgIG1heGxlbmd0aDogMjAsCiAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fovpPlhaXmkJzntKLlhbPplK7or40nLAogICAgICAgIHNob3dCdG46IHRydWUsCiAgICAgICAgc2hvd0J0bkNvbmZpcm06IGZhbHNlLAogICAgICAgIGNvbmZpcm1FbXB0eTogZmFsc2UsCiAgICAgICAgaGFzRm9jdXM6IGZhbHNlCiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAiYXR0YWNoZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGF0dGFjaGVkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGF1dG9Gb2N1cyA9IHRoaXMuZGF0YS5nZXQoJ2F1dG9Gb2N1cycpOwogICAgICBhdXRvRm9jdXMgJiYgdGhpcy50cmlnZ2VyRm9jdXMoKTsKICAgICAgIXRoaXMuZGF0YS5nZXQoJ2lzQW5kcm9pZCcpICYmIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoZS50YXJnZXQgIT09IF90aGlzLnJlZignc2VhcmNoLWZvcm0nKSAmJiBlLnRhcmdldCAhPT0gX3RoaXMucmVmKCdzZWFyY2gtaW5wdXQnKSkgewogICAgICAgICAgX3RoaXMudHJpZ2dlckJsdXIoKTsKICAgICAgICB9CiAgICAgIH0sIGZhbHNlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0cmlnZ2VyRm9jdXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRyaWdnZXJGb2N1cygpIHsKICAgICAgdmFyICRpbnB1dCA9IHRoaXMucmVmKCdzZWFyY2gtaW5wdXQnKTsKICAgICAgJGlucHV0LmZvY3VzKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAidHJpZ2dlckJsdXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRyaWdnZXJCbHVyKCkgewogICAgICB2YXIgJGlucHV0ID0gdGhpcy5yZWYoJ3NlYXJjaC1pbnB1dCcpOwogICAgICAkaW5wdXQuYmx1cigpOwogICAgfSAvLyDkuovku7bnsbvlnos6IHN1Ym1pdCwgaW5wdXQsIGZvY3VzLCBibHVyLCBjbGVhciwgY2FuY2VsLCBjb25maXJtCgogIH0sIHsKICAgIGtleTogImhhbmRsZUV2ZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVFdmVudChlLCBldmVudFR5cGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwoKICAgICAgdmFyIF90aGlzJGRhdGEkZ2V0ID0gdGhpcy5kYXRhLmdldCgpLAogICAgICAgICAgaW5wdXRWYWx1ZSA9IF90aGlzJGRhdGEkZ2V0LmlucHV0VmFsdWUsCiAgICAgICAgICBjb25maXJtRW1wdHkgPSBfdGhpcyRkYXRhJGdldC5jb25maXJtRW1wdHksCiAgICAgICAgICBwbGFjZWhvbGRlciA9IF90aGlzJGRhdGEkZ2V0LnBsYWNlaG9sZGVyOwoKICAgICAgdmFyIHZhbHVlID0gaW5wdXRWYWx1ZS50cmltKCk7CiAgICAgIHZhciBmYWxsYmFjayA9IGZhbHNlOwoKICAgICAgc3dpdGNoIChldmVudFR5cGUpIHsKICAgICAgICBjYXNlICdjbGVhcic6CiAgICAgICAgICB7CiAgICAgICAgICAgIHRoaXMuZGF0YS5zZXQoJ2lucHV0VmFsdWUnLCAnJyk7CiAgICAgICAgICAgIHRoaXMudHJpZ2dlckZvY3VzKCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICBjYXNlICdzdWJtaXQnOgogICAgICAgIGNhc2UgJ2NvbmZpcm0nOgogICAgICAgICAgewogICAgICAgICAgICB0aGlzLnRyaWdnZXJCbHVyKCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICBjYXNlICdibHVyJzoKICAgICAgICAgIHsKICAgICAgICAgICAgdGhpcy5kYXRhLnNldCgnaGFzRm9jdXMnLCBmYWxzZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICBjYXNlICdmb2N1cyc6CiAgICAgICAgICB7CiAgICAgICAgICAgIHRoaXMuZGF0YS5zZXQoJ2hhc0ZvY3VzJywgdHJ1ZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGlmICghdmFsdWUgJiYgY29uZmlybUVtcHR5ICYmIChldmVudFR5cGUgPT09ICdzdWJtaXQnIHx8IGV2ZW50VHlwZSA9PT0gJ2NvbmZpcm0nKSkgewogICAgICAgIHZhbHVlID0gcGxhY2Vob2xkZXI7CiAgICAgICAgZmFsbGJhY2sgPSB0cnVlOwogICAgICAgIHRoaXMuZGF0YS5zZXQoJ2lucHV0VmFsdWUnLCBwbGFjZWhvbGRlcik7CiAgICAgIH0KCiAgICAgIHRoaXMuZmlyZShldmVudFR5cGUsIHsKICAgICAgICBpbnB1dFZhbHVlOiB2YWx1ZSwKICAgICAgICBmYWxsYmFjazogZmFsbGJhY2sKICAgICAgfSk7CiAgICB9CiAgfV0pOwogIHJldHVybiBTZWFyY2g7Cn0oX3Nhbi5Db21wb25lbnQpOwoKZXhwb3J0cy5kZWZhdWx0ID0gU2VhcmNoOwooMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShTZWFyY2gsICJ0ZW1wbGF0ZSIsCi8qaHRtbCovCiJcbiAgICAgICAgPGRpdiBjbGFzcz1cInt7d3JhcENsYXNzfX1cIj5cbiAgICAgICAgICAgIDxmb3JtIGNsYXNzPVwiIi5jb25jYXQocHJlZml4Q2xzLCAiXCIgYWN0aW9uPVwiXCIgb24tc3VibWl0PVwiaGFuZGxlRXZlbnQoJGV2ZW50LCAnc3VibWl0JylcIiBzLXJlZj1cInNlYXJjaC1mb3JtXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInt7aW5wdXRJZH19XCIgY2xhc3M9XCIiKS5jb25jYXQocHJlZml4Q2xzLCAiLWxhYmVsXCIgcy1yZWY9XCJzZWFyY2gtbGFiZWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICBzLXJlZj1cInNlYXJjaC1pbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD1cInt7aW5wdXRJZH19XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiIikuY29uY2F0KHByZWZpeENscywgIi1pbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIns9aW5wdXRWYWx1ZT19XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwie3twbGFjZWhvbGRlcn19XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGxlbmd0aD1cInt7bWF4bGVuZ3RofX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlPVwib2ZmXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJzZWFyY2hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb24tYmx1cj1cImhhbmRsZUV2ZW50KCRldmVudCwgJ2JsdXInKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbi1mb2N1cz1cImhhbmRsZUV2ZW50KCRldmVudCwgJ2ZvY3VzJylcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb24taW5wdXQ9XCJoYW5kbGVFdmVudCgkZXZlbnQsICdpbnB1dCcpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uLWNsaWNrPVwidHJpZ2dlckZvY3VzXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSBzLWlmPVwic2hvd0J0blwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgcy1pZj1cImhhc0ZvY3VzICYmIHNob3dCdG5DbGVhclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIiIpLmNvbmNhdChwcmVmaXhDbHMsICItYnRuLWNsZWFyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uLWNsaWNrPVwiaGFuZGxlRXZlbnQoJGV2ZW50LCAnY2xlYXInKVwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiIikuY29uY2F0KHByZWZpeENscywgIi1saW5lXCIvPlxuICAgICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICAgICAgcy1pZj1cImlzQW5kcm9pZCAmJiBoYXNGb2N1cyAmJiBzaG93QnRuQ2xlYXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ7e3NlYXJjaEJ1dHRvbkNsYXNzfX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgb24tY2xpY2s9XCJoYW5kbGVFdmVudCgkZXZlbnQsICdjb25maXJtJylcIlxuICAgICAgICAgICAgICAgICAgICA+XHU2NDFDXHU3RDIyPC9hPlxuICAgICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICAgICAgcy1lbHNlLWlmPVwiaGFzRm9jdXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCIiKS5jb25jYXQocHJlZml4Q2xzLCAiLWJ0blwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbi1jbGljaz1cImhhbmRsZUV2ZW50KCRldmVudCwgJ2NhbmNlbCcpXCJcbiAgICAgICAgICAgICAgICAgICAgPlx1NTNENlx1NkQ4ODwvYT5cbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxuICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAiKSk7CigwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKFNlYXJjaCwgImRhdGFUeXBlcyIsIHsKICBhdXRvRm9jdXM6IF9zYW4uRGF0YVR5cGVzLmJvb2wsCiAgYm9yZGVyOiBfc2FuLkRhdGFUeXBlcy5ib29sLAogIGZpbGxNb2RlOiBfc2FuLkRhdGFUeXBlcy5vbmVPZihbJ25vbmUnLCAnaW5zaWRlJywgJ291dHNpZGUnXSksCiAgaW5wdXRJZDogX3Nhbi5EYXRhVHlwZXMuc3RyaW5nLAogIGlucHV0VmFsdWU6IF9zYW4uRGF0YVR5cGVzLnN0cmluZywKICBpc0FuZHJvaWQ6IF9zYW4uRGF0YVR5cGVzLmJvb2wsCiAgbWF4bGVuZ3RoOiBfc2FuLkRhdGFUeXBlcy5udW1iZXIsCiAgcGxhY2Vob2xkZXI6IF9zYW4uRGF0YVR5cGVzLnN0cmluZywKICBzaG93QnRuOiBfc2FuLkRhdGFUeXBlcy5ib29sLAogIHNob3dCdG5Db25maXJtOiBfc2FuLkRhdGFUeXBlcy5ib29sLAogIGNvbmZpcm1FbXB0eTogX3Nhbi5EYXRhVHlwZXMuYm9vbAp9KTsKKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkoU2VhcmNoLCAiY29tcHV0ZWQiLCB7CiAgd3JhcENsYXNzOiBmdW5jdGlvbiB3cmFwQ2xhc3MoKSB7CiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTsKICAgIHZhciBib3JkZXIgPSBkYXRhLmdldCgnYm9yZGVyJyk7CiAgICB2YXIgaXNBbmRyb2lkID0gZGF0YS5nZXQoJ2lzQW5kcm9pZCcpOwogICAgdmFyIGZpbGxNb2RlID0gZGF0YS5nZXQoJ2ZpbGxNb2RlJyk7CiAgICByZXR1cm4gW2lzQW5kcm9pZCAmJiAnYW5kcm9pZCcsICIiLmNvbmNhdChwcmVmaXhDbHMsICItd3JhcCIpLCAiIi5jb25jYXQocHJlZml4Q2xzLCAiLWZpbGwtIikuY29uY2F0KGZpbGxNb2RlKSwgIWJvcmRlciAmJiBmaWxsTW9kZSAhPT0gJ25vbmUnICYmICIiLmNvbmNhdChwcmVmaXhDbHMsICItYm9yZGVybGVzcyIpXS5maWx0ZXIoZnVuY3Rpb24gKGMpIHsKICAgICAgcmV0dXJuIGM7CiAgICB9KTsKICB9LAogIHNlYXJjaEJ1dHRvbkNsYXNzOiBmdW5jdGlvbiBzZWFyY2hCdXR0b25DbGFzcygpIHsKICAgIHZhciBzaG93QnRuQ2xlYXIgPSB0aGlzLmRhdGEuZ2V0KCdzaG93QnRuQ2xlYXInKTsKICAgIHZhciBjb25maXJtRW1wdHkgPSB0aGlzLmRhdGEuZ2V0KCdjb25maXJtRW1wdHknKTsKICAgIHJldHVybiBbIiIuY29uY2F0KHByZWZpeENscywgIi1idG4iKSwgIXNob3dCdG5DbGVhciAmJiAhY29uZmlybUVtcHR5ICYmICdkaXNhYmxlZCddLmZpbHRlcihmdW5jdGlvbiAoYykgewogICAgICByZXR1cm4gYzsKICAgIH0pOwogIH0sCiAgc2hvd0J0bkNsZWFyOiBmdW5jdGlvbiBzaG93QnRuQ2xlYXIoKSB7CiAgICByZXR1cm4gdGhpcy5kYXRhLmdldCgnaW5wdXRWYWx1ZS5sZW5ndGgnKSA+IDA7CiAgfQp9KTsKCmlmIChtb2R1bGUuaG90KSB7CiAgdmFyIF9fSE9UX0FQSV9fID0gcmVxdWlyZSgnL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvc2FuLWhvdC1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50LWNsaWVudC1hcGkuanMnKTsKCiAgdmFyIF9fSE9UX1VUSUxTX18gPSByZXF1aXJlKCcvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9zYW4taG90LWxvYWRlci9saWIvcnVudGltZS91dGlscy5qcycpOwoKICB2YXIgX19TQU5fQ09NUE9ORU5UX18gPSBfX0hPVF9VVElMU19fLmdldEV4cG9ydHMobW9kdWxlKTsKCiAgaWYgKF9fU0FOX0NPTVBPTkVOVF9fLnRlbXBsYXRlIHx8IF9fU0FOX0NPTVBPTkVOVF9fLnByb3RvdHlwZS50ZW1wbGF0ZSkgewogICAgbW9kdWxlLmhvdC5hY2NlcHQoKTsKCiAgICBfX0hPVF9BUElfXy5pbnN0YWxsKHJlcXVpcmUoJ3NhbicpKTsKCiAgICB2YXIgX19ITVJfSURfXyA9ICcxMTliMjliNic7CgogICAgaWYgKCFtb2R1bGUuaG90LmRhdGEpIHsKICAgICAgX19IT1RfQVBJX18uY3JlYXRlUmVjb3JkKF9fSE1SX0lEX18sIF9fU0FOX0NPTVBPTkVOVF9fKTsKICAgIH0gZWxzZSB7CiAgICAgIF9fSE9UX0FQSV9fLmhvdFJlbG9hZChfX0hNUl9JRF9fLCBfX1NBTl9DT01QT05FTlRfXyk7CiAgICB9CiAgfQp9"},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/nano/es/search/index.js"],"names":["prefixCls","Search","autoFocus","border","fillMode","inputId","inputValue","isAndroid","maxlength","placeholder","showBtn","showBtnConfirm","confirmEmpty","hasFocus","data","get","triggerFocus","document","addEventListener","e","target","ref","triggerBlur","$input","focus","blur","eventType","preventDefault","stopPropagation","value","trim","fallback","set","fire","Component","DataTypes","bool","oneOf","string","number","wrapClass","filter","c","searchButtonClass","showBtnClear","module","hot","__HOT_API__","require","__HOT_UTILS__","__SAN_COMPONENT__","getExports","template","prototype","accept","install","__HMR_ID__","createRecord","hotReload"],"mappings":"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","sourcesContent":["/**\n * @file 组件 search 搜索\n * @author baozhixin <baozhixin@baidu.com>\n */\n\nimport './style/index.less';\nimport {Component, DataTypes} from 'san';\n\nconst prefixCls = 's-search';\n\nexport default class Search extends Component {\n    // eslint-disable-next-line\n    static template = /*html*/ `\n        <div class=\"{{wrapClass}}\">\n            <form class=\"${prefixCls}\" action=\"\" on-submit=\"handleEvent($event, 'submit')\" s-ref=\"search-form\">\n                <label for=\"{{inputId}}\" class=\"${prefixCls}-label\" s-ref=\"search-label\">\n                    <input\n                        s-ref=\"search-input\"\n                        id=\"{{inputId}}\"\n                        class=\"${prefixCls}-input\"\n                        value=\"{=inputValue=}\"\n                        placeholder=\"{{placeholder}}\"\n                        maxlength=\"{{maxlength}}\"\n                        autocomplete=\"off\"\n                        type=\"search\"\n                        on-blur=\"handleEvent($event, 'blur')\"\n                        on-focus=\"handleEvent($event, 'focus')\"\n                        on-input=\"handleEvent($event, 'input')\"\n                        on-click=\"triggerFocus\"\n                    />\n                </label>\n                <template s-if=\"showBtn\">\n                    <span\n                        s-if=\"hasFocus && showBtnClear\"\n                        class=\"${prefixCls}-btn-clear\"\n                        on-click=\"handleEvent($event, 'clear')\"\n                    />\n                    <i class=\"${prefixCls}-line\"/>\n                    <a\n                        s-if=\"isAndroid && hasFocus && showBtnClear\"\n                        class=\"{{searchButtonClass}}\"\n                        on-click=\"handleEvent($event, 'confirm')\"\n                    >搜索</a>\n                    <a\n                        s-else-if=\"hasFocus\"\n                        class=\"${prefixCls}-btn\"\n                        on-click=\"handleEvent($event, 'cancel')\"\n                    >取消</a>\n                </template>\n            </form>\n        </div>\n    `;\n\n    static dataTypes = {\n        autoFocus: DataTypes.bool,\n        border: DataTypes.bool,\n        fillMode: DataTypes.oneOf(['none', 'inside', 'outside']),\n        inputId: DataTypes.string,\n        inputValue: DataTypes.string,\n        isAndroid: DataTypes.bool,\n        maxlength: DataTypes.number,\n        placeholder: DataTypes.string,\n        showBtn: DataTypes.bool,\n        showBtnConfirm: DataTypes.bool,\n        confirmEmpty: DataTypes.bool\n    };\n\n    static computed = {\n        wrapClass() {\n            const data = this.data;\n            const border = data.get('border');\n            const isAndroid = data.get('isAndroid');\n            const fillMode = data.get('fillMode');\n            return [\n                isAndroid && 'android',\n                `${prefixCls}-wrap`,\n                `${prefixCls}-fill-${fillMode}`,\n                (!border && fillMode !== 'none') && `${prefixCls}-borderless`\n            ].filter(c => c);\n        },\n        searchButtonClass() {\n            const showBtnClear = this.data.get('showBtnClear');\n            const confirmEmpty = this.data.get('confirmEmpty');\n            return [\n                `${prefixCls}-btn`,\n                (!showBtnClear && !confirmEmpty) && 'disabled'\n            ].filter(c => c);\n        },\n        showBtnClear() {\n            return this.data.get('inputValue.length') > 0;\n        }\n    };\n\n    initData() {\n        return {\n            autoFocus: false,\n            border: false,\n            fillMode: 'inside',\n            inputId: 'searchbox',\n            inputValue: '',\n            isAndroid: false,\n            maxlength: 20,\n            placeholder: '请输入搜索关键词',\n            showBtn: true,\n            showBtnConfirm: false,\n            confirmEmpty: false,\n            hasFocus: false\n        };\n    }\n\n    attached() {\n        const autoFocus = this.data.get('autoFocus');\n        autoFocus && this.triggerFocus();\n        !this.data.get('isAndroid') && document.addEventListener('click', e => {\n            if (e.target !== this.ref('search-form') && e.target !== this.ref('search-input')) {\n                this.triggerBlur();\n            }\n        }, false);\n    }\n\n    triggerFocus() {\n        const $input = this.ref('search-input');\n        $input.focus();\n    }\n\n    triggerBlur() {\n        const $input = this.ref('search-input');\n        $input.blur();\n    }\n\n    // 事件类型: submit, input, focus, blur, clear, cancel, confirm\n    handleEvent(e, eventType) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const {inputValue, confirmEmpty, placeholder} = this.data.get();\n        let value = inputValue.trim();\n        let fallback = false;\n\n        switch (eventType) {\n            case 'clear': {\n                this.data.set('inputValue', '');\n                this.triggerFocus();\n                break;\n            }\n            case 'submit':\n            case 'confirm': {\n                this.triggerBlur();\n                break;\n            }\n            case 'blur': {\n                this.data.set('hasFocus', false);\n                break;\n            }\n            case 'focus': {\n                this.data.set('hasFocus', true);\n                break;\n            }\n            default: break;\n        }\n\n        if (!value && confirmEmpty && (eventType === 'submit' || eventType === 'confirm')) {\n            value = placeholder;\n            fallback = true;\n            this.data.set('inputValue', placeholder);\n        }\n\n        this.fire(eventType, {inputValue: value, fallback});\n    }\n}\n"]}]}