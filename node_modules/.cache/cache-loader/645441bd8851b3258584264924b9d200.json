{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-player-mini/plugins/PlaybackRate.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-player-mini/plugins/PlaybackRate.js","mtime":1696919504666},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpKTsKCnZhciBfY3JlYXRlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIikpOwoKdmFyIFBsYXliYWNrUmF0ZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gUGxheWJhY2tSYXRlKGFwaSwgcGx1Z2luT3B0aW9ucykgewogICAgKDAsIF9jbGFzc0NhbGxDaGVjazIuZGVmYXVsdCkodGhpcywgUGxheWJhY2tSYXRlKTsKICAgIHRoaXMuYXBpID0gYXBpOwogICAgdGhpcy5wbHVnaW5PcHRpb25zID0gcGx1Z2luT3B0aW9uczsKICB9CiAgLyoqCiAgKiDmkq3mlL7lgI3pgJ8KICAqLwoKCiAgKDAsIF9jcmVhdGVDbGFzczIuZGVmYXVsdCkoUGxheWJhY2tSYXRlLCBbewogICAga2V5OiAiZ2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBpc0lPUyA9IHRoaXMuYXBpLmdldEJveFRvb2xzKCkuaXNJT1M7CgogICAgICBpZiAodGhpcy5hcGkuZ2V0TW9kZSgpID09PSAnbmEnICYmIGlzSU9TKCkpIHsKICAgICAgICByZXR1cm4gdGhpcy5hcGkuZ2V0UGxheWVyT3B0aW9uKCdwbGF5YmFja1JhdGUnKTsKICAgICAgfQoKICAgICAgdmFyIHZpZGVvID0gdGhpcy5hcGkuZ2V0VmlkZW9JbnN0YW5jZSgpOwogICAgICByZXR1cm4gdmlkZW8gPyB2aWRlby5wbGF5YmFja1JhdGUgOiAnJzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldChyYXRlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMkYXBpJGdldEJveFRvb2xzID0gdGhpcy5hcGkuZ2V0Qm94VG9vbHMoKSwKICAgICAgICAgIGlzSU9TID0gX3RoaXMkYXBpJGdldEJveFRvb2xzLmlzSU9TLAogICAgICAgICAgaW52b2tlUCA9IF90aGlzJGFwaSRnZXRCb3hUb29scy5pbnZva2VQOwoKICAgICAgaWYgKHRoaXMuYXBpLmdldE1vZGUoKSA9PT0gJ25hJyAmJiBpc0lPUygpKSB7CiAgICAgICAgdmFyIGNvbnRhaW5lcklkID0gdGhpcy5hcGkuZ2V0UGxheWVyT3B0aW9uKCdjb250YWluZXJJZCcpOwogICAgICAgIGludm9rZVAoJ3ZpZGVvL3NsclBsYXliYWNrUmF0ZScsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBjb250YWluZXJJZDogY29udGFpbmVySWQsCiAgICAgICAgICAgIHBsYXliYWNrUmF0ZTogcmF0ZQogICAgICAgICAgfQogICAgICAgIH0pIC8vIOWGheaguOacquWIneWni+WMlgogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHJldHVybiAhX3RoaXMuYXBpLmdldFBsYXllckNvbnRyb2xsZXIoJ3BsYXllcktlcm5lbEluaXQnKSAmJiBfdGhpcy5hcGkuc2V0UGxheWVyT3B0aW9uKCdwbGF5YmFja1JhdGUnLCByZXMucGxheWJhY2tSYXRlKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciB2aWRlbyA9IHRoaXMuYXBpLmdldFZpZGVvSW5zdGFuY2UoKTsKICAgICAgdmlkZW8gJiYgKHZpZGVvLnBsYXliYWNrUmF0ZSA9IHJhdGUpOwogICAgICB0aGlzLmFwaS5zZXRQbGF5ZXJPcHRpb24oJ3BsYXliYWNrUmF0ZScsIHJhdGUpOwogICAgfQogIH1dKTsKICByZXR1cm4gUGxheWJhY2tSYXRlOwp9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBQbGF5YmFja1JhdGU7"},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-player-mini/plugins/PlaybackRate.js"],"names":["PlaybackRate","api","pluginOptions","isIOS","getBoxTools","getMode","getPlayerOption","video","getVideoInstance","playbackRate","rate","invokeP","containerId","params","then","res","getPlayerController","setPlayerOption"],"mappings":";;;;;;;;;;;;;IAAqBA,Y;AACjB,wBAAYC,GAAZ,EAAiBC,aAAjB,EAAgC;AAAA;AAC5B,SAAKD,GAAL,GAAWA,GAAX;AACA,SAAKC,aAAL,GAAqBA,aAArB;AACH;AACD;AACJ;AACA;;;;;0BACU;AACF,UAAMC,KAAK,GAAG,KAAKF,GAAL,CAASG,WAAT,GAAuBD,KAArC;;AACA,UAAI,KAAKF,GAAL,CAASI,OAAT,OAAuB,IAAvB,IAA+BF,KAAK,EAAxC,EAA4C;AACxC,eAAO,KAAKF,GAAL,CAASK,eAAT,CAAyB,cAAzB,CAAP;AACH;;AACD,UAAMC,KAAK,GAAG,KAAKN,GAAL,CAASO,gBAAT,EAAd;AACA,aAAOD,KAAK,GAAGA,KAAK,CAACE,YAAT,GAAwB,EAApC;AACH;;;wBACGC,I,EAAM;AAAA;;AAAA,kCACmB,KAAKT,GAAL,CAASG,WAAT,EADnB;AAAA,UACCD,KADD,yBACCA,KADD;AAAA,UACQQ,OADR,yBACQA,OADR;;AAEN,UAAI,KAAKV,GAAL,CAASI,OAAT,OAAuB,IAAvB,IAA+BF,KAAK,EAAxC,EAA4C;AACxC,YAAMS,WAAW,GAAG,KAAKX,GAAL,CAASK,eAAT,CAAyB,aAAzB,CAApB;AACAK,QAAAA,OAAO,CAAC,uBAAD,EAA0B;AACzBE,UAAAA,MAAM,EAAE;AACJD,YAAAA,WAAW,EAAXA,WADI;AAEJH,YAAAA,YAAY,EAAEC;AAFV;AADiB,SAA1B,CAAP,CAKO;AALP,SAMKI,IANL,CAMU,UAAAC,GAAG;AAAA,iBACL,CAAC,KAAI,CAACd,GAAL,CAASe,mBAAT,CAA6B,kBAA7B,CAAD,IACG,KAAI,CAACf,GAAL,CAASgB,eAAT,CAAyB,cAAzB,EAAyCF,GAAG,CAACN,YAA7C,CAFE;AAAA,SANb;AAUA;AACH;;AACD,UAAMF,KAAK,GAAG,KAAKN,GAAL,CAASO,gBAAT,EAAd;AACAD,MAAAA,KAAK,KAAKA,KAAK,CAACE,YAAN,GAAqBC,IAA1B,CAAL;AACA,WAAKT,GAAL,CAASgB,eAAT,CAAyB,cAAzB,EAAyCP,IAAzC;AACH","sourcesContent":["export default class PlaybackRate {\n    constructor(api, pluginOptions) {\n        this.api = api;\n        this.pluginOptions = pluginOptions;\n    }\n    /**\n    * 播放倍速\n    */\n    get() {\n        const isIOS = this.api.getBoxTools().isIOS;\n        if (this.api.getMode() === 'na' && isIOS()) {\n            return this.api.getPlayerOption('playbackRate');\n        }\n        const video = this.api.getVideoInstance();\n        return video ? video.playbackRate : '';\n    }\n    set(rate) {\n        const {isIOS, invokeP} = this.api.getBoxTools();\n        if (this.api.getMode() === 'na' && isIOS()) {\n            const containerId = this.api.getPlayerOption('containerId');\n            invokeP('video/slrPlaybackRate', {\n                    params: {\n                        containerId,\n                        playbackRate: rate\n                    }\n                }) // 内核未初始化\n                .then(res => (\n                    !this.api.getPlayerController('playerKernelInit')\n                    && this.api.setPlayerOption('playbackRate', res.playbackRate)\n                ));\n            return;\n        }\n        const video = this.api.getVideoInstance();\n        video && (video.playbackRate = rate);\n        this.api.setPlayerOption('playbackRate', rate);\n    }\n}\n"]}]}