{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/lib/utils/common.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/lib/utils/common.js","mtime":1695633995640},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2giKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLnNjcm9sbFRvQm90dG9tID0gZXhwb3J0cy5kZWJvdW5jZSA9IGV4cG9ydHMuaW52b2tlU2NoZW1lID0gZXhwb3J0cy5sb2FkSW1ncyA9IGV4cG9ydHMuZ2V0VXJsUGFyYW0gPSB2b2lkIDA7CgovKioKICogQGZpbGUgY29tbW9uLmpzCiAqLwp2YXIgZ2V0VXJsUGFyYW0gPSBmdW5jdGlvbiBnZXRVcmxQYXJhbShuYW1lKSB7CiAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoJyhefCgmfC8/KSknICsgbmFtZSArICc9KFteJl0qKSgmfCQpJywgJ2knKTsKICB2YXIgciA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpLm1hdGNoKHJlZyk7CgogIGlmIChyICE9PSBudWxsKSB7CiAgICByZXR1cm4gclszXTsKICB9CgogIHJldHVybiAnJzsKfTsKLyoqCiAqIGxvYWRJbWdzCiAqIEBkZXNjcmlwdGlvbiDnlKjkuo7liqDovb3kuIDkuKrlm77niYfliJfooagKICogQHBhcmFtIHtBcnJheX0gbGlzdCDlm77niYd1cmzliJfooagKICogQHBhcmFtIHtOdW1iZXJ9IG1heFRpbWUg5pyA5aSn5bu26L+f5pe26Ze0KG1zKQogKiBAcmV0dXJucyB7UHJvbWlzZX0g5Yqg6L295a6M5q+V5ZCO55qEUHJvbWlzZQogKi8KCgpleHBvcnRzLmdldFVybFBhcmFtID0gZ2V0VXJsUGFyYW07Cgp2YXIgbG9hZEltZ3MgPSBmdW5jdGlvbiBsb2FkSW1ncyhsaXN0KSB7CiAgdmFyIG1heFRpbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDgwMDsKCiAgaWYgKCFBcnJheS5pc0FycmF5KGxpc3QpKSB7CiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CiAgfQoKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgIHZhciBjb3VudCA9IGxpc3QubGVuZ3RoOwogICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgdmFyIGZsYWcgPSBmYWxzZTsgLy8g5piv5ZCm5aSE55CG6L+H6K+l5Zu+54mH55qE5qCH5b+XCgogICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7CiAgICAgIGltZy5zcmMgPSB1cmw7CgogICAgICB2YXIgcmVzb2x2ZXIgPSBmdW5jdGlvbiByZXNvbHZlcigpIHsKICAgICAgICBpZiAoZmxhZykgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgY291bnQtLTsKICAgICAgICBmbGFnID0gdHJ1ZTsKICAgICAgICBjb3VudCA8PSAwICYmIHJlc29sdmUoKTsKICAgICAgfTsKCiAgICAgIGltZy5vbmxvYWQgPSByZXNvbHZlcjsKICAgICAgaW1nLm9uZXJyb3IgPSByZXNvbHZlcjsKICAgICAgc2V0VGltZW91dChyZXNvbHZlciwgbWF4VGltZSk7CiAgICB9KTsKICB9KTsKfTsKLyoqCiAqIGludm9rZVNjaGVtZQogKiBAZGVzY3JpcHRpb24g6LCD55Soc2NoZW1lCiAqIEBwYXJhbSB7U3RyaW5nfSBzY2hlbWUg6ZyA6KaB6LCD55So55qEc2NoZW1lCiAqIEByZXR1cm5zIHt1bmRlZmluZWR9IOaXoOi/lOWbnuWAvAogKi8KCgpleHBvcnRzLmxvYWRJbWdzID0gbG9hZEltZ3M7Cgp2YXIgaW52b2tlU2NoZW1lID0gZnVuY3Rpb24gaW52b2tlU2NoZW1lKHNjaGVtZSkgewogIGlmICghc2NoZW1lKSB7CiAgICBjb25zb2xlLmVycm9yKCdzY2hlbWEgc2hvdWxkIG5vdCBiZSBlbXB0eScpOwogICAgcmV0dXJuOwogIH0KCiAgdmFyICRub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7CiAgJG5vZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAkbm9kZS5zcmMgPSBzY2hlbWU7CiAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF07CiAgYm9keS5hcHBlbmRDaGlsZCgkbm9kZSk7CiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICBib2R5LnJlbW92ZUNoaWxkKCRub2RlKTsKICAgICRub2RlID0gbnVsbDsKICB9LCAwKTsKfTsKLyoqCiAqIGRlYm91bmNlCiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMKICogQHBhcmFtIHtOdW1iZXJ9IHdhaXQKICogQHBhcmFtIHtCb29sZWFufSBpbW1lZGlhdGUKICovCgoKZXhwb3J0cy5pbnZva2VTY2hlbWUgPSBpbnZva2VTY2hlbWU7Cgp2YXIgZGVib3VuY2UgPSBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBpbW1lZGlhdGUpIHsKICB2YXIgdGltZW91dDsKICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgdmFyIGNvbnRleHQgPSB0aGlzOwogICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7CgogICAgdmFyIGxhdGVyID0gZnVuY3Rpb24gbGF0ZXIoKSB7CiAgICAgIHRpbWVvdXQgPSBudWxsOwoKICAgICAgaWYgKCFpbW1lZGlhdGUpIHsKICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpOwogICAgICB9CiAgICB9OwoKICAgIHZhciBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0OwogICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpOwogICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpOwoKICAgIGlmIChjYWxsTm93KSB7CiAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7CiAgICB9CiAgfTsKfTsKLyoqCiAqIEBkZXNjcmlwdGlvbiDmu5HliLDlrrnlmajlupXpg6gKICovCgoKZXhwb3J0cy5kZWJvdW5jZSA9IGRlYm91bmNlOwoKdmFyIHNjcm9sbFRvQm90dG9tID0gZnVuY3Rpb24gc2Nyb2xsVG9Cb3R0b20ocmVmLCBmdW5jKSB7CiAgaWYgKCFyZWYpIHsKICAgIHJldHVybjsKICB9IC8vIOWuueWZqOa7muWKqOadoea7muWKqOi3neemuwoKCiAgdmFyIHNjcm9sbFRvcCA9IHJlZi5zY3JvbGxUb3A7IC8vIOWuueWZqOWGheWuueWunumZhemrmOW6pgoKICB2YXIgc2Nyb2xsSGVpZ2h0ID0gcmVmLnNjcm9sbEhlaWdodDsgLy8g5a655Zmo5Y+v6KeG6IyD5Zu06auY5bqmCgogIHZhciBjbGllbnRIZWlnaHQgPSByZWYuY2xpZW50SGVpZ2h0OyAvLyDnroDljZXliKTmlq3mu5rliqjliLDlupXvvIzkuI3lkIzorr7lpIfor6/lt64xcHgKCiAgaWYgKHNjcm9sbFRvcCArIGNsaWVudEhlaWdodCA+PSBzY3JvbGxIZWlnaHQgLSAxICYmIHNjcm9sbFRvcCArIGNsaWVudEhlaWdodCA8PSBzY3JvbGxIZWlnaHQgKyAxKSB7CiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGZ1bmMpID09PSAnW29iamVjdCBGdW5jdGlvbl0nKSB7CiAgICAgIC8vIOinpuW6leaJp+ihjOWHveaVsAogICAgICBmdW5jKCk7CiAgICB9CiAgfQp9OwoKZXhwb3J0cy5zY3JvbGxUb0JvdHRvbSA9IHNjcm9sbFRvQm90dG9tOw=="},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/lib/utils/common.js"],"names":["getUrlParam","name","reg","RegExp","r","window","location","search","substr","match","loadImgs","list","maxTime","Array","isArray","Promise","resolve","count","length","forEach","url","flag","img","Image","src","resolver","onload","onerror","setTimeout","invokeScheme","scheme","console","error","$node","document","createElement","style","display","body","getElementsByTagName","appendChild","removeChild","debounce","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","scrollToBottom","ref","scrollTop","scrollHeight","clientHeight","Object","prototype","toString","call"],"mappings":"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","sourcesContent":["/**\n * @file common.js\n */\n\nexport const getUrlParam = name => {\n    let reg = new RegExp('(^|(&|/?))' + name + '=([^&]*)(&|$)', 'i');\n    let r = window.location.search.substr(1).match(reg);\n    if (r !== null) {\n        return (r[3]);\n    }\n    return '';\n};\n\n/**\n * loadImgs\n * @description 用于加载一个图片列表\n * @param {Array} list 图片url列表\n * @param {Number} maxTime 最大延迟时间(ms)\n * @returns {Promise} 加载完毕后的Promise\n */\nexport const loadImgs = (list, maxTime = 800) => {\n    if (!Array.isArray(list)) {\n        return Promise.resolve();\n    }\n    return new Promise(resolve => {\n        let count = list.length;\n        list.forEach(url => {\n            let flag = false; // 是否处理过该图片的标志\n            let img = new Image();\n            img.src = url;\n            const resolver = () => {\n                if (flag) {\n                    return;\n                }\n                count--;\n                flag = true;\n                count <= 0 && resolve();\n            };\n            img.onload = resolver;\n            img.onerror = resolver;\n            setTimeout(resolver, maxTime);\n        });\n    });\n};\n\n/**\n * invokeScheme\n * @description 调用scheme\n * @param {String} scheme 需要调用的scheme\n * @returns {undefined} 无返回值\n */\nexport const invokeScheme = scheme => {\n    if (!scheme) {\n        console.error('schema should not be empty');\n        return;\n    }\n    let $node = document.createElement('iframe');\n    $node.style.display = 'none';\n    $node.src = scheme;\n    let body = document.body || document.getElementsByTagName('body')[0];\n    body.appendChild($node);\n\n    setTimeout(function () {\n        body.removeChild($node);\n        $node = null;\n    }, 0);\n};\n\n/**\n * debounce\n * @param {Function} func\n * @param {Number} wait\n * @param {Boolean} immediate\n */\nexport const debounce = (func, wait, immediate) => {\n    let timeout;\n    return function () {\n        let context = this;\n        let args = arguments;\n        let later = function () {\n            timeout = null;\n            if (!immediate) {\n                func.apply(context, args);\n            }\n        };\n        let callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n};\n\n/**\n * @description 滑到容器底部\n */\nexport const scrollToBottom = (ref, func) => {\n    if (!ref) {\n        return;\n    }\n    // 容器滚动条滚动距离\n    let scrollTop = ref.scrollTop;\n    // 容器内容实际高度\n    let scrollHeight = ref.scrollHeight;\n    // 容器可视范围高度\n    let clientHeight = ref.clientHeight;\n\n    // 简单判断滚动到底，不同设备误差1px\n    if (scrollTop + clientHeight >= scrollHeight - 1 && scrollTop + clientHeight <= scrollHeight + 1){\n        if (Object.prototype.toString.call(func) === '[object Function]') {\n            // 触底执行函数\n            func();\n        }\n    }\n};"]}]}