{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/clipboard/src/clipboard-action.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/clipboard/src/clipboard-action.js","mtime":1696575204304},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX3R5cGVvZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9saWFvaHVhbnl1L3Byb2plY3RzL2JhaWR1LXdvcmsvYmFpZHUvZmVlZDMvbXVsdGktcGFnZXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mIikpOwoKdmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9saWFvaHVhbnl1L3Byb2plY3RzL2JhaWR1LXdvcmsvYmFpZHUvZmVlZDMvbXVsdGktcGFnZXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSk7Cgp2YXIgX2NyZWF0ZUNsYXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpKTsKCnZhciBfc2VsZWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJzZWxlY3QiKSk7CgovKioKICogSW5uZXIgY2xhc3Mgd2hpY2ggcGVyZm9ybXMgc2VsZWN0aW9uIGZyb20gZWl0aGVyIGB0ZXh0YCBvciBgdGFyZ2V0YAogKiBwcm9wZXJ0aWVzIGFuZCB0aGVuIGV4ZWN1dGVzIGNvcHkgb3IgY3V0IG9wZXJhdGlvbnMuCiAqLwp2YXIgQ2xpcGJvYXJkQWN0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAvKioKICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucwogICAqLwogIGZ1bmN0aW9uIENsaXBib2FyZEFjdGlvbihvcHRpb25zKSB7CiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMi5kZWZhdWx0KSh0aGlzLCBDbGlwYm9hcmRBY3Rpb24pOwogICAgdGhpcy5yZXNvbHZlT3B0aW9ucyhvcHRpb25zKTsKICAgIHRoaXMuaW5pdFNlbGVjdGlvbigpOwogIH0KICAvKioKICAgKiBEZWZpbmVzIGJhc2UgcHJvcGVydGllcyBwYXNzZWQgZnJvbSBjb25zdHJ1Y3Rvci4KICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucwogICAqLwoKCiAgKDAsIF9jcmVhdGVDbGFzczIuZGVmYXVsdCkoQ2xpcGJvYXJkQWN0aW9uLCBbewogICAga2V5OiAicmVzb2x2ZU9wdGlvbnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlc29sdmVPcHRpb25zKCkgewogICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgICAgIHRoaXMuYWN0aW9uID0gb3B0aW9ucy5hY3Rpb247CiAgICAgIHRoaXMuY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXI7CiAgICAgIHRoaXMuZW1pdHRlciA9IG9wdGlvbnMuZW1pdHRlcjsKICAgICAgdGhpcy50YXJnZXQgPSBvcHRpb25zLnRhcmdldDsKICAgICAgdGhpcy50ZXh0ID0gb3B0aW9ucy50ZXh0OwogICAgICB0aGlzLnRyaWdnZXIgPSBvcHRpb25zLnRyaWdnZXI7CiAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gJyc7CiAgICB9CiAgICAvKioKICAgICAqIERlY2lkZXMgd2hpY2ggc2VsZWN0aW9uIHN0cmF0ZWd5IGlzIGdvaW5nIHRvIGJlIGFwcGxpZWQgYmFzZWQKICAgICAqIG9uIHRoZSBleGlzdGVuY2Ugb2YgYHRleHRgIGFuZCBgdGFyZ2V0YCBwcm9wZXJ0aWVzLgogICAgICovCgogIH0sIHsKICAgIGtleTogImluaXRTZWxlY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRTZWxlY3Rpb24oKSB7CiAgICAgIGlmICh0aGlzLnRleHQpIHsKICAgICAgICB0aGlzLnNlbGVjdEZha2UoKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldCkgewogICAgICAgIHRoaXMuc2VsZWN0VGFyZ2V0KCk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQ3JlYXRlcyBhIGZha2UgdGV4dGFyZWEgZWxlbWVudCwgc2V0cyBpdHMgdmFsdWUgZnJvbSBgdGV4dGAgcHJvcGVydHksCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiY3JlYXRlRmFrZUVsZW1lbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUZha2VFbGVtZW50KCkgewogICAgICB2YXIgaXNSVEwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXInKSA9PT0gJ3J0bCc7CiAgICAgIHRoaXMuZmFrZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpOyAvLyBQcmV2ZW50IHpvb21pbmcgb24gaU9TCgogICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmZvbnRTaXplID0gJzEycHQnOyAvLyBSZXNldCBib3ggbW9kZWwKCiAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUuYm9yZGVyID0gJzAnOwogICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnBhZGRpbmcgPSAnMCc7CiAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUubWFyZ2luID0gJzAnOyAvLyBNb3ZlIGVsZW1lbnQgb3V0IG9mIHNjcmVlbiBob3Jpem9udGFsbHkKCiAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwogICAgICB0aGlzLmZha2VFbGVtLnN0eWxlW2lzUlRMID8gJ3JpZ2h0JyA6ICdsZWZ0J10gPSAnLTk5OTlweCc7IC8vIE1vdmUgZWxlbWVudCB0byB0aGUgc2FtZSBwb3NpdGlvbiB2ZXJ0aWNhbGx5CgogICAgICB2YXIgeVBvc2l0aW9uID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7CiAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUudG9wID0gIiIuY29uY2F0KHlQb3NpdGlvbiwgInB4Iik7CiAgICAgIHRoaXMuZmFrZUVsZW0uc2V0QXR0cmlidXRlKCdyZWFkb25seScsICcnKTsKICAgICAgdGhpcy5mYWtlRWxlbS52YWx1ZSA9IHRoaXMudGV4dDsKICAgICAgcmV0dXJuIHRoaXMuZmFrZUVsZW07CiAgICB9CiAgICAvKioKICAgICAqIEdldCdzIHRoZSB2YWx1ZSBvZiBmYWtlRWxlbSwKICAgICAqIGFuZCBtYWtlcyBhIHNlbGVjdGlvbiBvbiBpdC4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJzZWxlY3RGYWtlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RGYWtlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGZha2VFbGVtID0gdGhpcy5jcmVhdGVGYWtlRWxlbWVudCgpOwoKICAgICAgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpcy5yZW1vdmVGYWtlKCk7CiAgICAgIH07CgogICAgICB0aGlzLmZha2VIYW5kbGVyID0gdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spIHx8IHRydWU7CiAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGZha2VFbGVtKTsKICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAoMCwgX3NlbGVjdC5kZWZhdWx0KShmYWtlRWxlbSk7CiAgICAgIHRoaXMuY29weVRleHQoKTsKICAgICAgdGhpcy5yZW1vdmVGYWtlKCk7CiAgICB9CiAgICAvKioKICAgICAqIE9ubHkgcmVtb3ZlcyB0aGUgZmFrZSBlbGVtZW50IGFmdGVyIGFub3RoZXIgY2xpY2sgZXZlbnQsIHRoYXQgd2F5CiAgICAgKiBhIHVzZXIgY2FuIGhpdCBgQ3RybCtDYCB0byBjb3B5IGJlY2F1c2Ugc2VsZWN0aW9uIHN0aWxsIGV4aXN0cy4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJyZW1vdmVGYWtlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVGYWtlKCkgewogICAgICBpZiAodGhpcy5mYWtlSGFuZGxlcikgewogICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKTsKICAgICAgICB0aGlzLmZha2VIYW5kbGVyID0gbnVsbDsKICAgICAgICB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2sgPSBudWxsOwogICAgICB9CgogICAgICBpZiAodGhpcy5mYWtlRWxlbSkgewogICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuZmFrZUVsZW0pOwogICAgICAgIHRoaXMuZmFrZUVsZW0gPSBudWxsOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFNlbGVjdHMgdGhlIGNvbnRlbnQgZnJvbSBlbGVtZW50IHBhc3NlZCBvbiBgdGFyZ2V0YCBwcm9wZXJ0eS4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJzZWxlY3RUYXJnZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdFRhcmdldCgpIHsKICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAoMCwgX3NlbGVjdC5kZWZhdWx0KSh0aGlzLnRhcmdldCk7CiAgICAgIHRoaXMuY29weVRleHQoKTsKICAgIH0KICAgIC8qKgogICAgICogRXhlY3V0ZXMgdGhlIGNvcHkgb3BlcmF0aW9uIGJhc2VkIG9uIHRoZSBjdXJyZW50IHNlbGVjdGlvbi4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJjb3B5VGV4dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29weVRleHQoKSB7CiAgICAgIHZhciBzdWNjZWVkZWQ7CgogICAgICB0cnkgewogICAgICAgIHN1Y2NlZWRlZCA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuYWN0aW9uKTsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgc3VjY2VlZGVkID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIHRoaXMuaGFuZGxlUmVzdWx0KHN1Y2NlZWRlZCk7CiAgICB9CiAgICAvKioKICAgICAqIEZpcmVzIGFuIGV2ZW50IGJhc2VkIG9uIHRoZSBjb3B5IG9wZXJhdGlvbiByZXN1bHQuCiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHN1Y2NlZWRlZAogICAgICovCgogIH0sIHsKICAgIGtleTogImhhbmRsZVJlc3VsdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUmVzdWx0KHN1Y2NlZWRlZCkgewogICAgICB0aGlzLmVtaXR0ZXIuZW1pdChzdWNjZWVkZWQgPyAnc3VjY2VzcycgOiAnZXJyb3InLCB7CiAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbiwKICAgICAgICB0ZXh0OiB0aGlzLnNlbGVjdGVkVGV4dCwKICAgICAgICB0cmlnZ2VyOiB0aGlzLnRyaWdnZXIsCiAgICAgICAgY2xlYXJTZWxlY3Rpb246IHRoaXMuY2xlYXJTZWxlY3Rpb24uYmluZCh0aGlzKQogICAgICB9KTsKICAgIH0KICAgIC8qKgogICAgICogTW92ZXMgZm9jdXMgYXdheSBmcm9tIGB0YXJnZXRgIGFuZCBiYWNrIHRvIHRoZSB0cmlnZ2VyLCByZW1vdmVzIGN1cnJlbnQgc2VsZWN0aW9uLgogICAgICovCgogIH0sIHsKICAgIGtleTogImNsZWFyU2VsZWN0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhclNlbGVjdGlvbigpIHsKICAgICAgaWYgKHRoaXMudHJpZ2dlcikgewogICAgICAgIHRoaXMudHJpZ2dlci5mb2N1cygpOwogICAgICB9CgogICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTsKICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpOwogICAgfQogICAgLyoqCiAgICAgKiBTZXRzIHRoZSBgYWN0aW9uYCB0byBiZSBwZXJmb3JtZWQgd2hpY2ggY2FuIGJlIGVpdGhlciAnY29weScgb3IgJ2N1dCcuCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZGVzdHJveSIsCgogICAgLyoqCiAgICAgKiBEZXN0cm95IGxpZmVjeWNsZS4KICAgICAqLwogICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgIHRoaXMucmVtb3ZlRmFrZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogImFjdGlvbiIsCiAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHsKICAgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ2NvcHknOwogICAgICB0aGlzLl9hY3Rpb24gPSBhY3Rpb247CgogICAgICBpZiAodGhpcy5fYWN0aW9uICE9PSAnY29weScgJiYgdGhpcy5fYWN0aW9uICE9PSAnY3V0JykgewogICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCAiYWN0aW9uIiB2YWx1ZSwgdXNlIGVpdGhlciAiY29weSIgb3IgImN1dCInKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBHZXRzIHRoZSBgYWN0aW9uYCBwcm9wZXJ0eS4KICAgICAqIEByZXR1cm4ge1N0cmluZ30KICAgICAqLwogICAgLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9hY3Rpb247CiAgICB9CiAgICAvKioKICAgICAqIFNldHMgdGhlIGB0YXJnZXRgIHByb3BlcnR5IHVzaW5nIGFuIGVsZW1lbnQKICAgICAqIHRoYXQgd2lsbCBiZSBoYXZlIGl0cyBjb250ZW50IGNvcGllZC4KICAgICAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidGFyZ2V0IiwKICAgIHNldDogZnVuY3Rpb24gc2V0KHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAodGFyZ2V0ICYmICgwLCBfdHlwZW9mMi5kZWZhdWx0KSh0YXJnZXQpID09PSAnb2JqZWN0JyAmJiB0YXJnZXQubm9kZVR5cGUgPT09IDEpIHsKICAgICAgICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ2NvcHknICYmIHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJ0YXJnZXQiIGF0dHJpYnV0ZS4gUGxlYXNlIHVzZSAicmVhZG9ubHkiIGluc3RlYWQgb2YgImRpc2FibGVkIiBhdHRyaWJ1dGUnKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdjdXQnICYmICh0YXJnZXQuaGFzQXR0cmlidXRlKCdyZWFkb25seScpIHx8IHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCAidGFyZ2V0IiBhdHRyaWJ1dGUuIFlvdSBjYW5cJ3QgY3V0IHRleHQgZnJvbSBlbGVtZW50cyB3aXRoICJyZWFkb25seSIgb3IgImRpc2FibGVkIiBhdHRyaWJ1dGVzJyk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgInRhcmdldCIgdmFsdWUsIHVzZSBhIHZhbGlkIEVsZW1lbnQnKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogR2V0cyB0aGUgYHRhcmdldGAgcHJvcGVydHkuCiAgICAgKiBAcmV0dXJuIHtTdHJpbmd8SFRNTEVsZW1lbnR9CiAgICAgKi8KICAgICwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0OwogICAgfQogIH1dKTsKICByZXR1cm4gQ2xpcGJvYXJkQWN0aW9uOwp9KCk7Cgp2YXIgX2RlZmF1bHQgPSBDbGlwYm9hcmRBY3Rpb247CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/clipboard/src/clipboard-action.js"],"names":["ClipboardAction","options","resolveOptions","initSelection","action","container","emitter","target","text","trigger","selectedText","selectFake","selectTarget","isRTL","document","documentElement","getAttribute","fakeElem","createElement","style","fontSize","border","padding","margin","position","yPosition","window","pageYOffset","scrollTop","top","setAttribute","value","createFakeElement","fakeHandlerCallback","removeFake","fakeHandler","addEventListener","appendChild","copyText","removeEventListener","removeChild","succeeded","execCommand","err","handleResult","emit","clearSelection","bind","focus","activeElement","blur","getSelection","removeAllRanges","_action","Error","undefined","nodeType","hasAttribute","_target"],"mappings":"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","sourcesContent":["import select from 'select';\n\n/**\n * Inner class which performs selection from either `text` or `target`\n * properties and then executes copy or cut operations.\n */\nclass ClipboardAction {\n  /**\n   * @param {Object} options\n   */\n  constructor(options) {\n    this.resolveOptions(options);\n    this.initSelection();\n  }\n\n  /**\n   * Defines base properties passed from constructor.\n   * @param {Object} options\n   */\n  resolveOptions(options = {}) {\n    this.action = options.action;\n    this.container = options.container;\n    this.emitter = options.emitter;\n    this.target = options.target;\n    this.text = options.text;\n    this.trigger = options.trigger;\n\n    this.selectedText = '';\n  }\n\n  /**\n   * Decides which selection strategy is going to be applied based\n   * on the existence of `text` and `target` properties.\n   */\n  initSelection() {\n    if (this.text) {\n      this.selectFake();\n    } else if (this.target) {\n      this.selectTarget();\n    }\n  }\n\n  /**\n   * Creates a fake textarea element, sets its value from `text` property,\n   */\n  createFakeElement() {\n    const isRTL = document.documentElement.getAttribute('dir') === 'rtl';\n\n    this.fakeElem = document.createElement('textarea');\n    // Prevent zooming on iOS\n    this.fakeElem.style.fontSize = '12pt';\n    // Reset box model\n    this.fakeElem.style.border = '0';\n    this.fakeElem.style.padding = '0';\n    this.fakeElem.style.margin = '0';\n    // Move element out of screen horizontally\n    this.fakeElem.style.position = 'absolute';\n    this.fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px';\n    // Move element to the same position vertically\n    let yPosition = window.pageYOffset || document.documentElement.scrollTop;\n    this.fakeElem.style.top = `${yPosition}px`;\n\n    this.fakeElem.setAttribute('readonly', '');\n    this.fakeElem.value = this.text;\n\n    return this.fakeElem;\n  }\n\n  /**\n   * Get's the value of fakeElem,\n   * and makes a selection on it.\n   */\n  selectFake() {\n    const fakeElem = this.createFakeElement();\n\n    this.fakeHandlerCallback = () => this.removeFake();\n\n    this.fakeHandler =\n      this.container.addEventListener('click', this.fakeHandlerCallback) ||\n      true;\n\n    this.container.appendChild(fakeElem);\n\n    this.selectedText = select(fakeElem);\n\n    this.copyText();\n\n    this.removeFake();\n  }\n\n  /**\n   * Only removes the fake element after another click event, that way\n   * a user can hit `Ctrl+C` to copy because selection still exists.\n   */\n  removeFake() {\n    if (this.fakeHandler) {\n      this.container.removeEventListener('click', this.fakeHandlerCallback);\n      this.fakeHandler = null;\n      this.fakeHandlerCallback = null;\n    }\n\n    if (this.fakeElem) {\n      this.container.removeChild(this.fakeElem);\n      this.fakeElem = null;\n    }\n  }\n\n  /**\n   * Selects the content from element passed on `target` property.\n   */\n  selectTarget() {\n    this.selectedText = select(this.target);\n    this.copyText();\n  }\n\n  /**\n   * Executes the copy operation based on the current selection.\n   */\n  copyText() {\n    let succeeded;\n\n    try {\n      succeeded = document.execCommand(this.action);\n    } catch (err) {\n      succeeded = false;\n    }\n\n    this.handleResult(succeeded);\n  }\n\n  /**\n   * Fires an event based on the copy operation result.\n   * @param {Boolean} succeeded\n   */\n  handleResult(succeeded) {\n    this.emitter.emit(succeeded ? 'success' : 'error', {\n      action: this.action,\n      text: this.selectedText,\n      trigger: this.trigger,\n      clearSelection: this.clearSelection.bind(this),\n    });\n  }\n\n  /**\n   * Moves focus away from `target` and back to the trigger, removes current selection.\n   */\n  clearSelection() {\n    if (this.trigger) {\n      this.trigger.focus();\n    }\n    document.activeElement.blur();\n    window.getSelection().removeAllRanges();\n  }\n\n  /**\n   * Sets the `action` to be performed which can be either 'copy' or 'cut'.\n   * @param {String} action\n   */\n  set action(action = 'copy') {\n    this._action = action;\n\n    if (this._action !== 'copy' && this._action !== 'cut') {\n      throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n    }\n  }\n\n  /**\n   * Gets the `action` property.\n   * @return {String}\n   */\n  get action() {\n    return this._action;\n  }\n\n  /**\n   * Sets the `target` property using an element\n   * that will be have its content copied.\n   * @param {Element} target\n   */\n  set target(target) {\n    if (target !== undefined) {\n      if (target && typeof target === 'object' && target.nodeType === 1) {\n        if (this.action === 'copy' && target.hasAttribute('disabled')) {\n          throw new Error(\n            'Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute'\n          );\n        }\n\n        if (\n          this.action === 'cut' &&\n          (target.hasAttribute('readonly') || target.hasAttribute('disabled'))\n        ) {\n          throw new Error(\n            'Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes'\n          );\n        }\n\n        this._target = target;\n      } else {\n        throw new Error('Invalid \"target\" value, use a valid Element');\n      }\n    }\n  }\n\n  /**\n   * Gets the `target` property.\n   * @return {String|HTMLElement}\n   */\n  get target() {\n    return this._target;\n  }\n\n  /**\n   * Destroy lifecycle.\n   */\n  destroy() {\n    this.removeFake();\n  }\n}\n\nexport default ClipboardAction;\n"]}]}