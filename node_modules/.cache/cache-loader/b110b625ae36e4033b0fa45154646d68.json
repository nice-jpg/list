{"remainingRequest":"/Users/a2012/Desktop/list/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/a2012/Desktop/list/node_modules/@baidu/ug-error-log/dist/index.js","dependencies":[{"path":"/Users/a2012/Desktop/list/node_modules/@baidu/ug-error-log/dist/index.js","mtime":1696919508000},{"path":"/Users/a2012/Desktop/list/node_modules/san-hot-loader/index.js","mtime":1696919525000},{"path":"/Users/a2012/Desktop/list/node_modules/cache-loader/dist/cjs.js","mtime":1696919513000},{"path":"/Users/a2012/Desktop/list/node_modules/babel-loader/lib/index.js","mtime":1696919524000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvYTIwMTIvRGVza3RvcC9saXN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuYXNzaWduIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIik7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuSDVFcnJMb2cgPSBleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2EyMDEyL0Rlc2t0b3AvbGlzdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSIpKTsKCnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvYTIwMTIvRGVza3RvcC9saXN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIikpOwoKdmFyIF9jcmVhdGVDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9hMjAxMi9EZXNrdG9wL2xpc3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSk7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8qKgogKiBAZmlsZTogdXRpbHMuanMKICogQGRlczog6YCa55So5pa55rOV5bqTCiAqIEBhdXRob3I6IHpoYW5namlhcWkwMwogKiBAZGF0ZTogMjAyMC0wOC0xNyAxNzozMDo0NAogKiBAbGFzdCBtb2RpZmllZCBieTogICB6aGFuZ2ppYXFpMDMKICogQGxhc3QgbW9kaWZpZWQgdGltZTogMjAyMC0wOC0xNyAxNzozMDo0NAogKi8KCi8qKgogKiDlsIbnu5nlrprlr7nosaHovazmiJDluo/liJfljJbnmoQgcXVlcnlTdHJpbmcKICoKICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOW+hei9rOaNouWvueixoQogKiBAcmV0dXJuIHtzdHJpbmd9IHF1ZXJ5U3RyaW5nCiAqLwpmdW5jdGlvbiB0b1F1ZXJ5U3RyaW5nKHF1ZXJ5KSB7CiAgdmFyIHNlYXJjaCA9IE9iamVjdC5rZXlzKHF1ZXJ5KS5yZWR1Y2UoZnVuY3Rpb24gKHJlcywga2V5KSB7CiAgICB2YXIgdmFsdWUgPSBxdWVyeVtrZXldOwogICAgcmVzICs9ICcmJyArIGtleSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7CiAgICByZXR1cm4gcmVzOwogIH0sICcnKTsKICByZXR1cm4gc2VhcmNoLnNsaWNlKDEpOwp9Ci8qKgogKiDnlJ/miJDkuIDkuKrpmo/mnLppZAogKgogKiBAcmV0dXJuIHtzdHJpbmd9IGlkCiAqLwoKCmZ1bmN0aW9uIGdldElkKCkgewogIHZhciBzdHIgPSAnJzsKICB2YXIgZGljdCA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkwJzsKCiAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IDg7IGkgPCBsZW5ndGg7ICsraSkgewogICAgc3RyICs9IGRpY3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZGljdC5sZW5ndGgpXTsKICB9CgogIHJldHVybiBzdHI7Cn0KLyoqCiAqIEBmaWxlOiBpbmRleC5qcwogKiBAZGVzOiDnlKjmiLflop7plb9oNemUmeivr+aXpeW/l+aJk+eCueW6kwogKiBAYXV0aG9yOiB6aGFuZ2ppYXFpMDMKICogQGRhdGU6IDIwMjAtMDgtMTcgMTc6MjA6NDAKICogQGxhc3QgbW9kaWZpZWQgYnk6ICAgemhhbmdqaWFxaTAzCiAqIEBsYXN0IG1vZGlmaWVkIHRpbWU6IDIwMjAtMDgtMTcgMTc6MjA6NDAKICovCgoKdmFyIERFRkFVTFRfQ09ORklHID0gewogIC8vIOS4muWKoeagh+ivhgogIGFwcDogJycsCiAgLy8g5LiK5oql5Zyw5Z2ACiAgdXJsOiAnaHR0cHM6Ly9hY3Rpdml0eS5iYWlkdS5jb20vYWN0aXZpdHkvZmVsb2cvZXJyb3InLAogIC8vIOebkeWQrOmhtemdoumUmeivr++8jOiHquWKqOS4iuaKpQogIHdhdGNoOiB0cnVlCn07Cgp2YXIgSDVFcnJMb2cgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEg1RXJyTG9nKCkgewogICAgKDAsIF9jbGFzc0NhbGxDaGVjazIuZGVmYXVsdCkodGhpcywgSDVFcnJMb2cpOwogICAgLy8g6YWN572uCiAgICB0aGlzLmNvbmZpZyA9IHt9OyAvLyDlj4LmlbDmmK/lkKbmoKHpqozpgJrov4cKCiAgICB0aGlzLmlzQ2hlY2tlZFBhcmFtcyA9IHRydWU7CiAgfQoKICAoMCwgX2NyZWF0ZUNsYXNzMi5kZWZhdWx0KShINUVyckxvZywgW3sKICAgIGtleTogImluaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogICAgICB0aGlzLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfQ09ORklHLCBjb25maWcpOwoKICAgICAgaWYgKCF0aGlzLmNvbmZpZy5hcHApIHsKICAgICAgICB0aGlzLmlzQ2hlY2tlZFBhcmFtcyA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUuZXJyb3IoJ1toNS1lcnJvci1sb2ddOiBhcHDlj4LmlbDlv4Xloat+Jyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIOmHjee9rmlzQ2hlY2tlZFBhcmFtc++8jOmYsuatouWkmuasoWluaXQKCgogICAgICB0aGlzLmlzQ2hlY2tlZFBhcmFtcyA9IHRydWU7CgogICAgICBpZiAodGhpcy5jb25maWcud2F0Y2gpIHsKICAgICAgICB0aGlzLndhdGNoKCk7CiAgICAgIH0KCiAgICAgIGRlbGV0ZSB0aGlzLmNvbmZpZy53YXRjaDsKICAgIH0KICAgIC8qKgogICAgICog55uR5o6n6aG16Z2i5oql6ZSZ5bm25LiK5oqlCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAid2F0Y2giLAogICAgdmFsdWU6IGZ1bmN0aW9uIHdhdGNoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKCkgewogICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgICB9CgogICAgICAgIF90aGlzLnNlbmQoewogICAgICAgICAgbGV2ZWw6ICdlcnJvcicsCiAgICAgICAgICB0eXBlOiAncGFnZScsCiAgICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeShhcmdzKSwKICAgICAgICAgIGV4dDogewogICAgICAgICAgICBlcnJtc2c6IEpTT04uc3RyaW5naWZ5KGFyZ3MpCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOyAvLyDmjZXojrfkuLpjYXRjaOeahOW8guatpemUmeivrwoKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VuaGFuZGxlZHJlamVjdGlvbicsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgIF90aGlzLnNlbmQoewogICAgICAgICAgbGV2ZWw6ICd1bmhhbmRsZWRyZWplY3Rpb24nLAogICAgICAgICAgdHlwZTogJ3BhZ2UnLAogICAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkoZXZlbnQucmVhc29uKSwKICAgICAgICAgIGV4dDogewogICAgICAgICAgICBlcnJtc2c6IEpTT04uc3RyaW5naWZ5KGV2ZW50LnJlYXNvbikKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgICAvKioKICAgICAqIOaXpeW/l+WPkemAgQogICAgICoKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlcnJJbmZvIOmUmeivr+S/oeaBr+WFpeWPggogICAgICogQHBhcmFtIHtzdHJpbmd9IGVyckluZm8ubGV2ZWwg5pel5b+X562J57qnIGluZm8vZXJyb3IKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlcnJJbmZvLnR5cGUg5pel5b+X57G75Z6LIG5ldC9hcHAvYXBpLy4uLuetiQogICAgICogQHBhcmFtIHtzdHJpbmd9IGVyckluZm8uY29udGVudCDml6Xlv5fplJnor6/kv6Hmga8KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlcnJJbmZvLmV4dCDml6Xlv5fpop3lpJbkv6Hmga8KICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlcnJJbmZvLmV4dC5lcnJtc2cg5pel5b+X6aKd5aSW5L+h5oGv5a2X56ym5LiyCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzZVNlbmRiZWFjb24g5L2/55SoU2VuZGJlYWNvbuWPkemAgeaXpeW/l++8jOm7mOiupOWFs+mXrQogICAgICovCgogIH0sIHsKICAgIGtleTogInNlbmQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmQoKSB7CiAgICAgIHZhciBlcnJJbmZvID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7CiAgICAgICAgbGV2ZWw6ICdpbmZvJywKICAgICAgICB0eXBlOiAnLScsCiAgICAgICAgY29udGVudDogJy0nLAogICAgICAgIGV4dDogewogICAgICAgICAgZXJybXNnOiAnJwogICAgICAgIH0KICAgICAgfTsKICAgICAgdmFyIHVzZVNlbmRiZWFjb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwoKICAgICAgaWYgKCF0aGlzLmlzQ2hlY2tlZFBhcmFtcykgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ1toNS1lcnJvci1sb2ddOiDlj4LmlbDmoKHpqozlpLHotKXvvIzor7fmo4Dmn6Vpbml05Y+C5pWwJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgZGF0YSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5jb25maWcpLCBlcnJJbmZvKTsKCiAgICAgIGRhdGEuZXh0ID0gSlNPTi5zdHJpbmdpZnkoZGF0YS5leHQgfHwge30pOwogICAgICBkYXRhLmg1ID0gJzEnOwogICAgICBkZWxldGUgZGF0YS51cmw7CiAgICAgIHZhciBxdWVyeVN0cmluZyA9IHRvUXVlcnlTdHJpbmcoZGF0YSk7IC8vIOWmguaenHNlbmRCZWFjb27lpLHotKXliJnkvb/nlKhsb2FkSW1hZ2XmlrnlvI8KCiAgICAgIGlmICghdXNlU2VuZGJlYWNvbiB8fCB1c2VTZW5kYmVhY29uICYmICF0aGlzLnNlbmRCZWFjb24ocXVlcnlTdHJpbmcpKSB7CiAgICAgICAgdGhpcy5sb2FkSW1hZ2UocXVlcnlTdHJpbmcpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIOWPkemAgeWbvueJh+ivt+axggogICAgICoKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeSDmi7zmjqXmiJBnZXTor7fmsYLlrZfnrKbkuLIKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJsb2FkSW1hZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRJbWFnZShxdWVyeSkgewogICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7CiAgICAgIHZhciBpbWdJZCA9ICdfaW1nXycgKyBnZXRJZCgpOwogICAgICB3aW5kb3dbaW1nSWRdID0gaW1nOwoKICAgICAgaW1nLm9ubG9hZCA9IGltZy5vbmVycm9yID0gaW1nLm9uYWJvcnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaW1nID0gaW1nLm9ubG9hZCA9IGltZy5vbmVycm9yID0gaW1nLm9uYWJvcnQgPSBudWxsOwogICAgICAgIGRlbGV0ZSB3aW5kb3dbaW1nSWRdOwogICAgICB9OwoKICAgICAgaW1nLnNyYyA9IHRoaXMuY29uZmlnLnVybCArICc/JyArIHF1ZXJ5OwogICAgfQogICAgLyoqCiAgICAgKiDpgJrov4dzZW5kQmVhY29u5Y+R6YCB6K+35rGCCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcXVlcnkg5ou85o6l5oiQ6K+35rGC5a2X56ym5LiyCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAic2VuZEJlYWNvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZEJlYWNvbihxdWVyeSkgewogICAgICBpZiAoJ3NlbmRCZWFjb24nIGluIG5hdmlnYXRvcikgewogICAgICAgIHJldHVybiBuYXZpZ2F0b3Iuc2VuZEJlYWNvbigiIi5jb25jYXQodGhpcy5jb25maWcudXJsLCAiPyIpLmNvbmNhdChxdWVyeSkpOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfV0pOwogIHJldHVybiBINUVyckxvZzsKfSgpOyAvLyDpu5jorqTlr7zlh7puZXflpb3nmoTlrp7kvosKCgpleHBvcnRzLkg1RXJyTG9nID0gSDVFcnJMb2c7CnZhciBpbmRleCA9IG5ldyBINUVyckxvZygpOyAvLyDlr7zlh7rmnoTpgKDlh73mlbAKCnZhciBfZGVmYXVsdCA9IGluZGV4OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["/Users/a2012/Desktop/list/node_modules/@baidu/ug-error-log/dist/index.js"],"names":["toQueryString","query","search","Object","keys","reduce","res","key","value","encodeURIComponent","slice","getId","str","dict","i","length","Math","floor","random","DEFAULT_CONFIG","app","url","watch","H5ErrLog","config","isCheckedParams","assign","console","error","window","addEventListener","args","send","level","type","content","JSON","stringify","ext","errmsg","event","preventDefault","reason","errInfo","useSendbeacon","data","h5","queryString","sendBeacon","loadImage","img","Image","imgId","onload","onerror","onabort","src","navigator","index"],"mappings":"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","sourcesContent":["/**\n * @file: utils.js\n * @des: 通用方法库\n * @author: zhangjiaqi03\n * @date: 2020-08-17 17:30:44\n * @last modified by:   zhangjiaqi03\n * @last modified time: 2020-08-17 17:30:44\n */\n\n/**\n * 将给定对象转成序列化的 queryString\n *\n * @param {Object} query 待转换对象\n * @return {string} queryString\n */\nfunction toQueryString(query) {\n  const search = Object.keys(query).reduce((res, key) => {\n    const value = query[key];\n    res += '&' + key + '=' + encodeURIComponent(value);\n    return res;\n  }, '');\n  return search.slice(1);\n}\n/**\n * 生成一个随机id\n *\n * @return {string} id\n */\n\nfunction getId() {\n  let str = '';\n  const dict = 'abcdefghijklmnopqrstuvwxyz01234567890';\n\n  for (let i = 0, length = 8; i < length; ++i) {\n    str += dict[Math.floor(Math.random() * dict.length)];\n  }\n\n  return str;\n}\n\n/**\n * @file: index.js\n * @des: 用户增长h5错误日志打点库\n * @author: zhangjiaqi03\n * @date: 2020-08-17 17:20:40\n * @last modified by:   zhangjiaqi03\n * @last modified time: 2020-08-17 17:20:40\n */\nconst DEFAULT_CONFIG = {\n  // 业务标识\n  app: '',\n  // 上报地址\n  url: 'https://activity.baidu.com/activity/felog/error',\n  // 监听页面错误，自动上报\n  watch: true\n};\n\nclass H5ErrLog {\n  constructor() {\n    // 配置\n    this.config = {}; // 参数是否校验通过\n\n    this.isCheckedParams = true;\n  }\n\n  init(config = {}) {\n    this.config = Object.assign({}, DEFAULT_CONFIG, config);\n\n    if (!this.config.app) {\n      this.isCheckedParams = false;\n      console.error('[h5-error-log]: app参数必填~');\n      return;\n    } // 重置isCheckedParams，防止多次init\n\n\n    this.isCheckedParams = true;\n\n    if (this.config.watch) {\n      this.watch();\n    }\n\n    delete this.config.watch;\n  }\n  /**\n   * 监控页面报错并上报\n   */\n\n\n  watch() {\n    window.addEventListener('error', (...args) => {\n      this.send({\n        level: 'error',\n        type: 'page',\n        content: JSON.stringify(args),\n        ext: {\n          errmsg: JSON.stringify(args)\n        }\n      });\n    }); // 捕获为catch的异步错误\n\n    window.addEventListener('unhandledrejection', event => {\n      event.preventDefault();\n      this.send({\n        level: 'unhandledrejection',\n        type: 'page',\n        content: JSON.stringify(event.reason),\n        ext: {\n          errmsg: JSON.stringify(event.reason)\n        }\n      });\n    });\n  }\n  /**\n   * 日志发送\n   *\n   * @param {Object} errInfo 错误信息入参\n   * @param {string} errInfo.level 日志等级 info/error\n   * @param {string} errInfo.type 日志类型 net/app/api/...等\n   * @param {string} errInfo.content 日志错误信息\n   * @param {Object} errInfo.ext 日志额外信息\n   * @param {string} errInfo.ext.errmsg 日志额外信息字符串\n   * @param {boolean} useSendbeacon 使用Sendbeacon发送日志，默认关闭\n   */\n\n\n  send(errInfo = {\n    level: 'info',\n    type: '-',\n    content: '-',\n    ext: {\n      errmsg: ''\n    }\n  }, useSendbeacon = false) {\n    if (!this.isCheckedParams) {\n      console.error('[h5-error-log]: 参数校验失败，请检查init参数');\n      return;\n    }\n\n    let data = { ...this.config,\n      ...errInfo\n    };\n    data.ext = JSON.stringify(data.ext || {});\n    data.h5 = '1';\n    delete data.url;\n    let queryString = toQueryString(data); // 如果sendBeacon失败则使用loadImage方式\n\n    if (!useSendbeacon || useSendbeacon && !this.sendBeacon(queryString)) {\n      this.loadImage(queryString);\n    }\n  }\n  /**\n   * 发送图片请求\n   *\n   * @param {string} query 拼接成get请求字符串\n   */\n\n\n  loadImage(query) {\n    let img = new Image();\n    let imgId = '_img_' + getId();\n    window[imgId] = img;\n\n    img.onload = img.onerror = img.onabort = function () {\n      img = img.onload = img.onerror = img.onabort = null;\n      delete window[imgId];\n    };\n\n    img.src = this.config.url + '?' + query;\n  }\n  /**\n   * 通过sendBeacon发送请求\n   * @param {string} query 拼接成请求字符串\n   */\n\n\n  sendBeacon(query) {\n    if ('sendBeacon' in navigator) {\n      return navigator.sendBeacon(`${this.config.url}?${query}`);\n    }\n\n    return false;\n  }\n\n} // 默认导出new好的实例\n\n\nvar index = new H5ErrLog(); // 导出构造函数\n\nexport default index;\nexport { H5ErrLog };\n"]}]}