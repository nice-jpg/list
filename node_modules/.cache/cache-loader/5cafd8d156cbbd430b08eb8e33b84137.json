{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/exampublish/common.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/exampublish/common.js","mtime":1695633995715},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLndhdGNoUGFnZVN0YXRlID0gZXhwb3J0cy5kYXRhY2hhbm5lbFVuUmVnaXN0ZXIgPSBleHBvcnRzLmRhdGFjaGFubmVsUmVnaXN0ZXIgPSBleHBvcnRzLmdldFByb2Nlc3NJbmZvID0gdm9pZCAwOwoKdmFyIF9ib3h4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAYmFpZHUvYm94eCIpKTsKCnZhciBfaXNCb3ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkBiYWlkdS94Ym94L2lzLWJveCIpKTsKCnZhciBnZXRQcm9jZXNzSW5mbyA9IGZ1bmN0aW9uIGdldFByb2Nlc3NJbmZvKCkgewogIHZhciBjYWxsYmFjayA9ICd3aW5kb3cuZ2V0T3V0Ym94U2hvd0RhdGFDQic7IC8vIOiOt+WPluWPkeS7tueuseWxleekuuaVsOaNrgoKICBpZiAoX2lzQm94LmRlZmF1bHQgJiYgX2JveHguZGVmYXVsdCAmJiBfYm94eC5kZWZhdWx0LmNhbklVc2UoJ3VnYy5nZXRPdXRib3hTaG93RGF0YScpKSB7CiAgICBfYm94eC5kZWZhdWx0LnVnYy5nZXRPdXRib3hTaG93RGF0YSh7CiAgICAgIGNhbGxiYWNrOiBjYWxsYmFjaywKICAgICAgc291cmNlX2Zyb206ICdna192aWRlb19kaWJhcicsCiAgICAgIG1vZGU6ICdoNScsCiAgICAgIGFjdGlvbjogJ2NvbS5iYWlkdS5jaGFubmVsLmZlZWQucHJvZmlsZXVnY3N0YXR1cycsCiAgICAgIGlzU2hvdzogJzEnLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKCkgewogICAgICAgIGNvbnNvbGUubG9nKCfojrflj5blj5Hku7bnrrHlsZXnpLrmlbDmja7miJDlip8nKTsKICAgICAgfSwKICAgICAgZmFpbDogZnVuY3Rpb24gZmFpbChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZygn6I635Y+W5Y+R5Lu2566x5bGV56S65pWw5o2u5aSx6LSlJywgcmVzIHx8ICfojrflj5blj5Hku7bnrrHlsZXnpLrmlbDmja7lpLHotKUnKTsKICAgICAgfQogICAgfSwgY2FsbGJhY2spOwogIH0KfTsKLyoqCiogQGRlc2NyaXB0aW9uIOaVsOaNrumAmumBky3ms6jlhowKKiBAcGFyYW0gY2FsbGJhY2sgc3RyaW5nIOS8muWcqGV2ZW50LmVtaXTmiafooYzml7bosIPnlKgKKiBAcGFyYW0gb3V0TmFUaXBGbiBmdW5jdGlvbiDlnKjmiYvnmb7nq6/lpJbml7bnmoTlpITnkIYKKi8KCgpleHBvcnRzLmdldFByb2Nlc3NJbmZvID0gZ2V0UHJvY2Vzc0luZm87Cgp2YXIgZGF0YWNoYW5uZWxSZWdpc3RlciA9IGZ1bmN0aW9uIGRhdGFjaGFubmVsUmVnaXN0ZXIoKSB7CiAgdmFyIGNhbGxiYWNrID0gd2luZG93LmdldENoYW5uZWw7IC8vIOiOt+WPluWPkeS7tueuseWxleekuuaVsOaNrgoKICBpZiAoX2lzQm94LmRlZmF1bHQgJiYgX2JveHguZGVmYXVsdCAmJiBfYm94eC5kZWZhdWx0LmNhbklVc2UoJ2V2ZW50Lm9uJykpIHsKICAgIF9ib3h4LmRlZmF1bHQuZXZlbnQub24oewogICAgICBhY3Rpb246ICdjb20uYmFpZHUuY2hhbm5lbC5mZWVkLnByb2ZpbGV1Z2NzdGF0dXMnLAogICAgICBqc2NhbGxiYWNrOiBjYWxsYmFjaywKICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZygn5pWw5o2u6YCa6YGTLeazqOWGjOaIkOWKnycpOwogICAgICB9LAogICAgICBmYWlsOiBmdW5jdGlvbiBmYWlsKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKCfmlbDmja7pgJrpgZMt5rOo5YaM5aSx6LSlJywgcmVzIHx8ICfmlbDmja7pgJrpgZMt5rOo5YaM5aSx6LSlJyk7CiAgICAgIH0KICAgIH0pOwogIH0KfTsKLyoqCiogQGRlc2NyaXB0aW9uIOaVsOaNrumAmumBky3lj43ms6jlhowKKiBAcGFyYW0gb3V0TmFUaXBGbiBmdW5jdGlvbiDlnKjmiYvnmb7nq6/lpJbml7bnmoTlpITnkIYKKi8KCgpleHBvcnRzLmRhdGFjaGFubmVsUmVnaXN0ZXIgPSBkYXRhY2hhbm5lbFJlZ2lzdGVyOwoKdmFyIGRhdGFjaGFubmVsVW5SZWdpc3RlciA9IGZ1bmN0aW9uIGRhdGFjaGFubmVsVW5SZWdpc3RlcigpIHsKICAvLyDojrflj5blj5Hku7bnrrHlsZXnpLrmlbDmja4KICBpZiAoX2lzQm94LmRlZmF1bHQgJiYgX2JveHguZGVmYXVsdCAmJiBfYm94eC5kZWZhdWx0LmNhbklVc2UoJ2V2ZW50Lm9mZicpKSB7CiAgICBfYm94eC5kZWZhdWx0LmV2ZW50Lm9mZih7CiAgICAgIGFjdGlvbjogJ2NvbS5iYWlkdS5jaGFubmVsLmZlZWQucHJvZmlsZXVnY3N0YXR1cycsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2coJ+aVsOaNrumAmumBky3lj43ms6jlhozmiJDlip8nKTsKICAgICAgfSwKICAgICAgZmFpbDogZnVuY3Rpb24gZmFpbChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZygn5pWw5o2u6YCa6YGTLeWPjeazqOWGjOWksei0pScsIHJlcyB8fCAn5pWw5o2u6YCa6YGTLeWPjeazqOWGjOWksei0pScpOwogICAgICB9CiAgICB9KTsKICB9Cn07IC8vIOebkeWQrOmhtemdoueKtuaAgQoKCmV4cG9ydHMuZGF0YWNoYW5uZWxVblJlZ2lzdGVyID0gZGF0YWNoYW5uZWxVblJlZ2lzdGVyOwoKdmFyIHdhdGNoUGFnZVN0YXRlID0gZnVuY3Rpb24gd2F0Y2hQYWdlU3RhdGUoc2hvd0NhbGxiYWNrLCBoaWRlQ2FsbGJhY2spIHsKICAvLyDorr7nva7pmpDol4/lsZ7mgKflkozmlLnlj5jlj6/op4HlsZ7mgKfnmoTkuovku7bnmoTlkI3np7AKICB2YXIgaGlkZGVuOwogIHZhciB2aXNpYmlsaXR5Q2hhbmdlOwoKICBpZiAodHlwZW9mIGRvY3VtZW50LmhpZGRlbiAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgIC8vIE9wZXJhIDEyLjEwIGFuZCBGaXJlZm94IDE4IGFuZCBsYXRlciBzdXBwb3J0CiAgICBoaWRkZW4gPSAnaGlkZGVuJzsKICAgIHZpc2liaWxpdHlDaGFuZ2UgPSAndmlzaWJpbGl0eWNoYW5nZSc7CiAgfSBlbHNlIGlmICh0eXBlb2YgZG9jdW1lbnQubXNIaWRkZW4gIT09ICd1bmRlZmluZWQnKSB7CiAgICBoaWRkZW4gPSAnbXNIaWRkZW4nOwogICAgdmlzaWJpbGl0eUNoYW5nZSA9ICdtc3Zpc2liaWxpdHljaGFuZ2UnOwogIH0gZWxzZSBpZiAodHlwZW9mIGRvY3VtZW50LndlYmtpdEhpZGRlbiAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgIGhpZGRlbiA9ICd3ZWJraXRIaWRkZW4nOwogICAgdmlzaWJpbGl0eUNoYW5nZSA9ICd3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlJzsKICB9CgogIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodmlzaWJpbGl0eUNoYW5nZSwgZnVuY3Rpb24gKCkgewogICAgaWYgKGRvY3VtZW50W2hpZGRlbl0pIHsKICAgICAgaGlkZUNhbGxiYWNrID09PSBudWxsIHx8IGhpZGVDYWxsYmFjayA9PT0gdm9pZCAwID8gdm9pZCAwIDogaGlkZUNhbGxiYWNrKCk7CiAgICB9IGVsc2UgewogICAgICBzaG93Q2FsbGJhY2sgPT09IG51bGwgfHwgc2hvd0NhbGxiYWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaG93Q2FsbGJhY2soKTsKICAgIH0KICB9LCBmYWxzZSk7Cn07CgpleHBvcnRzLndhdGNoUGFnZVN0YXRlID0gd2F0Y2hQYWdlU3RhdGU7"},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/exampublish/common.js"],"names":["getProcessInfo","callback","isBox","boxx","canIUse","ugc","getOutboxShowData","source_from","mode","action","isShow","success","console","log","fail","res","datachannelRegister","window","getChannel","event","on","jscallback","datachannelUnRegister","off","watchPageState","showCallback","hideCallback","hidden","visibilityChange","document","msHidden","webkitHidden","addEventListener"],"mappings":"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","sourcesContent":["import boxx from '@baidu/boxx';\nimport isBox from '@baidu/xbox/is-box';\n\nexport const getProcessInfo = () => {\n    const callback = 'window.getOutboxShowDataCB';\n    // 获取发件箱展示数据\n    if (isBox && boxx && boxx.canIUse('ugc.getOutboxShowData')) {\n        boxx.ugc.getOutboxShowData({\n            callback: callback,\n            source_from: 'gk_video_dibar',\n            mode: 'h5',\n            action: 'com.baidu.channel.feed.profileugcstatus',\n            isShow: '1',\n            success: () => {\n                console.log('获取发件箱展示数据成功');\n            },\n            fail: res => {\n                console.log('获取发件箱展示数据失败', res || '获取发件箱展示数据失败');\n            },\n        }, callback);\n    }\n};\n\n/**\n* @description 数据通道-注册\n* @param callback string 会在event.emit执行时调用\n* @param outNaTipFn function 在手百端外时的处理\n*/\nexport const datachannelRegister = () => {\n    const callback = window.getChannel;\n    // 获取发件箱展示数据\n    if (isBox && boxx && boxx.canIUse('event.on')) {\n        boxx.event.on({\n            action: 'com.baidu.channel.feed.profileugcstatus',\n            jscallback: callback,\n            success: res => {\n                console.log('数据通道-注册成功');\n            },\n            fail: res => {\n                console.log('数据通道-注册失败', res || '数据通道-注册失败');\n            },\n        });\n    }\n};\n\n/**\n* @description 数据通道-反注册\n* @param outNaTipFn function 在手百端外时的处理\n*/\nexport const datachannelUnRegister = () => {\n    // 获取发件箱展示数据\n    if (isBox && boxx && boxx.canIUse('event.off')) {\n        boxx.event.off({\n            action: 'com.baidu.channel.feed.profileugcstatus',\n            success: res => {\n                console.log('数据通道-反注册成功');\n            },\n            fail: res => {\n                console.log('数据通道-反注册失败', res || '数据通道-反注册失败');\n            },\n        });\n    }\n};\n\n// 监听页面状态\nexport const watchPageState = (showCallback, hideCallback) => {\n    // 设置隐藏属性和改变可见属性的事件的名称\n    let hidden;\n    let visibilityChange;\n    if (typeof document.hidden !== 'undefined') {\n        // Opera 12.10 and Firefox 18 and later support\n        hidden = 'hidden';\n        visibilityChange = 'visibilitychange';\n    } else if (typeof document.msHidden !== 'undefined') {\n        hidden = 'msHidden';\n        visibilityChange = 'msvisibilitychange';\n    } else if (typeof document.webkitHidden !== 'undefined') {\n        hidden = 'webkitHidden';\n        visibilityChange = 'webkitvisibilitychange';\n    }\n    document.addEventListener(\n        visibilityChange,\n        () => {\n            if (document[hidden]) {\n                hideCallback?.();\n            } else {\n                showCallback?.();\n            }\n        },\n        false\n    );\n};"]}]}