{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox/browser/loadjs.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox/browser/loadjs.js","mtime":1696919504571},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSBsb2FkSlM7Cgp2YXIgX3R5cGVvZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9saWFvaHVhbnl1L3Byb2plY3RzL2JhaWR1LXdvcmsvYmFpZHUvZmVlZDMvbXVsdGktcGFnZXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mIikpOwoKdmFyIF9ndWlkID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLi9ndWlkIikpOwoKdmFyIF9qc29uMnF1ZXJ5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLi9qc29uMnF1ZXJ5IikpOwoKdmFyIF90eXBlID0gcmVxdWlyZSgiLi4vdHlwZSIpOwoKdmFyIF9sb2FkRmlsZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9sb2FkLWZpbGUiKSk7CgovKioKICoganMg5Yqg6L295ZmoCiAqIEBtb2R1bGUgYnJvd3NlcgogKiBAZmlsZSBDcmVhdGVkIG9uIFRodSBOb3YgMjIgMjAxOAogKiBAYXV0aG9yIHdhbmd5b25ncWluZyA8d2FuZ3lvbmdxaW5nMDFAYmFpZHUuY29tPgogKi8KZnVuY3Rpb24gaXNGdW5jdGlvbihmbikgewogIHJldHVybiAoMCwgX3R5cGUuaXNUeXBlKShmbiwgJ2Z1bmN0aW9uJyk7Cn0KLyoqCiAqIEBmdW5jdGlvbiBsb2FkanMKICogQHBhcmFtIHtvYmplY3R9IHBhcmFtIC0g5Y+C5pWwCiAqIEBleGFtcGxlCiAqIGxvYWRqcyh7CiAqICB1cmwsCiAqIGJlZm9yZSwKICogc3VjY2VzcywKICogZXJyb3IsCiAqIHRpbWVvdXQsCiAqIGFzeW5jLAogKiBkYXRhLAogKiBqc29ucENhbGxiYWNrLAogKiBqc29ucENhbGxiYWNrTmFtZSAvLyDkvKDnu5lzZXJ2ZXLnmoTlm57osIPlh73mlbDnmoTlkI3lrZcKICogfSkKICovCgoKZnVuY3Rpb24gbG9hZEpTKF9yZWYpIHsKICB2YXIgdXJsID0gX3JlZi51cmwsCiAgICAgIGJlZm9yZSA9IF9yZWYuYmVmb3JlLAogICAgICBzdWNjZXNzID0gX3JlZi5zdWNjZXNzLAogICAgICBlcnJvciA9IF9yZWYuZXJyb3IsCiAgICAgIF9yZWYkdGltZW91dCA9IF9yZWYudGltZW91dCwKICAgICAgdGltZW91dCA9IF9yZWYkdGltZW91dCA9PT0gdm9pZCAwID8gMmU0IDogX3JlZiR0aW1lb3V0LAogICAgICBhc3luYyA9IF9yZWYuYXN5bmMsCiAgICAgIGRhdGEgPSBfcmVmLmRhdGEsCiAgICAgIGpzb25wQ2FsbGJhY2sgPSBfcmVmLmpzb25wQ2FsbGJhY2ssCiAgICAgIGpzb25wQ2FsbGJhY2tOYW1lID0gX3JlZi5qc29ucENhbGxiYWNrTmFtZTsKCiAgaWYgKCgwLCBfdHlwZW9mMi5kZWZhdWx0KShkYXRhKSA9PT0gJ29iamVjdCcpIHsKICAgIGRhdGEgPSAoMCwgX2pzb24ycXVlcnkuZGVmYXVsdCkoZGF0YSk7CiAgfQoKICBpZiAoZGF0YSkgewogICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBkYXRhOwogIH0KCiAgdXJsID0gdXJsLnJlcGxhY2UoL1smP117MSwyfS8sICc/Jyk7CiAgdmFyIGNhbGxiYWNrTmFtZSA9IChpc0Z1bmN0aW9uKGpzb25wQ2FsbGJhY2spID8ganNvbnBDYWxsYmFjaygpIDoganNvbnBDYWxsYmFjaykgfHwgJ19ib3hqc29ucCcgKyAoMCwgX2d1aWQuZGVmYXVsdCkoKTsKICB2YXIgb3JpZ2luYWxDYWxsYmFjayA9IHdpbmRvd1tjYWxsYmFja05hbWVdOyAvLyDov5Tlm57nmoTmlbDmja4KCiAgdmFyIHJlc3BvbnNlRGF0YTsKCiAgdmFyIGNiID0gZnVuY3Rpb24gY2IoZSwgcCkgewogICAgaWYgKGUpIHsKICAgICAgZXJyb3IoZSwgcCk7CiAgICB9IGVsc2UgewogICAgICBzdWNjZXNzKHJlc3BvbnNlRGF0YSAmJiByZXNwb25zZURhdGFbMF0pOwogICAgfQoKICAgIHdpbmRvd1tjYWxsYmFja05hbWVdID0gb3JpZ2luYWxDYWxsYmFjazsKCiAgICBpZiAocmVzcG9uc2VEYXRhICYmIGlzRnVuY3Rpb24ob3JpZ2luYWxDYWxsYmFjaykpIHsKICAgICAgb3JpZ2luYWxDYWxsYmFjayhyZXNwb25zZURhdGFbMF0pOwogICAgfQoKICAgIG9yaWdpbmFsQ2FsbGJhY2sgPSByZXNwb25zZURhdGEgPSB1bmRlZmluZWQ7CiAgfTsKCiAgd2luZG93W2NhbGxiYWNrTmFtZV0gPSBmdW5jdGlvbiAoKSB7CiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICByZXNwb25zZURhdGEgPSBhcmdzOwogIH07IC8vIOW9k2RhdGHnmoTmn5DkuKrlsZ7mgKfnmoTlgLzmgbDlpb3ku6UnPyflvIDlpLTvvIzmr5TlpoJkYXRhOntjb250ZW50Oic/JywgY2FsbGJhY2s6Jz8nfe+8jOe7j+i/h2pzb24yUXVlcnnlkI4nY29ubnRlbnQ9PyZjYWxsYmFrYz0/JwogIC8vIOatpOaXtuS4jeiDveebtOaOpeabv+aNoi89XD8v77yM5Y+v5qC55o2u5Lyg5Y+C5LyY5YWI5aSE55CGCgoKICBpZiAoanNvbnBDYWxsYmFja05hbWUpIHsKICAgIHVybCArPSAnJicgKyBqc29ucENhbGxiYWNrTmFtZSArICc9JyArIGNhbGxiYWNrTmFtZTsKICB9IGVsc2UgaWYgKC89XD8vLnRlc3QodXJsKSkgewogICAgdXJsID0gdXJsLnJlcGxhY2UoLz1cPy8sICc9JyArIGNhbGxiYWNrTmFtZSk7CiAgfQoKICAoMCwgX2xvYWRGaWxlLmRlZmF1bHQpKHVybCwgY2IsIHsKICAgIHRpbWVvdXQ6IHRpbWVvdXQsCiAgICBhc3luYzogYXN5bmMsCiAgICBiZWZvcmU6IGJlZm9yZQogIH0pOwp9"},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox/browser/loadjs.js"],"names":["isFunction","fn","loadJS","url","before","success","error","timeout","async","data","jsonpCallback","jsonpCallbackName","indexOf","replace","callbackName","originalCallback","window","responseData","cb","e","p","undefined","args","test"],"mappings":";;;;;;;;;;;;;;;;;AAMA;;AACA;;AACA;;AACA;;AATA;AACA;AACA;AACA;AACA;AACA;AAKA,SAASA,UAAT,CAAoBC,EAApB,EAAwB;AACpB,SAAO,kBAAOA,EAAP,EAAW,UAAX,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACe,SAASC,MAAT,OAA6G;AAAA,MAA5FC,GAA4F,QAA5FA,GAA4F;AAAA,MAAvFC,MAAuF,QAAvFA,MAAuF;AAAA,MAA/EC,OAA+E,QAA/EA,OAA+E;AAAA,MAAtEC,KAAsE,QAAtEA,KAAsE;AAAA,0BAA/DC,OAA+D;AAAA,MAA/DA,OAA+D,6BAArD,GAAqD;AAAA,MAAhDC,KAAgD,QAAhDA,KAAgD;AAAA,MAAzCC,IAAyC,QAAzCA,IAAyC;AAAA,MAAnCC,aAAmC,QAAnCA,aAAmC;AAAA,MAApBC,iBAAoB,QAApBA,iBAAoB;;AACxH,MAAI,sBAAOF,IAAP,MAAgB,QAApB,EAA8B;AAC1BA,IAAAA,IAAI,GAAG,yBAAWA,IAAX,CAAP;AACH;;AACD,MAAIA,IAAJ,EAAU;AACNN,IAAAA,GAAG,IAAI,CAACA,GAAG,CAACS,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAAtB,GAA0B,GAA1B,GAAgC,GAAjC,IAAwCH,IAA/C;AACH;;AACDN,EAAAA,GAAG,GAAGA,GAAG,CAACU,OAAJ,CAAY,WAAZ,EAAyB,GAAzB,CAAN;AAEA,MAAIC,YAAY,GAAG,CAACd,UAAU,CAACU,aAAD,CAAV,GAA4BA,aAAa,EAAzC,GAA8CA,aAA/C,KAAiE,cAAc,oBAAlG;AACA,MAAIK,gBAAgB,GAAGC,MAAM,CAACF,YAAD,CAA7B,CAVwH,CAWxH;;AACA,MAAIG,YAAJ;;AACA,MAAIC,EAAE,GAAG,SAALA,EAAK,CAACC,CAAD,EAAIC,CAAJ,EAAU;AACf,QAAID,CAAJ,EAAO;AACHb,MAAAA,KAAK,CAACa,CAAD,EAAIC,CAAJ,CAAL;AACH,KAFD,MAEO;AACHf,MAAAA,OAAO,CAACY,YAAY,IAAIA,YAAY,CAAC,CAAD,CAA7B,CAAP;AACH;;AAEDD,IAAAA,MAAM,CAACF,YAAD,CAAN,GAAuBC,gBAAvB;;AACA,QAAIE,YAAY,IAAIjB,UAAU,CAACe,gBAAD,CAA9B,EAAkD;AAC9CA,MAAAA,gBAAgB,CAACE,YAAY,CAAC,CAAD,CAAb,CAAhB;AACH;;AAEDF,IAAAA,gBAAgB,GAAGE,YAAY,GAAGI,SAAlC;AACH,GAbD;;AAeAL,EAAAA,MAAM,CAACF,YAAD,CAAN,GAAuB,YAAa;AAAA,sCAATQ,IAAS;AAATA,MAAAA,IAAS;AAAA;;AAChCL,IAAAA,YAAY,GAAGK,IAAf;AACH,GAFD,CA5BwH,CAgCxH;AACA;;;AACA,MAAIX,iBAAJ,EAAuB;AACnBR,IAAAA,GAAG,IAAI,MAAMQ,iBAAN,GAA0B,GAA1B,GAAgCG,YAAvC;AACH,GAFD,MAEO,IAAI,MAAMS,IAAN,CAAWpB,GAAX,CAAJ,EAAqB;AACxBA,IAAAA,GAAG,GAAGA,GAAG,CAACU,OAAJ,CAAY,KAAZ,EAAmB,MAAMC,YAAzB,CAAN;AACH;;AACD,yBAASX,GAAT,EAAce,EAAd,EAAkB;AAACX,IAAAA,OAAO,EAAPA,OAAD;AAAUC,IAAAA,KAAK,EAALA,KAAV;AAAiBJ,IAAAA,MAAM,EAANA;AAAjB,GAAlB;AACH","sourcesContent":["/**\n * js 加载器\n * @module browser\n * @file Created on Thu Nov 22 2018\n * @author wangyongqing <wangyongqing01@baidu.com>\n */\nimport guid from '../guid';\nimport json2Query from '../json2query';\nimport {isType} from '../type';\nimport loadFile from './load-file';\nfunction isFunction(fn) {\n    return isType(fn, 'function');\n}\n/**\n * @function loadjs\n * @param {object} param - 参数\n * @example\n * loadjs({\n *  url,\n * before,\n * success,\n * error,\n * timeout,\n * async,\n * data,\n * jsonpCallback,\n * jsonpCallbackName // 传给server的回调函数的名字\n * })\n */\nexport default function loadJS({url, before, success, error, timeout = 2e4, async, data, jsonpCallback, jsonpCallbackName}) {\n    if (typeof data === 'object') {\n        data = json2Query(data);\n    }\n    if (data) {\n        url += (url.indexOf('?') === -1 ? '?' : '&') + data;\n    }\n    url = url.replace(/[&?]{1,2}/, '?');\n\n    let callbackName = (isFunction(jsonpCallback) ? jsonpCallback() : jsonpCallback) || '_boxjsonp' + guid();\n    let originalCallback = window[callbackName];\n    // 返回的数据\n    let responseData;\n    let cb = (e, p) => {\n        if (e) {\n            error(e, p);\n        } else {\n            success(responseData && responseData[0]);\n        }\n\n        window[callbackName] = originalCallback;\n        if (responseData && isFunction(originalCallback)) {\n            originalCallback(responseData[0]);\n        }\n\n        originalCallback = responseData = undefined;\n    };\n\n    window[callbackName] = (...args) => {\n        responseData = args;\n    };\n\n    // 当data的某个属性的值恰好以'?'开头，比如data:{content:'?', callback:'?'}，经过json2Query后'conntent=?&callbakc=?'\n    // 此时不能直接替换/=\\?/，可根据传参优先处理\n    if (jsonpCallbackName) {\n        url += '&' + jsonpCallbackName + '=' + callbackName;\n    } else if (/=\\?/.test(url)) {\n        url = url.replace(/=\\?/, '=' + callbackName);\n    }\n    loadFile(url, cb, {timeout, async, before});\n}\n"]}]}