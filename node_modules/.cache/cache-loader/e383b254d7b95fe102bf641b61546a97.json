{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/news/containers/app.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/news/containers/app.js","mtime":1695633995763},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWZsZWN0LmNvbnN0cnVjdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciKTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKdmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9saWFvaHVhbnl1L3Byb2plY3RzL2JhaWR1LXdvcmsvYmFpZHUvZmVlZDMvbXVsdGktcGFnZXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSk7Cgp2YXIgX2NyZWF0ZUNsYXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpKTsKCnZhciBfaW5oZXJpdHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIikpOwoKdmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikpOwoKdmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9saWFvaHVhbnl1L3Byb2plY3RzL2JhaWR1LXdvcmsvYmFpZHUvZmVlZDMvbXVsdGktcGFnZXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2YiKSk7Cgp2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSIpKTsKCnJlcXVpcmUoIi4uL3N0b3JlIik7CgpyZXF1aXJlKCIuL2FwcC5sZXNzIik7Cgp2YXIgX3NhbiA9IHJlcXVpcmUoInNhbiIpOwoKdmFyIF91YmNSZXBvcnRTZGsgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkBiYWlkdS91YmMtcmVwb3J0LXNkayIpKTsKCnZhciBfZ2V0UXVlcnlTdHJpbmcgPSByZXF1aXJlKCJAL2xpYi91dGlscy9nZXRRdWVyeVN0cmluZyIpOwoKdmFyIF9zdG9yZTIgPSByZXF1aXJlKCJAc3RvcmUiKTsKCnZhciBfc2VydmljZSA9IHJlcXVpcmUoIi4uL3NlcnZpY2UiKTsKCnZhciBfZW52ID0gcmVxdWlyZSgiQGJhaWR1L2F1Yy1iYXNlL2VudiIpOwoKdmFyIF91dGlscyA9IHJlcXVpcmUoIkAvbGliL3V0aWxzIik7Cgp2YXIgX3hib3hDb25jZXJuID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAYmFpZHUveGJveC1jb25jZXJuIikpOwoKdmFyIF9zZXRTaGFyZUluZm8gPSByZXF1aXJlKCJAL2xpYi91dGlscy9zZXRTaGFyZUluZm8iKTsKCnZhciBfbWlkZGxlT3JkZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uL2NvbXBvbmVudHMvbWlkZGxlLW9yZGVyIikpOwoKdmFyIF9iaWdWaWRlbyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vY29tcG9uZW50cy9iaWctdmlkZW8iKSk7Cgp2YXIgX3NoYXJlRW50cnkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uL2NvbXBvbmVudHMvc2hhcmUtZW50cnkiKSk7Cgp2YXIgX3RvcENhcm91c2VscyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vY29tcG9uZW50cy90b3AtY2Fyb3VzZWxzIikpOwoKdmFyIF9hY3RvckludHJvID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLi9jb21wb25lbnRzL2FjdG9yLWludHJvIikpOwoKdmFyIF9zbWFsbFZpZGVvID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLi9jb21wb25lbnRzL3NtYWxsLXZpZGVvIikpOwoKdmFyIF9ib3R0b21HdWlkZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vY29tcG9uZW50cy9ib3R0b20tZ3VpZGUiKSk7Cgp2YXIgX2FjdG9ySW50cm9JbWcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uL2NvbXBvbmVudHMvYWN0b3ItaW50cm9JbWciKSk7Cgp2YXIgX3RoZW1lQ2FyZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vY29tcG9uZW50cy90aGVtZS1jYXJkIikpOwoKdmFyIF92aWRlb1NsaWRlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLi9jb21wb25lbnRzL3ZpZGVvLXNsaWRlIikpOwoKdmFyIF9jb21iaW5lUmVzb3VyY2VzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLi9jb21wb25lbnRzL2NvbWJpbmUtcmVzb3VyY2VzIikpOwoKdmFyIF9jaGFuZ2VCdG4gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uL2NvbXBvbmVudHMvY2hhbmdlLWJ0biIpKTsKCnZhciBfYm94eCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQGJhaWR1L2F1Yy1iYXNlL2JveHgiKSk7CgpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIuZGVmYXVsdCkodGhpcywgcmVzdWx0KTsgfTsgfQoKZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CgovLyDlsJ3or5XlhbPpl63liqDovb3mgIEKdHJ5IHsKICBfZW52LmVudi5pc0JveFNlcmllcyAmJiBfYm94eC5kZWZhdWx0LmNhbGwoJ2NvbW1vblVJLmNsb3NlTG9hZGluZycpOwp9IGNhdGNoIChlKSB7CiAgY29uc29sZS5lcnJvcihlKTsKfQoKdmFyIEFwcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvbXBvbmVudCkgewogICgwLCBfaW5oZXJpdHMyLmRlZmF1bHQpKEFwcCwgX0NvbXBvbmVudCk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQXBwKTsKCiAgZnVuY3Rpb24gQXBwKG9wdCkgewogICAgKDAsIF9jbGFzc0NhbGxDaGVjazIuZGVmYXVsdCkodGhpcywgQXBwKTsKICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBvcHQpOwogIH0KCiAgKDAsIF9jcmVhdGVDbGFzczIuZGVmYXVsdCkoQXBwLCBbewogICAga2V5OiAiaW5pdExvZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdExvZygpIHsKICAgICAgLy8g6aG16Z2i5omT54K5CiAgICAgICgwLCBfdWJjUmVwb3J0U2RrLmRlZmF1bHQpKCdwYWdlTG9nLmluaXQnLCAnMTM5MDgnLCB7CiAgICAgICAgdGltaW5nSWQ6ICcxMzkwOCcsCiAgICAgICAgYXV0b1RpbWluZ1RyYWNrOiB0cnVlLAogICAgICAgIGZyb206ICgwLCBfZ2V0UXVlcnlTdHJpbmcuZ2V0UXVlcnlTdHJpbmcpKCdpZCcpIHx8ICcnLAogICAgICAgIHNvdXJjZTogKDAsIF9nZXRRdWVyeVN0cmluZy5nZXRRdWVyeVN0cmluZykoJ3NvdXJjZScpIHx8ICdvdGhlcicKICAgICAgfSk7IC8vIOWNoeeJh+aJk+eCuQoKICAgICAgKDAsIF91YmNSZXBvcnRTZGsuZGVmYXVsdCkoJ2NhcmRMb2cuaW5pdCcsICcxMzkwNycsIHsKICAgICAgICBmcm9tOiAoMCwgX2dldFF1ZXJ5U3RyaW5nLmdldFF1ZXJ5U3RyaW5nKSgnaWQnKSB8fCAnJywKICAgICAgICBzb3VyY2U6ICgwLCBfZ2V0UXVlcnlTdHJpbmcuZ2V0UXVlcnlTdHJpbmcpKCdzb3VyY2UnKSB8fCAnb3RoZXInCiAgICAgIH0pOyAvLyDpobbpg6jop4bpopHoh6rliqjmkq3mlL4KCiAgICAgICgwLCBfdWJjUmVwb3J0U2RrLmRlZmF1bHQpKCd2aWRlb0xvZy5pbml0JywgJzEzOTgwJywgewogICAgICAgIHZlcnNpb246ICcyLjAnLAogICAgICAgIGZyb206ICgwLCBfZ2V0UXVlcnlTdHJpbmcuZ2V0UXVlcnlTdHJpbmcpKCdpZCcpIHx8ICcnLAogICAgICAgIHNvdXJjZTogKDAsIF9nZXRRdWVyeVN0cmluZy5nZXRRdWVyeVN0cmluZykoJ3NvdXJjZScpIHx8ICdvdGhlcicsCiAgICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICAgIGFwcG5hbWU6ICdiYWlkdWJveGFwcCcKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImluaXRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGVkKCkgewogICAgICB0aGlzLmluaXRMb2coKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhdHRhY2hlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYXR0YWNoZWQoKSB7CiAgICAgIHZhciBfdGhpcyRkYXRhJGdldCA9IHRoaXMuZGF0YS5nZXQoJ3RvcEJnJyksCiAgICAgICAgICBpcF90eXBlID0gX3RoaXMkZGF0YSRnZXQuaXBfdHlwZSwKICAgICAgICAgIHNoYXJlX2Fic3RyYWN0ID0gX3RoaXMkZGF0YSRnZXQuc2hhcmVfYWJzdHJhY3QsCiAgICAgICAgICBzaGFyZV9pbWcgPSBfdGhpcyRkYXRhJGdldC5zaGFyZV9pbWcsCiAgICAgICAgICBzaGFyZV90aXRsZSA9IF90aGlzJGRhdGEkZ2V0LnNoYXJlX3RpdGxlOwoKICAgICAgdGhpcy5pbml0Q29uY2VybigpOwogICAgICB0aGlzLnNjcm9sbEJpbmRFdmVudCgpOwogICAgICAoMCwgX3ViY1JlcG9ydFNkay5kZWZhdWx0KSgncGFnZUxvZy5ldmVudCcsIHsKICAgICAgICB0eXBlOiAncGFnZVNob3cnLAogICAgICAgIGV4dDoge30KICAgICAgfSk7CgogICAgICBpZiAoaXBfdHlwZSA9PT0gJzInKSB7CiAgICAgICAgLy8g5Yaz6IOcMjHlpKnvvIzlrprliLbliIbkuqvnianmlpkKICAgICAgICAoMCwgX3NldFNoYXJlSW5mby5zZXRTaGFyZUluZm8pKHsKICAgICAgICAgIHRpdGxlOiBzaGFyZV90aXRsZSB8fCAn44CK5Yaz6IOcMjHlpKnjgIvng6fohJHlvIDmkq3vvJrlkITot6/nsr7oi7HnpZ7ku5nmiZPmnrYg5riF5Y2O5Y2a5aOr6KKr5Ziy5pm65ZWG5L2OJywKICAgICAgICAgIGRlc2NyaXB0aW9uOiBzaGFyZV9hYnN0cmFjdCB8fCAn5Zyo44CK5Yaz6IOcMjHlpKnjgIvkuK3nnIvmh4LljZrlvIjmgJ3nu7QnLAogICAgICAgICAgaWNvbjogc2hhcmVfaW1nIHx8ICdodHRwczovL2IuYmRzdGF0aWMuY29tL3NlYXJjaGJveC9pY21zL3NlYXJjaGJveC9pbWcvODAwMy1sb2dvLmpwZycsCiAgICAgICAgICBsaW5rOiB3aW5kb3cubG9jYXRpb24uaHJlZgogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiaW5pdERhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXREYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIHRvcEJnOiB7CiAgICAgICAgICBib3R0b21faW1nOiAnJwogICAgICAgIH0sCiAgICAgICAgbG9nb1VybDogJ2h0dHBzOi8vYi5iZHN0YXRpYy5jb20vc2VhcmNoYm94L2ljbXMvc2VhcmNoYm94L2ltZy9pcG5ld3MtbG9nby5wbmcnLAogICAgICAgIGluaXRDb25jZXJuOiB1bmRlZmluZWQsCiAgICAgICAgaXNCb3hTZXJpZXM6IF9lbnYuZW52LmlzQm94U2VyaWVzLAogICAgICAgIHNoYXJlRW50cnk6ICgwLCBfZ2V0UXVlcnlTdHJpbmcuZ2V0UXVlcnlTdHJpbmcpKCdzaGFyZUVudHJ5JykKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbGlja0ludm9rZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xpY2tJbnZva2UodXJsQ21kKSB7CiAgICAgIHRoaXMuYWN0aW9ucy5pbnZva2UoewogICAgICAgIHVybENtZDogdXJsQ21kCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImluaXRDb25jZXJuIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0Q29uY2VybigpIHsKICAgICAgdmFyIGluaXRDb25jZXJuID0gKDAsIF94Ym94Q29uY2Vybi5kZWZhdWx0KSh7CiAgICAgICAgaWQ6ICdpcC1uZXdzJywKICAgICAgICBvcHM6IHsKICAgICAgICAgIHR5cGU6ICdzdG9jaycsCiAgICAgICAgICBpc0FsYWRpbjogMCwKICAgICAgICAgIG9uTGluZTogdHJ1ZQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuZGF0YS5zZXQoJ2luaXRDb25jZXJuJywgaW5pdENvbmNlcm4pOwogICAgfQogIH0sIHsKICAgIGtleTogIm9yZGVyQ2xpY2siLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9yZGVyQ2xpY2soX3JlZikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGRhdGFJbmRleCA9IF9yZWYuZGF0YUluZGV4OwogICAgICB2YXIgb3JkZXJEYXRhID0gdGhpcy5kYXRhLmdldCgncGFnZURhdGEnKVtkYXRhSW5kZXhdOwogICAgICB2YXIgb3JkZXJTdGF0dXMgPSBvcmRlckRhdGEuc3Vic2NyaWJlX3N0YXRlOwogICAgICAoMCwgX3NlcnZpY2Uub3JkZXIpKHsKICAgICAgICBwYVVpZDogb3JkZXJEYXRhLnBhX3VpZCwKICAgICAgICB0b3BpY0lkOiBvcmRlckRhdGEudG9waWNfaWQsCiAgICAgICAgc3Vic2NyaWJlOiBvcmRlclN0YXR1cyA/IDAgOiAxCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgdmFyIGVycm5vID0gX3JlZjIuZXJybm8sCiAgICAgICAgICAgIGRhdGEgPSBfcmVmMi5kYXRhOwoKICAgICAgICBpZiAoK2Vycm5vKSB7CiAgICAgICAgICBfYm94eC5kZWZhdWx0LmNhbGwoJ2NvbW1vblVJLnNob3dUb2FzdCcsIHsKICAgICAgICAgICAgdHlwZTogJzEnLAogICAgICAgICAgICBtZXNzYWdlOiAn5pON5L2c5aSx6LSl77yM6K+36YeN6K+VJwogICAgICAgICAgfSk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8g5pu05paw6aKE57qm54q25oCBCgoKICAgICAgICBfdGhpcy5hY3Rpb25zLnVwZGF0ZU9yZGVyKHsKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgc3Vic2NyaWJlX3N0YXRlOiBvcmRlclN0YXR1cyA/IDAgOiAxLAogICAgICAgICAgICByZWFsX251bTogZGF0YS5vcmRlcl9udW0KICAgICAgICAgIH0sCiAgICAgICAgICBkYXRhSW5kZXg6IGRhdGFJbmRleAogICAgICAgIH0pOyAvLyDpooTnuqbmj5DnpLp0b2FzdAoKCiAgICAgICAgdmFyIG1lc3NhZ2UgPSAhb3JkZXJTdGF0dXMgPyAn5pu05paw5ZCO6K6i6ZiF5raI5oGv5o+Q6YaS5bey5byA5ZCvJyA6ICflt7Llj5bmtojpooTnuqYnOwoKICAgICAgICBfYm94eC5kZWZhdWx0LmNhbGwoJ2NvbW1vblVJLnNob3dUb2FzdCcsIHsKICAgICAgICAgIHR5cGU6ICcxJywKICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZm9sbG93Q2xpY2siLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZvbGxvd0NsaWNrKF9yZWYzKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGluZGV4ID0gX3JlZjMuaW5kZXgsCiAgICAgICAgICBkYXRhSW5kZXggPSBfcmVmMy5kYXRhSW5kZXg7CiAgICAgIHZhciBpdGVtID0gdGhpcy5kYXRhLmdldCgncGFnZURhdGEnKVtkYXRhSW5kZXhdLmRhdGFbaW5kZXhdOwogICAgICB2YXIgaW5pdENvbmNlcm4gPSB0aGlzLmRhdGEuZ2V0KCdpbml0Q29uY2VybicpOwogICAgICBpbml0Q29uY2Vybi5zdWJzY3JpYmUoewogICAgICAgIHR5cGU6IGl0ZW0uZm9sbG93dHlwZSwKICAgICAgICBvcF90eXBlOiBpdGVtLmZvbGxvd2VkID8gJ2NhbmNlbCcgOiAnYWRkJywKICAgICAgICB0aGlyZF9pZDogaXRlbS5hdW1yaWQsCiAgICAgICAgc2Zyb206ICdzYm94JywKICAgICAgICBzb3VyY2U6IGl0ZW0uZm9sbG93dHlwZQogICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmFjdGlvbnMudXBkYXRlRm9jdXNGb2xsb3coewogICAgICAgICAgZGF0YUluZGV4OiBkYXRhSW5kZXgsCiAgICAgICAgICBpbmRleDogaW5kZXgKICAgICAgICB9KTsKICAgICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoSlNPTi5zdHJpbmdpZnkoZXJyKSk7CiAgICAgIH0sIGZhbHNlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhdXRob3JDbGljayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYXV0aG9yQ2xpY2soX3JlZjQpIHsKICAgICAgdmFyIGluZGV4ID0gX3JlZjQuaW5kZXgsCiAgICAgICAgICBkYXRhSW5kZXggPSBfcmVmNC5kYXRhSW5kZXg7CiAgICAgIHZhciBpdGVtID0gdGhpcy5kYXRhLmdldCgncGFnZURhdGEnKVtkYXRhSW5kZXhdLmRhdGFbaW5kZXhdOwogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGl0ZW0uYXVob21lcGFnZXVybDsKICAgIH0gLy8g5YiG6aG16K+35rGC5pWw5o2uCgogIH0sIHsKICAgIGtleTogImdldE1vcmVMaXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNb3JlTGlzdChkYXRhSW5kZXgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIga2V5ID0gInBhZ2VEYXRhWyIuY29uY2F0KGRhdGFJbmRleCwgIl0iKTsKCiAgICAgIHZhciBfdGhpcyRkYXRhJGdldDIgPSB0aGlzLmRhdGEuZ2V0KGtleSksCiAgICAgICAgICB0eXBlID0gX3RoaXMkZGF0YSRnZXQyLnR5cGUsCiAgICAgICAgICBfdGhpcyRkYXRhJGdldDIkZGF0YSA9IF90aGlzJGRhdGEkZ2V0Mi5kYXRhLAogICAgICAgICAgZGF0YSA9IF90aGlzJGRhdGEkZ2V0MiRkYXRhID09PSB2b2lkIDAgPyBbXSA6IF90aGlzJGRhdGEkZ2V0MiRkYXRhLAogICAgICAgICAgbG9hZGluZyA9IF90aGlzJGRhdGEkZ2V0Mi5sb2FkaW5nLAogICAgICAgICAgaXNfZW5kID0gX3RoaXMkZGF0YSRnZXQyLmlzX2VuZCwKICAgICAgICAgIGNhbl9leGNoYW5nZSA9IF90aGlzJGRhdGEkZ2V0Mi5jYW5fZXhjaGFuZ2U7IC8vIOayoeaciWRhdGHov5Tlm54KCgogICAgICBpZiAoIWRhdGEpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBuaWQgPSBkYXRhLmxlbmd0aCA/IGRhdGFbZGF0YS5sZW5ndGggLSAxXS5pZCA6ICcnOwoKICAgICAgaWYgKCFkYXRhLmxlbmd0aCB8fCBsb2FkaW5nIHx8ICFuaWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8g5ZKMU2VydmVy5rKf6YCa44CC5o2i5LiA5o2i5Yqf6IO977yM5YiG6aG15Yiw5pyA5ZCO5LiA6aG177yMbmlk5Lyg56m65a2X56ym5Liy77yM5ZCQ6aaW5bGPZGF0YVsuLi5dCgoKICAgICAgaWYgKGRhdGEubGVuZ3RoICYmIGlzX2VuZCAmJiArY2FuX2V4Y2hhbmdlKSB7CiAgICAgICAgbmlkID0gJyc7CiAgICAgIH0KCiAgICAgIHRoaXMuYWN0aW9ucy51cGRhdGVMb2FkaW5nKHsKICAgICAgICBkYXRhSW5kZXg6IGRhdGFJbmRleCwKICAgICAgICBzdGF0dXM6IHRydWUKICAgICAgfSk7CiAgICAgICgwLCBfc2VydmljZS5nZXRNb3JlTGlzdEFqYXgpKHR5cGUsIG5pZCwgZGF0YUluZGV4KS50aGVuKGZ1bmN0aW9uIChfcmVmNSkgewogICAgICAgIHZhciBlcnJubyA9IF9yZWY1LmVycm5vLAogICAgICAgICAgICBkYXRhID0gX3JlZjUuZGF0YTsKCiAgICAgICAgX3RoaXMzLmFjdGlvbnMudXBkYXRlTG9hZGluZyh7CiAgICAgICAgICBkYXRhSW5kZXg6IGRhdGFJbmRleCwKICAgICAgICAgIHN0YXR1czogZmFsc2UKICAgICAgICB9KTsKCiAgICAgICAgaWYgKCErZXJybm8gJiYgZGF0YS5tb2R1bGVzKSB7CiAgICAgICAgICB2YXIgcmVEYXRhID0gZGF0YS5tb2R1bGVzWzBdOwoKICAgICAgICAgIGlmIChyZURhdGEudHlwZSA9PT0gdHlwZSkgewogICAgICAgICAgICBfdGhpczMuYWN0aW9ucy51cGRhdGVNb3JlRGF0YSh7CiAgICAgICAgICAgICAgZGF0YUluZGV4OiBkYXRhSW5kZXgsCiAgICAgICAgICAgICAgZGF0YTogcmVEYXRhCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2Nyb2xsQmluZEV2ZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxCaW5kRXZlbnQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIG5lZWRQYWdlTW9kdWxlcyA9IHRoaXMuZGF0YS5nZXQoJ25lZWRQYWdlTW9kdWxlcycpOyAvLyDnqpflj6Plj6/op4bojIPlm7TnmoTpq5jluqYKCiAgICAgIHZhciB3SGVpZ2h0ID0gKDAsIF91dGlscy5nZXRDbGllbnRIZWlnaHQpKCk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoMCwgX3V0aWxzLmRlYm91bmNlKShmdW5jdGlvbiAoKSB7CiAgICAgICAgbmVlZFBhZ2VNb2R1bGVzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgdmFyIHBhZ2VJdGVtID0gX3RoaXM0LnJlZigicGFnZSIuY29uY2F0KGl0ZW0pKTsKCiAgICAgICAgICB2YXIgbW9kdWxlc0l0ZW0gPSBfdGhpczQuZGF0YS5nZXQoJ3BhZ2VEYXRhJylbaXRlbV07CgogICAgICAgICAgaWYgKHBhZ2VJdGVtICYmIG1vZHVsZXNJdGVtLmluZGV4ICYmICErbW9kdWxlc0l0ZW0uY2FuX2V4Y2hhbmdlKSB7CiAgICAgICAgICAgIHZhciB0b3AgPSBwYWdlSXRlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7CgogICAgICAgICAgICBpZiAodG9wID4gMCAmJiB0b3AgPCB3SGVpZ2h0IC0gMTAwKSB7CiAgICAgICAgICAgICAgX3RoaXM0LmdldE1vcmVMaXN0KG1vZHVsZXNJdGVtLmluZGV4KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LCA1MCkpOwogICAgfQogIH0sIHsKICAgIGtleTogImNoYW5nZUNsaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VDbGljayhfcmVmNikgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciBkYXRhSW5kZXggPSBfcmVmNi5kYXRhSW5kZXg7CiAgICAgIHZhciBjaGFuZ2VCdG5JdGVtID0gdGhpcy5yZWYoImNoYW5nZSIuY29uY2F0KGRhdGFJbmRleCkpLmVsOwogICAgICBjaGFuZ2VCdG5JdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS5nZXRNb3JlTGlzdChkYXRhSW5kZXgpOwogICAgICB9KTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEFwcDsKfShfc2FuLkNvbXBvbmVudCk7CgpleHBvcnRzLmRlZmF1bHQgPSBBcHA7CigwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKEFwcCwgInRlbXBsYXRlIiwgIlxuICAgICAgICA8ZGl2IGNsYXNzPVwid3JhcHBlclwiIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogI3t7dG9wQmcuYm90dG9tX2NvbG9yfX1cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b3Atd3JhcHBlclwiIHN0eWxlPVwiYmFja2dyb3VuZDogdXJsKHt7dG9wQmcudG9wX2ltZ319KSBuby1yZXBlYXQgbGVmdCB0b3AvMTAwJVwiPlxuICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJsb2dvXCIgc3JjPVwie3tsb2dvVXJsfX1cIiAvPlxuICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSBzLWZvcj1cIml0ZW0saW5kZXggaW4gcGFnZURhdGFcIj5cbiAgICAgICAgICAgICAgICAgICAgPHVpLWNhcm91c2Vsc1xuICAgICAgICAgICAgICAgICAgICAgICAgcy1pZj1cIml0ZW0udHlwZSA9PT0gJ21ham9yX3Byb2dyYW1zJ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWpvclByb2dyYW1zPVwie3tpdGVtfX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgb24tY2xpY2tJbnZva2U9XCJjbGlja0ludm9rZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BCZz17e3RvcEJnfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPHVpLXRoZW1lLWNhcmQgXG4gICAgICAgICAgICAgICAgICAgICAgICBzLWlmPVwiaXRlbS50eXBlID09PSAndGhlbWUnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZW1lPVwie3tpdGVtfX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgb24tY2xpY2tJbnZva2U9XCJjbGlja0ludm9rZVwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDx1aS12aWRlby1zbGlkZSBcbiAgICAgICAgICAgICAgICAgICAgICAgIHMtaWY9XCJpdGVtLnR5cGUgPT09ICd2aWRlb19zbGlwJ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWRlb1NsaXA9XCJ7e2l0ZW19fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbi1jbGlja0ludm9rZT1cImNsaWNrSW52b2tlXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPHVpLWNvbWJpbmUgXG4gICAgICAgICAgICAgICAgICAgICAgICBzLWlmPVwiaXRlbS50eXBlID09PSAnY29tYmluZV9yZXNvdXJjZXMnXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21iaW5SZXNvdXJjZXM9XCJ7e2l0ZW19fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleD1cInt7aW5kZXh9fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbi1jbGlja0ludm9rZT1cImNsaWNrSW52b2tlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uLWZvbGxvd0NsaWNrPVwiZm9sbG93Q2xpY2tcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wQmc9XCJ7e3RvcEJnfX1cIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8dWktYWN0b3ItaW50cm9cbiAgICAgICAgICAgICAgICAgICAgICAgIHMtaWY9XCJpdGVtLnR5cGUgPT09ICdmb2N1cydcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXM9XCJ7e2l0ZW19fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BCZz1cInt7dG9wQmd9fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleD1cInt7aW5kZXh9fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbi1mb2xsb3dDbGljaz1cImZvbGxvd0NsaWNrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uLWF1dGhvckNsaWNrPVwiYXV0aG9yQ2xpY2tcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8dWktb3JkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHMtaWY9XCJpdGVtLnR5cGUgPT09ICdvcmRlcidcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXI9XCJ7e2l0ZW19fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BCZz1cInt7dG9wQmd9fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleD1cInt7aW5kZXh9fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbi1vcmRlckNsaWNrPVwib3JkZXJDbGlja1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbi1jbGlja0ludm9rZT1cImNsaWNrSW52b2tlXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPHVpLWJpZy12aWRlb1xuICAgICAgICAgICAgICAgICAgICAgICAgcy1pZj1cIml0ZW0udHlwZSA9PT0gJ3ZpZGVvX2JpZydcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9CaWc9XCJ7e2l0ZW19fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleD1cInt7aW5kZXh9fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbi1mb2xsb3dDbGljaz1cImZvbGxvd0NsaWNrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uLWNsaWNrSW52b2tlPVwiY2xpY2tJbnZva2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wQmc9XCJ7e3RvcEJnfX1cIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8dWktc21hbGwtdmlkZW9cbiAgICAgICAgICAgICAgICAgICAgICAgIHMtaWY9XCJpdGVtLnR5cGUgPT09ICd2aWRlb19zbWFsbCdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9TbWFsbD1cInt7aXRlbX19XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4PVwie3tpbmRleH19XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uLWNsaWNrSW52b2tlPVwiY2xpY2tJbnZva2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wQmc9XCJ7e3RvcEJnfX1cIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8dWktYm90dG9tLWd1aWRlXG4gICAgICAgICAgICAgICAgICAgICAgICBzLWlmPVwiaXRlbS50eXBlID09PSAnanVtcF9jaGFubmVsJ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBqdW1wQ2hhbm5lbD1cInt7aXRlbX19XCIgXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleD1cInt7aW5kZXh9fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BCZz1cInt7dG9wQmd9fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbi1jbGlja0ludm9rZT1cImNsaWNrSW52b2tlXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPHVpLWludHJvLWltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgcy1pZj1cIml0ZW0udHlwZSA9PT0gJ2ludHJvZHVjZSdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg9XCJ7e2luZGV4fX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgaW50cm9kdWNlPVwie3tpdGVtfX1cIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8dWktY2hhbmdlLWJ0blxuICAgICAgICAgICAgICAgICAgICAgICAgcy1yZWY9XCJjaGFuZ2V7e2luZGV4fX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg9XCJ7e2luZGV4fX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgcy1pZj1cIitpdGVtLmNhbl9leGNoYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVEYXRhPVwie3tpdGVtfX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgb24tY2hhbmdlQ2xpY2s9XCJjaGFuZ2VDbGlja1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzLXJlZj1cInBhZ2V7e2luZGV4fX1cIiBzLWlmPVwiaXRlbS5pc19lbmQgPT09IDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgcy1pZj1cIml0ZW0ubG9hZGluZ1wiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWFyY2hfYm94IHt7dG9wQmcuaXBfdHlwZT09MiA/ICdzZWFyY2hfYm94X25vJyA6ICcnfX1cIlxuICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJiYWNrZ3JvdW5kOiB1cmwoe3t0b3BCZy5ib3R0b21faW1nfX0pIG5vLXJlcGVhdCBjZW50ZXIvY292ZXI7XCI+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPHVpLXNoYXJlLWVudHJ5XG4gICAgICAgICAgICAgICAgICAgIHMtaWY9XCIhaXNCb3hTZXJpZXMgJiYgc2hhcmVFbnRyeVwiXG4gICAgICAgICAgICAgICAgICAgIHRvcEJnPVwie3t0b3BCZ319XCJcbiAgICAgICAgICAgICAgICAgICAgb24tY2xpY2tJbnZva2U9XCJjbGlja0ludm9rZVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuICAgICIpOwooMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShBcHAsICJjb21wb25lbnRzIiwgewogICd1aS1vcmRlcic6IF9taWRkbGVPcmRlci5kZWZhdWx0LAogIC8vIOeugOS7i+iuoumYheWNoQogICd1aS1iaWctdmlkZW8nOiBfYmlnVmlkZW8uZGVmYXVsdCwKICAvLyDop4bpopHlpKfljaEKICAndWktY2Fyb3VzZWxzJzogX3RvcENhcm91c2Vscy5kZWZhdWx0LAogIC8vIOmHjeimgeiKguebruWNoQogICd1aS1hY3Rvci1pbnRybyc6IF9hY3RvckludHJvLmRlZmF1bHQsCiAgLy8g5ryU5ZGY5qiq5ruR5Y2hCiAgJ3VpLWludHJvLWltZyc6IF9hY3RvckludHJvSW1nLmRlZmF1bHQsCiAgLy8g5ryU5ZGY5LuL57uN5Zu+CiAgJ3VpLXNtYWxsLXZpZGVvJzogX3NtYWxsVmlkZW8uZGVmYXVsdCwKICAvLyDop4bpopHotYTmupDlsI/ljaEKICAndWktYm90dG9tLWd1aWRlJzogX2JvdHRvbUd1aWRlLmRlZmF1bHQsCiAgLy8g5bqV6YOo5byV5a+85Y2hCiAgJ3VpLXNoYXJlLWVudHJ5JzogX3NoYXJlRW50cnkuZGVmYXVsdCwKICAndWktdGhlbWUtY2FyZCc6IF90aGVtZUNhcmQuZGVmYXVsdCwKICAvLyDor53popjljaEKICAndWktdmlkZW8tc2xpZGUnOiBfdmlkZW9TbGlkZS5kZWZhdWx0LAogIC8vIOinhumikeaoqua7keWNoQogICd1aS1jb21iaW5lJzogX2NvbWJpbmVSZXNvdXJjZXMuZGVmYXVsdCwKICAvLyDnu4TlkIjotYTmupDljaEKICAndWktY2hhbmdlLWJ0bic6IF9jaGFuZ2VCdG4uZGVmYXVsdCAvLyDmjaLkuIDmjaLmjInpkq4KCn0pOwooMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShBcHAsICJjb21wdXRlZCIsIHsKICBzdHlsZTogZnVuY3Rpb24gc3R5bGUoKSB7CiAgICByZXR1cm4gewogICAgICBzdHlsZTogJycKICAgIH07CiAgfQp9KTsKCl9zdG9yZTIuY29ubmVjdC5zYW4oewogIHRvcEJnOiAndG9wQmcnLAogIC8vIOWktOWbvibog4zmma/ljLoKICBwYWdlRGF0YTogJ3BhZ2VEYXRhJywKICBuZWVkUGFnZU1vZHVsZXM6ICduZWVkUGFnZU1vZHVsZXMnCn0sIHsKICB1cGRhdGVPcmRlcjogJ21haW46dXBkYXRlT3JkZXInLAogIHVwZGF0ZUZvY3VzRm9sbG93OiAnbWFpbjp1cGRhdGVGb2N1c0ZvbGxvdycsCiAgdXBkYXRlTW9yZURhdGE6ICdtYWluOnVwZGF0ZU1vcmVEYXRhJywKICB1cGRhdGVMb2FkaW5nOiAnbWFpbjp1cGRhdGVMb2FkaW5nJywKICBpbnZva2U6ICdpbnZva2UnCn0pKEFwcCk7CgppZiAobW9kdWxlLmhvdCkgewogIHZhciBfX0hPVF9BUElfXyA9IHJlcXVpcmUoJy9Vc2Vycy9saWFvaHVhbnl1L3Byb2plY3RzL2JhaWR1LXdvcmsvYmFpZHUvZmVlZDMvbXVsdGktcGFnZXMvbm9kZV9tb2R1bGVzL3Nhbi1ob3QtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudC1jbGllbnQtYXBpLmpzJyk7CgogIHZhciBfX0hPVF9VVElMU19fID0gcmVxdWlyZSgnL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvc2FuLWhvdC1sb2FkZXIvbGliL3J1bnRpbWUvdXRpbHMuanMnKTsKCiAgdmFyIF9fU0FOX0NPTVBPTkVOVF9fID0gX19IT1RfVVRJTFNfXy5nZXRFeHBvcnRzKG1vZHVsZSk7CgogIGlmIChfX1NBTl9DT01QT05FTlRfXy50ZW1wbGF0ZSB8fCBfX1NBTl9DT01QT05FTlRfXy5wcm90b3R5cGUudGVtcGxhdGUpIHsKICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7CgogICAgX19IT1RfQVBJX18uaW5zdGFsbChyZXF1aXJlKCdzYW4nKSk7CgogICAgdmFyIF9fSE1SX0lEX18gPSAnNDk1MTYzOWQnOwoKICAgIGlmICghbW9kdWxlLmhvdC5kYXRhKSB7CiAgICAgIF9fSE9UX0FQSV9fLmNyZWF0ZVJlY29yZChfX0hNUl9JRF9fLCBfX1NBTl9DT01QT05FTlRfXyk7CiAgICB9IGVsc2UgewogICAgICBfX0hPVF9BUElfXy5ob3RSZWxvYWQoX19ITVJfSURfXywgX19TQU5fQ09NUE9ORU5UX18pOwogICAgfQogIH0KfQ=="},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/news/containers/app.js"],"names":["env","isBoxSeries","boxx","call","e","console","error","App","opt","timingId","autoTimingTrack","from","source","version","queryParams","appname","initLog","data","get","ip_type","share_abstract","share_img","share_title","initConcern","scrollBindEvent","type","ext","title","description","icon","link","window","location","href","topBg","bottom_img","logoUrl","undefined","shareEntry","urlCmd","actions","invoke","id","ops","isAladin","onLine","set","dataIndex","orderData","orderStatus","subscribe_state","paUid","pa_uid","topicId","topic_id","subscribe","then","errno","message","updateOrder","real_num","order_num","index","item","followtype","op_type","followed","third_id","aumrid","sfrom","updateFocusFollow","err","JSON","stringify","auhomepageurl","key","loading","is_end","can_exchange","nid","length","updateLoading","status","modules","reData","updateMoreData","needPageModules","wHeight","addEventListener","map","pageItem","ref","modulesItem","top","getBoundingClientRect","getMoreList","changeBtnItem","el","Component","Order","BigVideo","Carousels","ActorIntro","ActorIntroImg","SmallVideo","BottomGuide","ThemeCard","VideoSlide","CombineResources","ChangeBtn","style","connect","san","pageData","module","hot","__HOT_API__","require","__HOT_UTILS__","__SAN_COMPONENT__","getExports","template","prototype","accept","install","__HMR_ID__","createRecord","hotReload"],"mappings":"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","sourcesContent":["/**\n * 新闻栏目页面\n * @file yangmei(yangmei03@baidu.com)\n */\nimport '../store';\nimport './app.less';\nimport {Component} from 'san';\nimport ubc from '@baidu/ubc-report-sdk';\nimport {getQueryString} from '@/lib/utils/getQueryString';\nimport {connect} from '@store';\nimport {order, getMoreListAjax} from '../service';\nimport {env} from '@baidu/auc-base/env';\nimport {debounce, getClientHeight, log} from '@/lib/utils';\nimport concern from '@baidu/xbox-concern';\nimport {setShareInfo} from '@/lib/utils/setShareInfo';\n// components\nimport Order from '../components/middle-order';\nimport BigVideo from '../components/big-video';\nimport shareEntry from '../components/share-entry';\nimport Carousels from '../components/top-carousels';\nimport ActorIntro from '../components/actor-intro';\nimport SmallVideo from '../components/small-video';\nimport BottomGuide from '../components/bottom-guide';\nimport ActorIntroImg from '../components/actor-introImg';\nimport ThemeCard from '../components/theme-card';\nimport VideoSlide from '../components/video-slide';\nimport CombineResources from '../components/combine-resources';\nimport ChangeBtn from '../components/change-btn';\nimport boxx from '@baidu/auc-base/boxx';\n\n// 尝试关闭加载态\ntry {\n    env.isBoxSeries && boxx.call('commonUI.closeLoading');\n} catch (e) {\n    console.error(e);\n}\n\nexport default class App extends Component {\n    constructor(opt) {\n        super(opt);\n    }\n    static template = `\n        <div class=\"wrapper\" style=\"background-color: #{{topBg.bottom_color}}\">\n            <div class=\"top-wrapper\" style=\"background: url({{topBg.top_img}}) no-repeat left top/100%\">\n                <img class=\"logo\" src=\"{{logoUrl}}\" />\n                <template s-for=\"item,index in pageData\">\n                    <ui-carousels\n                        s-if=\"item.type === 'major_programs'\"\n                        majorPrograms=\"{{item}}\"\n                        on-clickInvoke=\"clickInvoke\"\n                        topBg={{topBg}}\n                    />\n                    <ui-theme-card \n                        s-if=\"item.type === 'theme'\"\n                        theme=\"{{item}}\"\n                        on-clickInvoke=\"clickInvoke\"\n                    />\n                    <ui-video-slide \n                        s-if=\"item.type === 'video_slip'\"\n                        videoSlip=\"{{item}}\"\n                        on-clickInvoke=\"clickInvoke\"\n                    />\n                    <ui-combine \n                        s-if=\"item.type === 'combine_resources'\" \n                        combinResources=\"{{item}}\"\n                        index=\"{{index}}\"\n                        on-clickInvoke=\"clickInvoke\"\n                        on-followClick=\"followClick\"\n                        topBg=\"{{topBg}}\"\n                    />\n                    <ui-actor-intro\n                        s-if=\"item.type === 'focus'\"\n                        focus=\"{{item}}\"\n                        topBg=\"{{topBg}}\"\n                        index=\"{{index}}\"\n                        on-followClick=\"followClick\"\n                        on-authorClick=\"authorClick\"\n                    />\n                    <ui-order\n                        s-if=\"item.type === 'order'\"\n                        order=\"{{item}}\"\n                        topBg=\"{{topBg}}\"\n                        index=\"{{index}}\"\n                        on-orderClick=\"orderClick\"\n                        on-clickInvoke=\"clickInvoke\"\n                    />\n                    <ui-big-video\n                        s-if=\"item.type === 'video_big'\"\n                        videoBig=\"{{item}}\"\n                        index=\"{{index}}\"\n                        on-followClick=\"followClick\"\n                        on-clickInvoke=\"clickInvoke\"\n                        topBg=\"{{topBg}}\"\n                    />\n                    <ui-small-video\n                        s-if=\"item.type === 'video_small'\"\n                        videoSmall=\"{{item}}\"\n                        index=\"{{index}}\"\n                        on-clickInvoke=\"clickInvoke\"\n                        topBg=\"{{topBg}}\"\n                    />\n                    <ui-bottom-guide\n                        s-if=\"item.type === 'jump_channel'\"\n                        jumpChannel=\"{{item}}\" \n                        index=\"{{index}}\"\n                        topBg=\"{{topBg}}\"\n                        on-clickInvoke=\"clickInvoke\"\n                    />\n                    <ui-intro-img\n                        s-if=\"item.type === 'introduce'\"\n                        index=\"{{index}}\"\n                        introduce=\"{{item}}\"\n                    />\n                    <ui-change-btn\n                        s-ref=\"change{{index}}\"\n                        index=\"{{index}}\"\n                        s-if=\"+item.can_exchange\"\n                        moduleData=\"{{item}}\"\n                        on-changeClick=\"changeClick\"\n                        \n                    />\n                    <div s-ref=\"page{{index}}\" s-if=\"item.is_end === 0\">\n                        <div s-if=\"item.loading\"></div>\n                    </div>\n                </template>\n                <div class=\"search_box {{topBg.ip_type==2 ? 'search_box_no' : ''}}\"\n                     style=\"background: url({{topBg.bottom_img}}) no-repeat center/cover;\">\n                </div>\n                <ui-share-entry\n                    s-if=\"!isBoxSeries && shareEntry\"\n                    topBg=\"{{topBg}}\"\n                    on-clickInvoke=\"clickInvoke\"\n                />\n            </div>\n\n        </div>\n    `;\n\n    static components = {\n        'ui-order': Order, // 简介订阅卡\n        'ui-big-video': BigVideo, // 视频大卡\n        'ui-carousels': Carousels, // 重要节目卡\n        'ui-actor-intro': ActorIntro, // 演员横滑卡\n        'ui-intro-img': ActorIntroImg, // 演员介绍图\n        'ui-small-video': SmallVideo, // 视频资源小卡\n        'ui-bottom-guide': BottomGuide, // 底部引导卡\n        'ui-share-entry': shareEntry,\n        'ui-theme-card': ThemeCard, // 话题卡\n        'ui-video-slide': VideoSlide, // 视频横滑卡\n        'ui-combine': CombineResources, // 组合资源卡\n        'ui-change-btn': ChangeBtn// 换一换按钮\n    };\n    initLog() {\n        // 页面打点\n        ubc('pageLog.init', '13908', {\n            timingId: '13908',\n            autoTimingTrack: true,\n            from: getQueryString('id') || '',\n            source: getQueryString('source') || 'other'\n        });\n        // 卡片打点\n        ubc('cardLog.init', '13907', {\n            from: getQueryString('id') || '',\n            source: getQueryString('source') || 'other'\n        });\n        // 顶部视频自动播放\n        ubc('videoLog.init', '13980', {\n            version: '2.0',\n            from: getQueryString('id') || '',\n            source: getQueryString('source') || 'other',\n            queryParams: {\n                appname: 'baiduboxapp'\n            }\n        });\n    }\n\n    inited() {\n        this.initLog();\n    }\n\n    attached() {\n        const {\n            ip_type,\n            share_abstract,\n            share_img,\n            share_title\n        } = this.data.get('topBg');\n        this.initConcern();\n        this.scrollBindEvent();\n        ubc('pageLog.event', {\n            type: 'pageShow',\n            ext: {\n            }\n        });\n        if (ip_type === '2') { // 决胜21天，定制分享物料\n            setShareInfo({\n                title: share_title || '《决胜21天》烧脑开播：各路精英神仙打架 清华博士被嘲智商低',\n                description: share_abstract || '在《决胜21天》中看懂博弈思维',\n                icon: share_img || 'https://b.bdstatic.com/searchbox/icms/searchbox/img/8003-logo.jpg',\n                link: window.location.href\n            });\n        }\n    }\n    initData() {\n        return {\n            topBg: {\n                bottom_img: ''\n            },\n            logoUrl: 'https://b.bdstatic.com/searchbox/icms/searchbox/img/ipnews-logo.png',\n            initConcern: undefined,\n            isBoxSeries: env.isBoxSeries,\n            shareEntry: getQueryString('shareEntry')\n        };\n    }\n    static computed = {\n        style() {\n            return {\n                style: ''\n            };\n        }\n    }\n    clickInvoke(urlCmd) {\n        this.actions.invoke({urlCmd});\n    }\n    initConcern() {\n        const initConcern = concern({\n            id: 'ip-news',\n            ops: {\n                type: 'stock',\n                isAladin: 0,\n                onLine: true\n            }\n        });\n        this.data.set('initConcern', initConcern);\n\n    }\n    orderClick({dataIndex}) {\n        const orderData = this.data.get('pageData')[dataIndex];\n        const orderStatus = orderData.subscribe_state;\n        order({\n            paUid: orderData.pa_uid,\n            topicId: orderData.topic_id,\n            subscribe: orderStatus ? 0 : 1\n        }).then(({errno, data}) => {\n            if (+errno) {\n                boxx.call('commonUI.showToast', {\n                    type: '1',\n                    message: '操作失败，请重试'\n                });\n                return;\n            }\n            // 更新预约状态\n            this.actions.updateOrder({\n                data: {\n                    subscribe_state: orderStatus ? 0 : 1,\n                    real_num: data.order_num\n                },\n                dataIndex\n            });\n            // 预约提示toast\n            const message = !orderStatus\n                ? '更新后订阅消息提醒已开启' : '已取消预约';\n            boxx.call('commonUI.showToast', {\n                type: '1',\n                message,\n            });\n        });\n    }\n    followClick({index, dataIndex}) {\n        const item = this.data.get('pageData')[dataIndex].data[index];\n        const initConcern = this.data.get('initConcern');\n        initConcern.subscribe({\n            type: item.followtype,\n            op_type: item.followed ? 'cancel' : 'add',\n            third_id: item.aumrid,\n            sfrom: 'sbox',\n            source: item.followtype\n        }, () => {\n            this.actions.updateFocusFollow({\n                dataIndex,\n                index\n            });\n        }, (err) => {\n            console.error(JSON.stringify(err));\n        }, false);\n    }\n    authorClick({index, dataIndex}) {\n        const item = this.data.get('pageData')[dataIndex].data[index];\n        window.location.href = item.auhomepageurl;\n    }\n    // 分页请求数据\n    getMoreList(dataIndex) {\n        const key = `pageData[${dataIndex}]`;\n        const {type, data = [], loading, is_end, can_exchange} = this.data.get(key);\n        // 没有data返回\n        if (!data) {\n            return;\n        }\n        let nid = data.length ? data[data.length - 1].id : '';\n        if (!data.length || loading || !nid) {\n            return;\n        }\n        // 和Server沟通。换一换功能，分页到最后一页，nid传空字符串，吐首屏data[...]\n        if (data.length && is_end && +can_exchange) {\n            nid = '';\n        }\n        this.actions.updateLoading({\n            dataIndex,\n            status: true\n        });\n        getMoreListAjax(type, nid, dataIndex).then(({errno, data}) => {\n            this.actions.updateLoading({\n                dataIndex,\n                status: false\n            });\n            if (!+errno && data.modules) {\n                const reData = data.modules[0];\n                if (reData.type === type) {\n                    this.actions.updateMoreData({\n                        dataIndex,\n                        data: reData\n                    });\n                }\n            }\n        });\n    }\n    scrollBindEvent() {\n        const needPageModules = this.data.get('needPageModules');\n        // 窗口可视范围的高度\n        const wHeight = getClientHeight();\n        window.addEventListener('scroll', debounce(() => {\n            needPageModules.map(item => {\n                const pageItem = this.ref(`page${item}`);\n                const modulesItem = this.data.get('pageData')[item];\n                if (pageItem && modulesItem.index && !+modulesItem.can_exchange) {\n                    const top = pageItem.getBoundingClientRect().top;\n                    if (top > 0 && top < wHeight - 100) {\n                        this.getMoreList(modulesItem.index);\n                    }\n                }\n            });\n        }, 50));\n    }\n    changeClick({dataIndex}) {\n        const changeBtnItem = this.ref(`change${dataIndex}`).el;\n        changeBtnItem.addEventListener('click', () => {\n            this.getMoreList(dataIndex);\n        });\n    }\n}\n\nconnect.san({\n    topBg: 'topBg', // 头图&背景区\n    pageData: 'pageData',\n    needPageModules: 'needPageModules'\n}, {\n    updateOrder: 'main:updateOrder',\n    updateFocusFollow: 'main:updateFocusFollow',\n    updateMoreData: 'main:updateMoreData',\n    updateLoading: 'main:updateLoading',\n    invoke: 'invoke'\n})(App);"]}]}