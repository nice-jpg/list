{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-player-mini/utils/index.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-player-mini/utils/index.js","mtime":1696919504666},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmV2ZXJzZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giKTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5pbnZva2VQID0gaW52b2tlUDsKZXhwb3J0cy52ZXJzaW9uID0gZXhwb3J0cy52ZXJzaW9uQ29tcGFyZSA9IGV4cG9ydHMuZ2V0R2xvYmFsRnVuYyA9IGV4cG9ydHMuZ2V0UmFuZG9tTmFtZSA9IGV4cG9ydHMudHlwZSA9IGV4cG9ydHMuYW5kcm9pZEludm9rZSA9IGV4cG9ydHMuaW9zSW52b2tlID0gZXhwb3J0cy5pc01haW5Cb3ggPSBleHBvcnRzLmlzQW5kcm9pZCA9IGV4cG9ydHMuaXNJT1MgPSB2b2lkIDA7Cgp2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSIpKTsKCnZhciBfdHlwZW9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YiKSk7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8qKgogKiBAZmlsZSDnq6/og73lipvnm7jlhbPlh73mlbAKICogQGF1dGhvciB6aGFuZ3Rpbmd0aW5nMTIgPHpoYW5ndGluZ3RpbmcxMkBiYWlkdS5jb20+CiAqIFJlZmVyZW5jZTogaHR0cDovL2ljb2RlLmJhaWR1LmNvbS9yZXBvcy9iYWlkdS9odWxrL3hib3gvdHJlZS9tYXN0ZXI6cGFja2FnZXMvQGJhaWR1L3hib3gtbmEKICovCnZhciB1YSA9ICh0eXBlb2Ygd2luZG93ID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogKDAsIF90eXBlb2YyLmRlZmF1bHQpKHdpbmRvdykpID09PSAnb2JqZWN0JyAmJiB3aW5kb3cuc2VsZiA9PT0gd2luZG93ID8gbmF2aWdhdG9yLnVzZXJBZ2VudCA6ICcnOyAvLyDmmK/lkKbkuLppb3Pnq68KCnZhciBpc0lPUyA9IGZ1bmN0aW9uIGlzSU9TKCkgewogIHJldHVybiAvKGlQaG9uZXxpUG9kfGlQYWQpLy50ZXN0KHVhKTsKfTsgLy8g5piv5ZCm5Li6YW5kcm9pZOerrwoKCmV4cG9ydHMuaXNJT1MgPSBpc0lPUzsKCnZhciBpc0FuZHJvaWQgPSBmdW5jdGlvbiBpc0FuZHJvaWQoKSB7CiAgcmV0dXJuIC8oQW5kcm9pZCk7P1tcc1wvXSsoW1xkLl0rKT8vLnRlc3QodWEpOwp9OyAvLyDmmK/lkKbkuLrkuLvniYjjgIJiYWlkdWJveGFwcDog5qGG55qE5bi46KeEVUEgYmlkdWJveGFwcDogIOS4quWIq+e9keermeS8muinpuWPkeWGheaguOeahOmjjuaOp+etlueVpSjmr5TlpoLln5/lkI3ku6VsZS5jb23nu5PlsL4p77yMVUHkvJrooqvmm7/mjaIKCgpleHBvcnRzLmlzQW5kcm9pZCA9IGlzQW5kcm9pZDsKCnZhciBpc01haW5Cb3ggPSBmdW5jdGlvbiBpc01haW5Cb3goKSB7CiAgcmV0dXJuIC8gKGJhaWR1Ym94YXBwfGJpZHVib3hhcHApXC8vaS50ZXN0KHVhKSAmJiAhLyAobGl0ZXxpbmZvfHByb3xtaXNzaW9uKSAoYmFpZHVib3hhcHB8YmlkdWJveGFwcCkvLnRlc3QodWEpOwp9OwovKioKICogaW9zSW52b2tl5Lyg5YWlc2NoZW1h5omT5byA5qGG5p62CiAqCiAqIEBwYXJhbSB7c3RyaW5nfSBzY2hlbWEg5Y2P6K6uCiAqLwoKCmV4cG9ydHMuaXNNYWluQm94ID0gaXNNYWluQm94OwoKdmFyIGlvc0ludm9rZSA9IGZ1bmN0aW9uIGlvc0ludm9rZShzY2hlbWEpIHsKICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpOwogIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdOwogIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICBlbGVtLnNyYyA9IHNjaGVtYTsKICBib2R5LmFwcGVuZENoaWxkKGVsZW0pOwogIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgYm9keS5yZW1vdmVDaGlsZChlbGVtKTsKICAgIGVsZW0gPSBudWxsOwogIH0sIDApOwp9OwovKioKICogYW5kcm9pZEludm9rZeS8oOWFpXNjaGVtYeaJk+W8gOahhuaetgogKgogKiBAcGFyYW0ge3N0cmluZ30gc2NoZW1hIOWNj+iurgogKiBAcmV0dXJuIHtPYmplY3R9IOWPkei1t3NjaGVtYeivt+axggogKi8KCgpleHBvcnRzLmlvc0ludm9rZSA9IGlvc0ludm9rZTsKCnZhciBhbmRyb2lkSW52b2tlID0gZnVuY3Rpb24gYW5kcm9pZEludm9rZShzY2hlbWEpIHsKICB2YXIgYW5kcm9pZEpzQnJpZGdlID0gd2luZG93LkJkYm94X2FuZHJvaWRfanNicmlkZ2U7CgogIGlmIChhbmRyb2lkSnNCcmlkZ2UgJiYgYW5kcm9pZEpzQnJpZGdlLmRpc3BhdGNoKSB7CiAgICBhbmRyb2lkSnNCcmlkZ2UuZGlzcGF0Y2goc2NoZW1hKTsKICB9IGVsc2UgewogICAgdmFyIHJlID0gd2luZG93LnByb21wdCgnQmRib3hBcHA6JyArIEpTT04uc3RyaW5naWZ5KHsKICAgICAgb2JqOiAnQmRib3hfYW5kcm9pZF9qc2JyaWRnZScsCiAgICAgIGZ1bmM6ICdkaXNwYXRjaCcsCiAgICAgIGFyZ3M6IFtzY2hlbWFdCiAgICB9KSk7CiAgICByZXR1cm4gcmU7CiAgfQp9OwovKioKICogQGZ1bmN0aW9uIHR5cGUKICogQHBhcmFtIHthbnl9IG9iaiAtIOiiq+WIpOaWreeahOWvueixoQogKiBAcmV0dXJuIHtzdHJpbmd9IOi/lOWbnuexu+Wei++8mmFycmF5L2RhdGUvc3RyaW5nL29iamVjdC91bmRlZmluZWQvZnVuY3Rpb24vYm9vbGVhbi9udWxsL3JlZ2V4cC9tYXRoIOetiQogKi8KCgpleHBvcnRzLmFuZHJvaWRJbnZva2UgPSBhbmRyb2lkSW52b2tlOwoKdmFyIHR5cGUgPSBmdW5jdGlvbiB0eXBlKG9iaikgewogIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKS5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKTsKfTsKCmV4cG9ydHMudHlwZSA9IHR5cGU7CnZhciBpbmRleCA9IDA7Ci8qKgogKiBnZXRSYW5kb21OYW1l6ZqP5py655Sf5oiQ5ZSv5LiA5ZCN56ewCiAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmZml4IOWJjee8gAogKiBAcmV0dXJuIHtzdHJpbmd9IOmaj+acuuWHveaVsOWQjeensAogKi8KCnZhciBnZXRSYW5kb21OYW1lID0gZnVuY3Rpb24gZ2V0UmFuZG9tTmFtZShwcmVmZml4KSB7CiAgaW5kZXgrKzsKICByZXR1cm4gcHJlZmZpeCArIChEYXRlLm5vdygpLnRvU3RyaW5nKDE2KSArIGluZGV4KS5zbGljZSgtMSAqIDgpOwp9OwoKZXhwb3J0cy5nZXRSYW5kb21OYW1lID0gZ2V0UmFuZG9tTmFtZTsKdmFyIGdiID0gKHR5cGVvZiB3aW5kb3cgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiAoMCwgX3R5cGVvZjIuZGVmYXVsdCkod2luZG93KSkgPT09ICdvYmplY3QnID8gd2luZG93IDogZ2xvYmFsOwovKioKICogQGZ1bmN0aW9uIGdldEdsb2JhbEZ1bmMKICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuYyAtIOWFqOWxgOWHveaVsAogKiBAcmV0dXJuIHtzdHJpbmd9IGZ1bmNOYW1lIC0g6L+U5Zue5YWo5bGA5Ye95pWw5ZCNCiAqLwoKdmFyIGdldEdsb2JhbEZ1bmMgPSBmdW5jdGlvbiBnZXRHbG9iYWxGdW5jKGZ1bmMpIHsKICBpZiAodHlwZW9mIGZ1bmMgPT09ICdmdW5jdGlvbicpIHsKICAgIHZhciBuYW1lID0gIl94ZnVuY18iLmNvbmNhdChnZXRSYW5kb21OYW1lKCdfeGZ1bmNfJykpOwoKICAgIGdiW25hbWVdID0gZnVuY3Rpb24gKCkgewogICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogICAgICB9CgogICAgICByZXR1cm4gZnVuYy5hcHBseShnYiwgYXJncyk7CiAgICB9OwoKICAgIHJldHVybiBuYW1lOwogIH0KCiAgcmV0dXJuIGZ1bmM7Cn07Ci8qKgogKiDnu4/luLjkvJrlh7rnjrAgcGFyYW1zIOeahCBzdHJpbmdpZnkg5LmL5ZCO5YaNZW5jb2RlIOeahOaDheWGte+8jOi/memHjOe7n+S4gOWkhOeQhuS6hgogKiDov5jlpITnkIbkuoblh73mlbDpl67popjvvIzlj6/ku6Xnm7TmjqXkvKDlhaXljL/lkI3lh73mlbDljbPlj6/oh6rliqjovazkuLrlhajlsYDlh73mlbAKICogQGZ1bmN0aW9uIGpzb24ycGFyYW1zCiAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIC0g5Y+C5pWwCiAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5jb2RlIC0g5piv5ZCmZW5jb2RlCiAqIEByZXR1cm4ge1Byb21pc2V9IHByb21pc2UgLSBQcm9taXNlCiAqLwoKCmV4cG9ydHMuZ2V0R2xvYmFsRnVuYyA9IGdldEdsb2JhbEZ1bmM7Cgp2YXIganNvbjJwYXJhbXMgPSBmdW5jdGlvbiBqc29uMnBhcmFtcyhqc29uKSB7CiAgdmFyIGVuY29kZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTsKCiAgaWYgKHR5cGUoanNvbikgPT09ICdzdHJpbmcnKSB7CiAgICByZXR1cm4ganNvbjsKICB9CgogIHZhciBycyA9IHt9OwoKICBmb3IgKHZhciBpIGluIGpzb24pIHsKICAgIHZhciBqID0ganNvbltpXTsKCiAgICBpZiAodHlwZShqKSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICBqID0gZ2V0R2xvYmFsRnVuYyhqKTsKICAgIH0KCiAgICByc1tpXSA9IGo7CiAgfQoKICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHJzKSk7Cn07Ci8qKgogKiBqc29uMnF1ZXJ55bCGanNvbui9rOaNouS4unF1ZXJ55qC85byPCiAqCiAqIEBwYXJhbSB7T2JqZWN0fSBqc29u5a+56LGhCiAqIEByZXR1cm4ge3N0cmluZ30g5ou85o6l55qEcXVlcnkKICovCgoKdmFyIGpzb24ycXVlcnkgPSBmdW5jdGlvbiBqc29uMnF1ZXJ5KGpzb24pIHsKICB2YXIgYXJyID0gW107CgogIGZvciAodmFyIGkgaW4ganNvbikgewogICAgdmFyIGogPSBqc29uW2ldOwoKICAgIGlmICh0eXBlKGopID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIGogPSBnZXRHbG9iYWxGdW5jKGopOwogICAgfQoKICAgIGFyci5wdXNoKGkgKyAnPScgKyBqKTsKICB9CgogIHJldHVybiBhcnIuam9pbignJicpOwp9OwovKioKICog5Y+M56uvUHJvbWlzZSDosIPotbflkb3ku6TvvIxob3N0IOWSjCBwYXJhbXMg5YiG5byA5aSE55CG77yM5pSv5oyB5Ye95pWw55u05o6l5Lyg5YWlCiAqIEBwYXJhbSB7U3RyaW5nfSBhY3Rpb24gLSBzY2hlbWEgaG9zdCDpg6jliIYKICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcyAtIOWPguaVsAogKiBAcGFyYW0ge3N0cmluZ30gc2NoZW1hSGVhZCAtIHNjaGVtYSDlpLTvvIzpu5jorqQgYmFpZHVib3hhcHAKICogQHJldHVybiB7UHJvbWlzZX0KICovCgoKZnVuY3Rpb24gaW52b2tlUChhY3Rpb24pIHsKICB2YXIgcXVlcnlQYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogIHZhciBzY2hlbWFIZWFkID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnYmFpZHVib3hhcHAnOwoKICBpZiAoIWlzTWFpbkJveCgpKSB7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoewogICAgICBzdGF0dXM6IDkwMiwKICAgICAgbWVzc2FnZTogJ+S4u+eJiEFQUOWkluaXoOazleiwg+eUqOerr+iDveWKmycKICAgIH0pOwogIH0KCiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIHZhciB0bXAgPSBxdWVyeVBhcmFtcy5wYXJhbXMgfHwge307CgogICAgaWYgKE9iamVjdC5rZXlzKHRtcCkubGVuZ3RoID09PSAwICYmIHRtcC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0IHx8IHRtcCA9PT0gJyU3QiU3RCcgfHwgdG1wID09PSAne30nKSB7CiAgICAgIC8vIOWIoOmZpOepuueahHBhcmFtc+WvueixoQogICAgICBkZWxldGUgcXVlcnlQYXJhbXMucGFyYW1zOwogICAgfSBlbHNlIGlmICh0eXBlKHRtcCkgPT09ICdvYmplY3QnKSB7CiAgICAgIHF1ZXJ5UGFyYW1zLnBhcmFtcyA9IGpzb24ycGFyYW1zKHRtcCk7CiAgICB9CgogICAgdmFyIHF1ZXJ5ID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBxdWVyeVBhcmFtcyksIHt9LCB7CiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhyZXN1bHQpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlc3VsdDsKCiAgICAgICAgaWYgKHR5cGUocmVzdWx0KSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdCk7CiAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKCtkYXRhLnN0YXR1cyA9PT0gMCkgewogICAgICAgICAgcmVzb2x2ZShkYXRhLmRhdGEpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgcmVqZWN0KGRhdGEpOwogICAgICB9CiAgICB9KTsKCiAgICB2YXIgc2VhcmNoID0ganNvbjJxdWVyeShxdWVyeSk7CiAgICB2YXIgc2NoZW1hID0gIiIuY29uY2F0KHNjaGVtYUhlYWQsICI6Ly8iKS5jb25jYXQoYWN0aW9uLCAiPyIpLmNvbmNhdChzZWFyY2gpOwoKICAgIGlmIChpc0lPUygpKSB7CiAgICAgIGlvc0ludm9rZShzY2hlbWEpOwogICAgfSBlbHNlIGlmIChpc0FuZHJvaWQoKSkgewogICAgICBhbmRyb2lkSW52b2tlKHNjaGVtYSk7CiAgICB9CiAgfSk7Cn0KLyoqCiAqIHZlcnNpb25Db21wYXJl5q+U6L6D5Lik5Liq54mI5pysCiAqCiAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJzaW9uMSDlvoXmr5TovoPniYjmnKwxCiAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJzaW9uMiDlvoXmr5TovoPniYjmnKwyCiAqIEByZXR1cm4ge251bWJlcn0g6L+U5Zue57uT5p6c55u45ZCMMO+8jDHlpKfkuo4y6L+U5ZueMe+8jDHlsI/kuo4y6L+U5ZueLTEKICovCgoKdmFyIHZlcnNpb25Db21wYXJlID0gZnVuY3Rpb24gdmVyc2lvbkNvbXBhcmUodmVyc2lvbjEsIHZlcnNpb24yKSB7CiAgdmVyc2lvbjIgKz0gJyc7CiAgdmVyc2lvbjEgKz0gJyc7CiAgdmFyIGEgPSB2ZXJzaW9uMS5zcGxpdCgnLicpOwogIHZhciBiID0gdmVyc2lvbjIuc3BsaXQoJy4nKTsKICB2YXIgaSA9IDA7CiAgdmFyIGxlbiA9IE1hdGgubWF4KGEubGVuZ3RoLCBiLmxlbmd0aCk7CgogIGZvciAoOyBpIDwgbGVuOyBpKyspIHsKICAgIGlmIChhW2ldICYmICFiW2ldICYmIHBhcnNlSW50KGFbaV0sIDEwKSA+IDAgfHwgcGFyc2VJbnQoYVtpXSwgMTApID4gcGFyc2VJbnQoYltpXSwgMTApKSB7CiAgICAgIHJldHVybiAxOwogICAgfSBlbHNlIGlmIChiW2ldICYmICFhW2ldICYmIHBhcnNlSW50KGJbaV0sIDEwKSA+IDAgfHwgcGFyc2VJbnQoYVtpXSwgMTApIDwgcGFyc2VJbnQoYltpXSwgMTApKSB7CiAgICAgIHJldHVybiAtMTsKICAgIH0KICB9CgogIHJldHVybiAwOwp9OwovKioKICogZ2V0Qm94VmVyc2lvbuiOt+WPluahhueJiOacrAogKgogKiBAcmV0dXJuIHtzdHJpbmd9IOi/lOWbnueJiOacrAogKi8KCgpleHBvcnRzLnZlcnNpb25Db21wYXJlID0gdmVyc2lvbkNvbXBhcmU7Cgp2YXIgZ2V0Qm94VmVyc2lvbiA9IGZ1bmN0aW9uIGdldEJveFZlcnNpb24oKSB7CiAgdmFyIHZlcnNpb24gPSAnMCc7CgogIGlmICgodHlwZW9mIHdpbmRvdyA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6ICgwLCBfdHlwZW9mMi5kZWZhdWx0KSh3aW5kb3cpKSA9PT0gJ29iamVjdCcgJiYgd2luZG93LmJhaWR1Ym94YXBwX3ZlcnNpb24pIHsKICAgIHJldHVybiB3aW5kb3cuYmFpZHVib3hhcHBfdmVyc2lvbjsKICB9CgogIGlmIChpc01haW5Cb3goKSkgewogICAgdmFyIGE7CgogICAgaWYgKGEgPSAvYmFpZHVib3hhcHBcLyhbXGQuXSspLy5leGVjKHVhKSkgewogICAgICB2ZXJzaW9uID0gYVsxXTsKICAgIH0gZWxzZSBpZiAoYSA9IC8oW1xkKy5dKylfKD86ZGlvcmRuYXxlbm9ocGkpXy8uZXhlYyh1YSkpIHsKICAgICAgLy8g6ICB54mI5pys5omL55m+CiAgICAgIGEgPSBhWzFdLnNwbGl0KCcuJyk7CiAgICAgIHZlcnNpb24gPSBhLnJldmVyc2UoKS5qb2luKCcuJyk7CiAgICB9CiAgfQoKICByZXR1cm4gdmVyc2lvbjsKfTsKCnZhciB2ZXJzaW9uID0gZ2V0Qm94VmVyc2lvbigpOyAvLyBleHBvcnQgY29uc3Qgc2hvd1RvYXN0ID0gbWVzc2FnZSA9PiAoCi8vICAgICBpbnZva2VQKCd2aWRlby9zbHJTaG93VG9hc3RNc2cnLCB7Ci8vICAgICAgICAgcGFyYW1zOiB7Ci8vICAgICAgICAgICAgIG1lc3NhZ2UKLy8gICAgICAgICB9Ci8vICAgICB9KQovLyApOwoKZXhwb3J0cy52ZXJzaW9uID0gdmVyc2lvbjs="},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-player-mini/utils/index.js"],"names":["ua","window","self","navigator","userAgent","isIOS","test","isAndroid","isMainBox","iosInvoke","schema","elem","document","createElement","body","getElementsByTagName","style","display","src","appendChild","setTimeout","removeChild","androidInvoke","androidJsBridge","Bdbox_android_jsbridge","dispatch","re","prompt","JSON","stringify","obj","func","args","type","Object","prototype","toString","call","slice","toLowerCase","index","getRandomName","preffix","Date","now","gb","global","getGlobalFunc","name","apply","json2params","json","encode","rs","i","j","encodeURIComponent","json2query","arr","push","join","invokeP","action","queryParams","schemaHead","Promise","reject","status","message","resolve","tmp","params","keys","length","constructor","query","callback","result","data","parse","e","console","log","search","versionCompare","version1","version2","a","split","b","len","Math","max","parseInt","getBoxVersion","version","baiduboxapp_version","exec","reverse"],"mappings":"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","sourcesContent":["/**\n * @file 端能力相关函数\n * @author zhangtingting12 <zhangtingting12@baidu.com>\n * Reference: http://icode.baidu.com/repos/baidu/hulk/xbox/tree/master:packages/@baidu/xbox-na\n */\n\nconst ua = typeof window === 'object' && window.self === window ? navigator.userAgent : '';\n// 是否为ios端\nexport const isIOS = () => /(iPhone|iPod|iPad)/.test(ua);\n// 是否为android端\nexport const isAndroid = () => /(Android);?[\\s\\/]+([\\d.]+)?/.test(ua);\n// 是否为主版。baiduboxapp: 框的常规UA biduboxapp:  个别网站会触发内核的风控策略(比如域名以le.com结尾)，UA会被替换\nexport const isMainBox = () => (\n    / (baiduboxapp|biduboxapp)\\//i.test(ua) && !/ (lite|info|pro|mission) (baiduboxapp|biduboxapp)/.test(ua)\n);\n\n/**\n * iosInvoke传入schema打开框架\n *\n * @param {string} schema 协议\n */\nexport const iosInvoke = schema => {\n    let elem = document.createElement('iframe');\n    let body = document.body || document.getElementsByTagName('body')[0];\n    elem.style.display = 'none';\n    elem.src = schema;\n    body.appendChild(elem);\n    setTimeout(function () {\n        body.removeChild(elem);\n        elem = null;\n    }, 0);\n};\n/**\n * androidInvoke传入schema打开框架\n *\n * @param {string} schema 协议\n * @return {Object} 发起schema请求\n */\nexport const androidInvoke = schema => {\n    let androidJsBridge = window.Bdbox_android_jsbridge;\n    if (androidJsBridge && androidJsBridge.dispatch) {\n        androidJsBridge.dispatch(schema);\n    }\n    else {\n        let re = window.prompt('BdboxApp:' + JSON.stringify({\n            obj: 'Bdbox_android_jsbridge',\n            func: 'dispatch',\n            args: [schema]\n        }));\n        return re;\n    }\n};\n/**\n * @function type\n * @param {any} obj - 被判断的对象\n * @return {string} 返回类型：array/date/string/object/undefined/function/boolean/null/regexp/math 等\n */\nexport const type = obj => Object.prototype.toString.call(obj).slice(8, -1).toLowerCase();\nlet index = 0;\n/**\n * getRandomName随机生成唯一名称\n * @param {string} preffix 前缀\n * @return {string} 随机函数名称\n */\nexport const getRandomName = preffix => {\n    index++;\n    return preffix + (Date.now().toString(16) + index).slice(-1 * 8);\n};\nconst gb = typeof window === 'object' ? window : global;\n/**\n * @function getGlobalFunc\n * @param {function} func - 全局函数\n * @return {string} funcName - 返回全局函数名\n */\nexport const getGlobalFunc = func => {\n    if (typeof func === 'function') {\n        const name = `_xfunc_${getRandomName('_xfunc_')}`;\n        gb[name] = (...args) => func.apply(gb, args);\n        return name;\n    }\n    return func;\n};\n\n/**\n * 经常会出现 params 的 stringify 之后再encode 的情况，这里统一处理了\n * 还处理了函数问题，可以直接传入匿名函数即可自动转为全局函数\n * @function json2params\n * @param {Object} json - 参数\n * @param {boolean} encode - 是否encode\n * @return {Promise} promise - Promise\n */\nconst json2params = (json, encode = true) => {\n    if (type(json) === 'string') {\n        return json;\n    }\n    const rs = {};\n    for (let i in json) {\n        let j = json[i];\n        if (type(j) === 'function') {\n            j = getGlobalFunc(j);\n        }\n        rs[i] = j;\n    }\n\n    return encodeURIComponent(JSON.stringify(rs));\n};\n/**\n * json2query将json转换为query格式\n *\n * @param {Object} json对象\n * @return {string} 拼接的query\n */\nconst json2query = json => {\n    let arr = [];\n    for (let i in json) {\n        let j = json[i];\n        if (type(j) === 'function') {\n            j = getGlobalFunc(j);\n        }\n\n        arr.push(i + '=' + j);\n    }\n    return arr.join('&');\n};\n/**\n * 双端Promise 调起命令，host 和 params 分开处理，支持函数直接传入\n * @param {String} action - schema host 部分\n * @param {object} params - 参数\n * @param {string} schemaHead - schema 头，默认 baiduboxapp\n * @return {Promise}\n */\nexport function invokeP(action, queryParams = {}, schemaHead = 'baiduboxapp') {\n    if (!isMainBox()) {\n        return Promise.reject({\n            status: 902,\n            message: '主版APP外无法调用端能力'\n        });\n    }\n    return new Promise((resolve, reject) => {\n        let tmp = queryParams.params || {};\n        if (Object.keys(tmp).length === 0 && tmp.constructor === Object || tmp === '%7B%7D' || tmp === '{}') {\n            // 删除空的params对象\n            delete queryParams.params;\n        }\n        else if (type(tmp) === 'object') {\n            queryParams.params = json2params(tmp);\n        }\n\n        const query = {\n            ...queryParams,\n            callback(result) {\n                let data = result;\n                if (type(result) === 'string') {\n                    try {\n                        data = JSON.parse(result);\n                    } catch (e) {\n                        console.log(e);\n                    }\n                }\n                if (+data.status === 0) {\n                    resolve(data.data);\n                    return;\n                }\n                reject(data);\n            }\n        };\n        const search = json2query(query);\n\n        const schema = `${schemaHead}://${action}?${search}`;\n        if (isIOS()) {\n            iosInvoke(schema);\n        }\n        else if (isAndroid()) {\n            androidInvoke(schema);\n        }\n    });\n}\n\n\n/**\n * versionCompare比较两个版本\n *\n * @param {string} version1 待比较版本1\n * @param {string} version2 待比较版本2\n * @return {number} 返回结果相同0，1大于2返回1，1小于2返回-1\n */\nexport const versionCompare = (version1, version2) => {\n    version2 += '';\n    version1 += '';\n    let a = version1.split('.');\n    let b = version2.split('.');\n    let i = 0;\n    let len = Math.max(a.length, b.length);\n    for (; i < len; i++) {\n        if ((a[i] && !b[i] && parseInt(a[i], 10) > 0) || (parseInt(a[i], 10) > parseInt(b[i], 10))) {\n            return 1;\n        }\n        else if ((b[i] && !a[i] && parseInt(b[i], 10) > 0) || (parseInt(a[i], 10) < parseInt(b[i], 10))) {\n            return -1;\n        }\n    }\n    return 0;\n};\n/**\n * getBoxVersion获取框版本\n *\n * @return {string} 返回版本\n */\nconst getBoxVersion = () => {\n    let version = '0';\n    if (typeof window === 'object' && window.baiduboxapp_version) {\n        return window.baiduboxapp_version;\n    }\n    if (isMainBox()) {\n        let a;\n        if ((a = /baiduboxapp\\/([\\d.]+)/.exec(ua))) {\n            version = a[1];\n        }\n        else if ((a = /([\\d+.]+)_(?:diordna|enohpi)_/.exec(ua))) {\n            // 老版本手百\n            a = a[1].split('.');\n            version = a.reverse().join('.');\n        }\n    }\n    return version;\n};\nexport const version = getBoxVersion();\n\n// export const showToast = message => (\n//     invokeP('video/slrShowToastMsg', {\n//         params: {\n//             message\n//         }\n//     })\n// );\n"]}]}