{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/nano/es/carousel/index.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/nano/es/carousel/index.js","mtime":1696919503876},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5hc3NpZ24iKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC5jb25zdHJ1Y3QiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIik7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnZhciBfdG9Db25zdW1hYmxlQXJyYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5IikpOwoKdmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9saWFvaHVhbnl1L3Byb2plY3RzL2JhaWR1LXdvcmsvYmFpZHUvZmVlZDMvbXVsdGktcGFnZXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSk7Cgp2YXIgX2NyZWF0ZUNsYXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpKTsKCnZhciBfaW5oZXJpdHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIikpOwoKdmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikpOwoKdmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9saWFvaHVhbnl1L3Byb2plY3RzL2JhaWR1LXdvcmsvYmFpZHUvZmVlZDMvbXVsdGktcGFnZXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2YiKSk7Cgp2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSIpKTsKCnJlcXVpcmUoIi4vc3R5bGUvaW5kZXgubGVzcyIpOwoKdmFyIF9zYW4gPSByZXF1aXJlKCJzYW4iKTsKCnZhciBfaW1hZ2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uL2ltYWdlIikpOwoKdmFyIF9pbmRpY2F0b3IgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vaW5kaWNhdG9yIikpOwoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yLmRlZmF1bHQpKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQoKdmFyIHByZWZpeENscyA9ICdzLWNhcm91c2VsJzsKdmFyIGluaXRUb3VjaERhdGEgPSB7CiAgc3RhcnRYOiAwLAogIHN0YXJ0WTogMCwKICBkZWx0YVg6IDAsCiAgZGVsdGFZOiAwLAogIG9mZnNldFg6IDAsCiAgb2Zmc2V0WTogMCwKICBkaXJlY3Rpb246ICcnLAogIHN0YXJ0VGltZTogMAp9Owp2YXIgTUlOX0RJU1RBTkNFID0gMTA7CgpmdW5jdGlvbiBnZXREaXJlY3Rpb24oeCwgeSkgewogIGlmICh4ID4geSAmJiB4ID4gTUlOX0RJU1RBTkNFKSB7CiAgICByZXR1cm4gJ2hvcml6b250YWwnOwogIH0KCiAgaWYgKHkgPiB4ICYmIHkgPiBNSU5fRElTVEFOQ0UpIHsKICAgIHJldHVybiAndmVydGljYWwnOwogIH0KCiAgcmV0dXJuICcnOwp9Cgp2YXIgY2FsY1dpZHRoID0gTWF0aC5taW4od2luZG93LmlubmVyV2lkdGgsIDc1MCk7IC8vIGNvbnN0IGhhbGZXaWR0aCA9IGNhbGNXaWR0aCAvIDI7Cgp2YXIgQ2Fyb3VzZWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICAoMCwgX2luaGVyaXRzMi5kZWZhdWx0KShDYXJvdXNlbCwgX0NvbXBvbmVudCk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQ2Fyb3VzZWwpOwoKICBmdW5jdGlvbiBDYXJvdXNlbCgpIHsKICAgICgwLCBfY2xhc3NDYWxsQ2hlY2syLmRlZmF1bHQpKHRoaXMsIENhcm91c2VsKTsKICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogICgwLCBfY3JlYXRlQ2xhc3MyLmRlZmF1bHQpKENhcm91c2VsLCBbewogICAga2V5OiAiaW5pdERhdGEiLAogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdERhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgYWN0aXZlSW5kZXg6IDAsCiAgICAgICAgLy8gbG9vcOS4unRydWXml7bvvJotMSB+IGxpc3QubGVuZ3RoCiAgICAgICAgY3VySW5kZXg6IDAsCiAgICAgICAgYW5pbWF0aW5nOiBmYWxzZSwKICAgICAgICBhdXRvcGxheTogdHJ1ZSwKICAgICAgICBkZWxheTogMzAwMCwKICAgICAgICBkZWx0YTogJzAnLAogICAgICAgIGhlaWdodDogMCwKICAgICAgICBsaXN0OiBbXSwKICAgICAgICBsb29wOiB0cnVlLAogICAgICAgIHNob3dJbmRpY2F0b3I6IHRydWUsCiAgICAgICAgc3BlZWRUaHJlc2hvbGQ6IDAuMjUsCiAgICAgICAgdG91Y2hhYmxlOiB0cnVlLAogICAgICAgIHRpdGxlOiAnJwogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogImluaXRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGVkKCkgewogICAgICBpZiAodGhpcy5kYXRhLmdldCgnY291bnQnKSA8IDIpIHsKICAgICAgICB0aGlzLmRhdGEuc2V0KCd0b3VjaGFibGUnLCBmYWxzZSk7CiAgICAgICAgdGhpcy5kYXRhLnNldCgnbG9vcCcsIGZhbHNlKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImF0dGFjaGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhdHRhY2hlZCgpIHsKICAgICAgdGhpcy5hdXRvcGxheSgpOwogICAgfQogIH0sIHsKICAgIGtleTogImRpc3Bvc2VkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwb3NlZCgpIHsKICAgICAgdGhpcy5zdG9wQXV0b3BsYXkoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYW5kbGVJdGVtQ2xpY2siLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUl0ZW1DbGljayhpdGVtLCBpbmRleCkgewogICAgICB2YXIgX3RoaXMkZGF0YSRnZXQgPSB0aGlzLmRhdGEuZ2V0KCksCiAgICAgICAgICBsaXN0ID0gX3RoaXMkZGF0YSRnZXQubGlzdCwKICAgICAgICAgIGxpc3REYXRhID0gX3RoaXMkZGF0YSRnZXQubGlzdERhdGE7CgogICAgICB0aGlzLmZpcmUoJ2l0ZW0tY2xpY2snLCB7CiAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICBpbmRleDogbGlzdC5sZW5ndGggPT09IGxpc3REYXRhLmxlbmd0aCA/IGluZGV4IDogaW5kZXggLSAxCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImhhbmRsZVRvdWNoU3RhcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnQoZSkgewogICAgICBpZiAoIXRoaXMudG91Y2hhYmxlIHx8IGUuY2hhbmdlZFRvdWNoZXMubGVuZ3RoID4gMSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5zdG9wQXV0b3BsYXkoKTsKICAgICAgdGhpcy5yZXNldFRvdWNoRGF0YSgpOwogICAgICB0aGlzLnN3aXBpbmcgPSB0cnVlOwogICAgICB0aGlzLmZpeEluZGV4KCk7CiAgICAgIHRoaXMuZGF0YS5zZXQoJ2FuaW1hdGluZycsIGZhbHNlKTsKICAgICAgdmFyIHRvdWNoID0gZS50b3VjaGVzWzBdOwogICAgICBPYmplY3QuYXNzaWduKHRoaXMudG91Y2hEYXRhLCB7CiAgICAgICAgc3RhcnRYOiB0b3VjaC5jbGllbnRYLAogICAgICAgIHN0YXJ0WTogdG91Y2guY2xpZW50WSwKICAgICAgICBzdGFydFRpbWU6ICtuZXcgRGF0ZSgpCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImhhbmRsZVRvdWNoTW92ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlKGUpIHsKICAgICAgaWYgKCF0aGlzLnRvdWNoYWJsZSB8fCAhdGhpcy5zd2lwaW5nKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgX3RoaXMkZGF0YSRnZXQyID0gdGhpcy5kYXRhLmdldCgpLAogICAgICAgICAgYWN0aXZlSW5kZXggPSBfdGhpcyRkYXRhJGdldDIuYWN0aXZlSW5kZXgsCiAgICAgICAgICBsb29wID0gX3RoaXMkZGF0YSRnZXQyLmxvb3AsCiAgICAgICAgICBjb3VudCA9IF90aGlzJGRhdGEkZ2V0Mi5jb3VudDsKCiAgICAgIHZhciB0b3VjaCA9IGUudG91Y2hlc1swXTsKICAgICAgdmFyIGRlbHRhWCA9IHRvdWNoLmNsaWVudFggLSB0aGlzLnRvdWNoRGF0YS5zdGFydFg7CiAgICAgIHZhciBkZWx0YVkgPSB0b3VjaC5jbGllbnRZIC0gdGhpcy50b3VjaERhdGEuc3RhcnRZOwogICAgICB2YXIgdGFyZ2V0ID0gewogICAgICAgIGRlbHRhWDogZGVsdGFYLAogICAgICAgIGRlbHRhWTogZGVsdGFZLAogICAgICAgIG9mZnNldFg6IE1hdGguYWJzKGRlbHRhWCksCiAgICAgICAgb2Zmc2V0WTogTWF0aC5hYnMoZGVsdGFZKQogICAgICB9OwogICAgICB0YXJnZXQuZGlyZWN0aW9uID0gdGhpcy50b3VjaERhdGEuZGlyZWN0aW9uIHx8IGdldERpcmVjdGlvbih0YXJnZXQub2Zmc2V0WCwgdGFyZ2V0Lm9mZnNldFkpOwoKICAgICAgaWYgKHRhcmdldC5kaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJykgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKCiAgICAgICAgaWYgKCFsb29wICYmIChhY3RpdmVJbmRleCA9PT0gMCAmJiBkZWx0YVggPiAwIHx8IGFjdGl2ZUluZGV4ID09PSBjb3VudCAtIDEgJiYgZGVsdGFYIDwgMCkpIHsKICAgICAgICAgIHRoaXMuc3dpcGluZyA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgZGVsdGEgPSAoZGVsdGFYIC0gY2FsY1dpZHRoICogdGhpcy5hY3RpdmVJbmRleCkgLyBjYWxjV2lkdGggKiAxMDA7CiAgICAgICAgICB0aGlzLmRhdGEuc2V0KCdkZWx0YScsICIiLmNvbmNhdChkZWx0YSwgIiUiKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBPYmplY3QuYXNzaWduKHRoaXMudG91Y2hEYXRhLCB0YXJnZXQpOwogICAgfQogIH0sIHsKICAgIGtleTogImhhbmRsZVRvdWNoRW5kIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVUb3VjaEVuZCgpIHsKICAgICAgaWYgKCF0aGlzLnRvdWNoYWJsZSB8fCAhdGhpcy5zd2lwaW5nKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy50b3VjaERhdGEuZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcpIHsKICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmFjdGl2ZUluZGV4OwogICAgICAgIHZhciBzcGVlZFRocmVzaG9sZCA9IHRoaXMuZGF0YS5nZXQoJ3NwZWVkVGhyZXNob2xkJyk7CiAgICAgICAgdmFyIHNwZWVkID0gdGhpcy50b3VjaERhdGEub2Zmc2V0WCAvICgrbmV3IERhdGUoKSAtIHRoaXMudG91Y2hEYXRhLnN0YXJ0VGltZSk7CgogICAgICAgIGlmICh0aGlzLnRvdWNoRGF0YS5vZmZzZXRYID49IGNhbGNXaWR0aCAvIDUgfHwgc3BlZWQgPj0gc3BlZWRUaHJlc2hvbGQpIHsKICAgICAgICAgIHRoaXMudG91Y2hEYXRhLmRlbHRhWCA+IDAgPyAtLWluZGV4IDogKytpbmRleDsKICAgICAgICB9CgogICAgICAgIHRoaXMubW92ZVRvKGluZGV4KTsKICAgICAgfQoKICAgICAgdGhpcy5zd2lwaW5nID0gZmFsc2U7CiAgICAgIHRoaXMuYXV0b3BsYXkoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtb3ZlVG8iLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1vdmVUbyhpbmRleCkgewogICAgICB2YXIgaW1tZWRpYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICAgICAgdmFyIGRlbHRhID0gLWluZGV4ICogMTAwOwogICAgICB0aGlzLmRhdGEuc2V0KCdhbmltYXRpbmcnLCAhaW1tZWRpYXRlKTsKICAgICAgdGhpcy5kYXRhLnNldCgnYWN0aXZlSW5kZXgnLCBpbmRleCk7CiAgICAgIHRoaXMuZGF0YS5zZXQoJ2RlbHRhJywgZGVsdGEgPyAiIi5jb25jYXQoZGVsdGEsICIlIikgOiAnMCcpOwoKICAgICAgdmFyIF90aGlzJGRhdGEkZ2V0MyA9IHRoaXMuZGF0YS5nZXQoKSwKICAgICAgICAgIGNvdW50ID0gX3RoaXMkZGF0YSRnZXQzLmNvdW50LAogICAgICAgICAgY3VySW5kZXggPSBfdGhpcyRkYXRhJGdldDMuY3VySW5kZXg7CgogICAgICBpZiAoaW5kZXggIT09IGN1ckluZGV4KSB7CiAgICAgICAgaWYgKGluZGV4ID4gY291bnQgLSAxKSB7CiAgICAgICAgICBpbmRleCA9IDA7CiAgICAgICAgfQoKICAgICAgICBpZiAoaW5kZXggPCAwKSB7CiAgICAgICAgICBpbmRleCA9IGNvdW50IC0gMTsKICAgICAgICB9CgogICAgICAgIHRoaXMuZmlyZSgnY2hhbmdlJywgewogICAgICAgICAgZnJvbTogY3VySW5kZXgsCiAgICAgICAgICB0bzogaW5kZXgKICAgICAgICB9KTsKICAgICAgICB0aGlzLmRhdGEuc2V0KCdjdXJJbmRleCcsIGluZGV4KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImF1dG9wbGF5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhdXRvcGxheSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBfdGhpcyRkYXRhJGdldDQgPSB0aGlzLmRhdGEuZ2V0KCksCiAgICAgICAgICBhdXRvcGxheSA9IF90aGlzJGRhdGEkZ2V0NC5hdXRvcGxheSwKICAgICAgICAgIGRlbGF5ID0gX3RoaXMkZGF0YSRnZXQ0LmRlbGF5LAogICAgICAgICAgbG9vcCA9IF90aGlzJGRhdGEkZ2V0NC5sb29wOwoKICAgICAgaWYgKCFhdXRvcGxheSB8fCAhbG9vcCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5zdG9wQXV0b3BsYXkoKTsKICAgICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5tb3ZlVG8oX3RoaXMuYWN0aXZlSW5kZXggKyAxKTsKICAgICAgfSwgZGVsYXkpOwogICAgfQogIH0sIHsKICAgIGtleTogInN0b3BBdXRvcGxheSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcEF1dG9wbGF5KCkgewogICAgICB0aGlzLmludGVydmFsICYmIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVzZXRUb3VjaERhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0VG91Y2hEYXRhKCkgewogICAgICB0aGlzLnRvdWNoRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIGluaXRUb3VjaERhdGEpOwogICAgfQogIH0sIHsKICAgIGtleTogImZpeEluZGV4IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmaXhJbmRleCgpIHsKICAgICAgdmFyIF90aGlzJGRhdGEkZ2V0NSA9IHRoaXMuZGF0YS5nZXQoKSwKICAgICAgICAgIGNvdW50ID0gX3RoaXMkZGF0YSRnZXQ1LmNvdW50LAogICAgICAgICAgYWN0aXZlSW5kZXggPSBfdGhpcyRkYXRhJGdldDUuYWN0aXZlSW5kZXg7CgogICAgICBpZiAoYWN0aXZlSW5kZXggPj0gY291bnQpIHsKICAgICAgICBhY3RpdmVJbmRleCA9IDA7CiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlSW5kZXggPD0gLTEpIHsKICAgICAgICBhY3RpdmVJbmRleCA9IGNvdW50IC0gMTsKICAgICAgfQoKICAgICAgdGhpcy5kYXRhLnNldCgnYW5pbWF0aW5nJywgZmFsc2UpOwogICAgICB0aGlzLm1vdmVUbyhhY3RpdmVJbmRleCwgdHJ1ZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWN0aXZlSW5kZXgiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0KCdhY3RpdmVJbmRleCcpOwogICAgfQogIH0sIHsKICAgIGtleTogInRvdWNoYWJsZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXQoJ3RvdWNoYWJsZScpOwogICAgfQogIH1dKTsKICByZXR1cm4gQ2Fyb3VzZWw7Cn0oX3Nhbi5Db21wb25lbnQpOwoKZXhwb3J0cy5kZWZhdWx0ID0gQ2Fyb3VzZWw7CigwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKENhcm91c2VsLCAidGVtcGxhdGUiLAovKmh0bWwqLwoiXG4gICAgICAgIDxkaXYgcy1yZWY9XCJjYXJvdXNlbFwiXG4gICAgICAgICAgICBjbGFzcz1cIiIuY29uY2F0KHByZWZpeENscywgIi13cmFwXCJcbiAgICAgICAgICAgIHN0eWxlPVwie3t3cmFwU3R5bGV9fVwiXG4gICAgICAgICAgICBvbi10b3VjaHN0YXJ0PVwiaGFuZGxlVG91Y2hTdGFydFwiXG4gICAgICAgICAgICBvbi10b3VjaG1vdmU9XCJoYW5kbGVUb3VjaE1vdmVcIlxuICAgICAgICAgICAgb24tdG91Y2hlbmQ9XCJoYW5kbGVUb3VjaEVuZFwiXG4gICAgICAgID5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzcz1cInt7Y2FsY0NsYXNzfX1cIlxuICAgICAgICAgICAgICAgIHN0eWxlPVwie3tjYWxjU3R5bGV9fVwiXG4gICAgICAgICAgICAgICAgb24tdHJhbnNpdGlvbmVuZD1cImZpeEluZGV4XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHMtZm9yPVwiaXRlbSwgaW5kZXggaW4gbGlzdERhdGFcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIiIpLmNvbmNhdChwcmVmaXhDbHMsICItaXRlbVwiXG4gICAgICAgICAgICAgICAgICAgIG9uLWNsaWNrPVwiaGFuZGxlSXRlbUNsaWNrKGl0ZW0sIGluZGV4KVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8cy1pbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cImZ1bGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsPVwie3tpdGVtLmltZ1NyY319XCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHNsb3QgbmFtZT1cImluZm9cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwie3tpbmZvQ2xhc3N9fVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHMtaWY9XCJ0aXRsZVwiIGNsYXNzPVwiIikuY29uY2F0KHByZWZpeENscywgIi1tYXNrXCIvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHMtaWY9XCJ0aXRsZVwiIGNsYXNzPVwiIikuY29uY2F0KHByZWZpeENscywgIi10aXRsZVwiPnt7dGl0bGV9fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8cy1pbmRpY2F0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgIHMtaWY9XCJzaG93SW5kaWNhdG9yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4PVwie3tjdXJJbmRleH19XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50PVwie3tjb3VudH19XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ7e2luZGljYXRvclR5cGV9fVwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L3Nsb3Q+XG4gICAgICAgIDwvZGl2PlxuICAgICIpKTsKKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkoQ2Fyb3VzZWwsICJjb21wb25lbnRzIiwgewogICdzLWltYWdlJzogX2ltYWdlLmRlZmF1bHQsCiAgJ3MtaW5kaWNhdG9yJzogX2luZGljYXRvci5kZWZhdWx0Cn0pOwooMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShDYXJvdXNlbCwgImRhdGFUeXBlcyIsIHsKICBhY3RpdmVJbmRleDogX3Nhbi5EYXRhVHlwZXMubnVtYmVyLAogIGN1ckluZGV4OiBfc2FuLkRhdGFUeXBlcy5udW1iZXIsCiAgYW5pbWF0aW5nOiBfc2FuLkRhdGFUeXBlcy5ib29sLAogIGF1dG9wbGF5OiBfc2FuLkRhdGFUeXBlcy5ib29sLAogIGRlbGF5OiBfc2FuLkRhdGFUeXBlcy5udW1iZXIsCiAgZGVsdGE6IF9zYW4uRGF0YVR5cGVzLnN0cmluZywKICBoZWlnaHQ6IF9zYW4uRGF0YVR5cGVzLm51bWJlciwKICBpbmRpY2F0b3JUeXBlOiBfc2FuLkRhdGFUeXBlcy5vbmVPZihbJ2RvdCcsICdudW0nXSksCiAgaW5kaWNhdG9yUGxhY2VtZW50OiBfc2FuLkRhdGFUeXBlcy5vbmVPZihbJ2xlZnQnLCAnY2VudGVyJywgJ3JpZ2h0J10pLAogIGxpc3Q6IF9zYW4uRGF0YVR5cGVzLmFycmF5LAogIGxvb3A6IF9zYW4uRGF0YVR5cGVzLmJvb2wsCiAgc2hvd0luZGljYXRvcjogX3Nhbi5EYXRhVHlwZXMuYm9vbCwKICBzcGVlZFRocmVzaG9sZDogX3Nhbi5EYXRhVHlwZXMubnVtYmVyLAogIHRvdWNoYWJsZTogX3Nhbi5EYXRhVHlwZXMuYm9vbCwKICB0aXRsZTogX3Nhbi5EYXRhVHlwZXMuc3RyaW5nCn0pOwooMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShDYXJvdXNlbCwgImNvbXB1dGVkIiwgewogIHdyYXBTdHlsZTogZnVuY3Rpb24gd3JhcFN0eWxlKCkgewogICAgdmFyIGhlaWdodCA9IHRoaXMuZGF0YS5nZXQoJ2hlaWdodCcpOwogICAgcmV0dXJuICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHt9LCAncGFkZGluZy10b3AnLCBoZWlnaHQgPiAwICYmICIiLmNvbmNhdChoZWlnaHQgLyAxMi40MiwgIiUiKSk7CiAgfSwKICBjYWxjU3R5bGU6IGZ1bmN0aW9uIGNhbGNTdHlsZSgpIHsKICAgIHZhciBfcmVmMjsKCiAgICB2YXIgZGVsdGEgPSB0aGlzLmRhdGEuZ2V0KCdkZWx0YScpOwogICAgdmFyIHRyYW5zZm9ybSA9ICJ0cmFuc2xhdGVYKCIuY29uY2F0KGRlbHRhLCAiKSBzY2FsZSgxKSIpOwogICAgcmV0dXJuIF9yZWYyID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKF9yZWYyLCAnLXdlYmtpdC10cmFuc2Zvcm0nLCB0cmFuc2Zvcm0pLCAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShfcmVmMiwgJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSksIF9yZWYyOwogIH0sCiAgY2FsY0NsYXNzOiBmdW5jdGlvbiBjYWxjQ2xhc3MoKSB7CiAgICB2YXIgYW5pbWF0aW5nID0gdGhpcy5kYXRhLmdldCgnYW5pbWF0aW5nJyk7CiAgICB2YXIgbG9vcCA9IHRoaXMuZGF0YS5nZXQoJ2xvb3AnKTsKICAgIHJldHVybiBbcHJlZml4Q2xzLCBhbmltYXRpbmcgJiYgIiIuY29uY2F0KHByZWZpeENscywgIi1hbmltYXRlIiksIGxvb3AgJiYgIiIuY29uY2F0KHByZWZpeENscywgIi1sb29wIildLmZpbHRlcihmdW5jdGlvbiAoYykgewogICAgICByZXR1cm4gYzsKICAgIH0pOwogIH0sCiAgaW5mb0NsYXNzOiBmdW5jdGlvbiBpbmZvQ2xhc3MoKSB7CiAgICB2YXIgdGl0bGUgPSB0aGlzLmRhdGEuZ2V0KCd0aXRsZScpOwogICAgdmFyIHBsYWNlbWVudCA9IHRoaXMuZGF0YS5nZXQoJ2luZGljYXRvclBsYWNlbWVudCcpOwogICAgcmV0dXJuIFsiIi5jb25jYXQocHJlZml4Q2xzLCAiLWluZm8iKSwgISF0aXRsZSAmJiAiIi5jb25jYXQocHJlZml4Q2xzLCAiLXdpdGgtdGl0bGUiKSwgIXRpdGxlICYmIHBsYWNlbWVudCAmJiAiYWxpZ24tIi5jb25jYXQocGxhY2VtZW50KV0uZmlsdGVyKGZ1bmN0aW9uIChjKSB7CiAgICAgIHJldHVybiBjOwogICAgfSk7CiAgfSwKICBjb3VudDogZnVuY3Rpb24gY291bnQoKSB7CiAgICByZXR1cm4gdGhpcy5kYXRhLmdldCgnbGlzdC5sZW5ndGgnKSB8fCAwOwogIH0sCiAgbGlzdERhdGE6IGZ1bmN0aW9uIGxpc3REYXRhKCkgewogICAgdmFyIGxpc3QgPSB0aGlzLmRhdGEuZ2V0KCdsaXN0JykgfHwgW107CiAgICB2YXIgbG9vcCA9IHRoaXMuZGF0YS5nZXQoJ2xvb3AnKTsKICAgIHJldHVybiBsaXN0Lmxlbmd0aCAmJiBsb29wID8gW2xpc3RbbGlzdC5sZW5ndGggLSAxXV0uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkyLmRlZmF1bHQpKGxpc3QpLCBbbGlzdFswXV0pIDogbGlzdDsKICB9Cn0pOwoKaWYgKG1vZHVsZS5ob3QpIHsKICB2YXIgX19IT1RfQVBJX18gPSByZXF1aXJlKCcvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9zYW4taG90LWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnQtY2xpZW50LWFwaS5qcycpOwoKICB2YXIgX19IT1RfVVRJTFNfXyA9IHJlcXVpcmUoJy9Vc2Vycy9saWFvaHVhbnl1L3Byb2plY3RzL2JhaWR1LXdvcmsvYmFpZHUvZmVlZDMvbXVsdGktcGFnZXMvbm9kZV9tb2R1bGVzL3Nhbi1ob3QtbG9hZGVyL2xpYi9ydW50aW1lL3V0aWxzLmpzJyk7CgogIHZhciBfX1NBTl9DT01QT05FTlRfXyA9IF9fSE9UX1VUSUxTX18uZ2V0RXhwb3J0cyhtb2R1bGUpOwoKICBpZiAoX19TQU5fQ09NUE9ORU5UX18udGVtcGxhdGUgfHwgX19TQU5fQ09NUE9ORU5UX18ucHJvdG90eXBlLnRlbXBsYXRlKSB7CiAgICBtb2R1bGUuaG90LmFjY2VwdCgpOwoKICAgIF9fSE9UX0FQSV9fLmluc3RhbGwocmVxdWlyZSgnc2FuJykpOwoKICAgIHZhciBfX0hNUl9JRF9fID0gJzdmMGZiMjdlJzsKCiAgICBpZiAoIW1vZHVsZS5ob3QuZGF0YSkgewogICAgICBfX0hPVF9BUElfXy5jcmVhdGVSZWNvcmQoX19ITVJfSURfXywgX19TQU5fQ09NUE9ORU5UX18pOwogICAgfSBlbHNlIHsKICAgICAgX19IT1RfQVBJX18uaG90UmVsb2FkKF9fSE1SX0lEX18sIF9fU0FOX0NPTVBPTkVOVF9fKTsKICAgIH0KICB9Cn0="},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/nano/es/carousel/index.js"],"names":["prefixCls","initTouchData","startX","startY","deltaX","deltaY","offsetX","offsetY","direction","startTime","MIN_DISTANCE","getDirection","x","y","calcWidth","Math","min","window","innerWidth","Carousel","activeIndex","curIndex","animating","autoplay","delay","delta","height","list","loop","showIndicator","speedThreshold","touchable","title","data","get","set","stopAutoplay","item","index","listData","fire","length","e","changedTouches","resetTouchData","swiping","fixIndex","touch","touches","Object","assign","touchData","clientX","clientY","Date","count","target","abs","preventDefault","speed","moveTo","immediate","from","to","interval","setInterval","clearInterval","Component","Image","Indicator","DataTypes","number","bool","string","indicatorType","oneOf","indicatorPlacement","array","wrapStyle","calcStyle","transform","calcClass","filter","c","infoClass","placement","module","hot","__HOT_API__","require","__HOT_UTILS__","__SAN_COMPONENT__","getExports","template","prototype","accept","install","__HMR_ID__","createRecord","hotReload"],"mappings":"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","sourcesContent":["/**\n * @file 组件 carousel 轮播图\n * @author baozhixin <baozhixin@baidu.com>\n * @see http://soy.baidu-int.com/component/Carousel\n */\n\nimport './style/index.less';\nimport {Component, DataTypes} from 'san';\nimport Image from '../image';\nimport Indicator from './indicator';\n\nconst prefixCls = 's-carousel';\nconst initTouchData = {\n    startX: 0,\n    startY: 0,\n    deltaX: 0,\n    deltaY: 0,\n    offsetX: 0,\n    offsetY: 0,\n    direction: '',\n    startTime: 0\n};\nconst MIN_DISTANCE = 10;\nfunction getDirection(x, y) {\n    if (x > y && x > MIN_DISTANCE) {\n        return 'horizontal';\n    }\n    if (y > x && y > MIN_DISTANCE) {\n        return 'vertical';\n    }\n    return '';\n}\nconst calcWidth = Math.min(window.innerWidth, 750);\n// const halfWidth = calcWidth / 2;\n\nexport default class Carousel extends Component {\n    // eslint-disable-next-line\n    static template = /*html*/ `\n        <div s-ref=\"carousel\"\n            class=\"${prefixCls}-wrap\"\n            style=\"{{wrapStyle}}\"\n            on-touchstart=\"handleTouchStart\"\n            on-touchmove=\"handleTouchMove\"\n            on-touchend=\"handleTouchEnd\"\n        >\n            <div\n                class=\"{{calcClass}}\"\n                style=\"{{calcStyle}}\"\n                on-transitionend=\"fixIndex\"\n            >\n                <div\n                    s-for=\"item, index in listData\"\n                    class=\"${prefixCls}-item\"\n                    on-click=\"handleItemClick(item, index)\"\n                >\n                    <s-image\n                        size=\"full\"\n                        url=\"{{item.imgSrc}}\"\n                    />\n                </div>\n            </div>\n            <slot name=\"info\">\n                <div class=\"{{infoClass}}\">\n                    <div s-if=\"title\" class=\"${prefixCls}-mask\"/>\n                    <div s-if=\"title\" class=\"${prefixCls}-title\">{{title}}</div>\n                    <s-indicator\n                        s-if=\"showIndicator\"\n                        index=\"{{curIndex}}\"\n                        count=\"{{count}}\"\n                        type=\"{{indicatorType}}\"\n                    />\n                </div>\n            </slot>\n        </div>\n    `;\n\n    static components = {\n        's-image': Image,\n        's-indicator': Indicator\n    };\n\n    static dataTypes = {\n        activeIndex: DataTypes.number,\n        curIndex: DataTypes.number,\n        animating: DataTypes.bool,\n        autoplay: DataTypes.bool,\n        delay: DataTypes.number,\n        delta: DataTypes.string,\n        height: DataTypes.number,\n        indicatorType: DataTypes.oneOf(['dot', 'num']),\n        indicatorPlacement: DataTypes.oneOf(['left', 'center', 'right']),\n        list: DataTypes.array,\n        loop: DataTypes.bool,\n        showIndicator: DataTypes.bool,\n        speedThreshold: DataTypes.number,\n        touchable: DataTypes.bool,\n        title: DataTypes.string\n    };\n\n    static computed = {\n        wrapStyle() {\n            const height = this.data.get('height');\n            return {\n                ['padding-top']: height > 0 && `${height / 12.42}%`\n            };\n        },\n\n        calcStyle() {\n            const delta = this.data.get('delta');\n            const transform = `translateX(${delta}) scale(1)`;\n            return {\n                ['-webkit-transform']: transform,\n                ['transform']: transform\n            };\n        },\n\n        calcClass() {\n            const animating = this.data.get('animating');\n            const loop = this.data.get('loop');\n            return [\n                prefixCls,\n                animating && `${prefixCls}-animate`,\n                loop && `${prefixCls}-loop`\n            ].filter(c => c);\n        },\n\n        infoClass() {\n            const title = this.data.get('title');\n            const placement = this.data.get('indicatorPlacement');\n            return [\n                `${prefixCls}-info`,\n                !!title && `${prefixCls}-with-title`,\n                (!title && placement) && `align-${placement}`\n            ].filter(c => c);\n        },\n\n        count() {\n            return this.data.get('list.length') || 0;\n        },\n\n        listData() {\n            const list = this.data.get('list') || [];\n            const loop = this.data.get('loop');\n            return list.length && loop ? [list[list.length - 1], ...list, list[0]] : list;\n        }\n    };\n\n    initData() {\n        return {\n            activeIndex: 0, // loop为true时：-1 ~ list.length\n            curIndex: 0,\n            animating: false,\n            autoplay: true,\n            delay: 3000,\n            delta: '0',\n            height: 0,\n            list: [],\n            loop: true,\n            showIndicator: true,\n            speedThreshold: 0.25,\n            touchable: true,\n            title: ''\n        };\n    }\n\n    get activeIndex() {\n        return this.data.get('activeIndex');\n    }\n\n    get touchable() {\n        return this.data.get('touchable');\n    }\n\n    inited() {\n        if (this.data.get('count') < 2) {\n            this.data.set('touchable', false);\n            this.data.set('loop', false);\n        }\n    }\n\n    attached() {\n        this.autoplay();\n    }\n\n    disposed() {\n        this.stopAutoplay();\n    }\n\n    handleItemClick(item, index) {\n        const {list, listData} = this.data.get()\n        this.fire('item-click', {\n            item,\n            index: list.length === listData.length ? index : index - 1,\n        });\n    }\n\n    handleTouchStart(e) {\n        if (!this.touchable || e.changedTouches.length > 1) {\n            return;\n        }\n        this.stopAutoplay();\n        this.resetTouchData();\n        this.swiping = true;\n        this.fixIndex();\n        this.data.set('animating', false);\n        const touch = e.touches[0];\n        Object.assign(this.touchData, {\n            startX: touch.clientX,\n            startY: touch.clientY,\n            startTime: +new Date()\n        });\n    }\n\n    handleTouchMove(e) {\n        if (!this.touchable || !this.swiping) {\n            return;\n        }\n        const {activeIndex, loop, count} = this.data.get();\n        const touch = e.touches[0];\n        const deltaX = touch.clientX - this.touchData.startX;\n        const deltaY = touch.clientY - this.touchData.startY;\n        const target = {\n            deltaX,\n            deltaY,\n            offsetX: Math.abs(deltaX),\n            offsetY: Math.abs(deltaY)\n        };\n        target.direction = this.touchData.direction || getDirection(target.offsetX, target.offsetY);\n        if (target.direction === 'horizontal') {\n            e.preventDefault();\n            if (!loop && (activeIndex === 0 && deltaX > 0 || (activeIndex === count - 1) && deltaX < 0)) {\n                this.swiping = false;\n            }\n            else {\n                let delta = (deltaX - calcWidth * this.activeIndex) / calcWidth * 100;\n                this.data.set('delta', `${delta}%`);\n            }\n        }\n        Object.assign(this.touchData, target);\n    }\n\n    handleTouchEnd() {\n        if (!this.touchable || !this.swiping) {\n            return;\n        }\n        if (this.touchData.direction === 'horizontal') {\n            let index = this.activeIndex;\n            let speedThreshold = this.data.get('speedThreshold');\n            let speed = this.touchData.offsetX / (+new Date() - this.touchData.startTime);\n            if (this.touchData.offsetX >= calcWidth / 5 || speed >= speedThreshold) {\n                this.touchData.deltaX > 0 ? --index : ++index;\n            }\n            this.moveTo(index);\n        }\n        this.swiping = false;\n        this.autoplay();\n    }\n\n    moveTo(index, immediate = false) {\n        let delta = -index * 100;\n        this.data.set('animating', !immediate);\n        this.data.set('activeIndex', index);\n        this.data.set('delta', delta ? `${delta}%` : '0');\n\n        const {count, curIndex} = this.data.get();\n        if (index !== curIndex) {\n            if (index > count - 1) {\n                index = 0;\n            }\n            if (index < 0) {\n                index = count - 1;\n            }\n            this.fire('change', {from: curIndex, to: index});\n            this.data.set('curIndex', index);\n        }\n    }\n\n    autoplay() {\n        const {autoplay, delay, loop} = this.data.get();\n        if (!autoplay || !loop) {\n            return;\n        }\n        this.stopAutoplay();\n        this.interval = setInterval(() => {\n            this.moveTo(this.activeIndex + 1);\n        }, delay);\n    }\n\n    stopAutoplay() {\n        this.interval && clearInterval(this.interval);\n    }\n\n    resetTouchData() {\n        this.touchData = Object.assign({}, initTouchData);\n    }\n\n    fixIndex() {\n        let {count, activeIndex} = this.data.get();\n        if (activeIndex >= count) {\n            activeIndex = 0;\n        }\n        else if (activeIndex <= -1) {\n            activeIndex = count - 1;\n        }\n        this.data.set('animating', false);\n        this.moveTo(activeIndex, true);\n    }\n}\n"]}]}