{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-player-mini/plugins/Play.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-player-mini/plugins/Play.js","mtime":1696919504666},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpKTsKCnZhciBfY3JlYXRlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIikpOwoKdmFyIFBsYXkgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFBsYXkoYXBpLCBwbHVnaW5PcHRpb25zKSB7CiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMi5kZWZhdWx0KSh0aGlzLCBQbGF5KTsKICAgIHRoaXMuYXBpID0gYXBpOwogICAgdGhpcy5wbHVnaW5PcHRpb25zID0gcGx1Z2luT3B0aW9uczsKICB9CiAgLyoqCiAgICog5pKt5pS+ewogICAqIHJ1buS4uuacrOaPkuS7tuWvueW6lOeahOaWueazleWunumZheaJp+ihjOeahOWHveaVsAogICAqLwoKCiAgKDAsIF9jcmVhdGVDbGFzczIuZGVmYXVsdCkoUGxheSwgW3sKICAgIGtleTogInJ1biIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcnVuKCkgewogICAgICBpZiAodGhpcy5hcGkuZ2V0TW9kZSgpID09PSAnbmEnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubmFSdW4oKTsKICAgICAgfQoKICAgICAgdGhpcy5oNVJ1bigpOwogICAgfQogIH0sIHsKICAgIGtleTogImg1UnVuIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoNVJ1bigpIHsKICAgICAgdmFyIHZpZGVvID0gdGhpcy5hcGkuZ2V0VmlkZW9JbnN0YW5jZSgpOwogICAgICByZXR1cm4gdmlkZW8gJiYgdmlkZW8ucGxheSgpOwogICAgfQogIH0sIHsKICAgIGtleTogIm5hUnVuIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBuYVJ1bigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBfdGhpcyRhcGkkZ2V0Qm94VG9vbHMgPSB0aGlzLmFwaS5nZXRCb3hUb29scygpLAogICAgICAgICAgaXNJT1MgPSBfdGhpcyRhcGkkZ2V0Qm94VG9vbHMuaXNJT1MsCiAgICAgICAgICBpc0FuZHJvaWQgPSBfdGhpcyRhcGkkZ2V0Qm94VG9vbHMuaXNBbmRyb2lkLAogICAgICAgICAgaW52b2tlUCA9IF90aGlzJGFwaSRnZXRCb3hUb29scy5pbnZva2VQOwoKICAgICAgaWYgKGlzSU9TKCkpIHsKICAgICAgICB2YXIgY29udGFpbmVySWQgPSB0aGlzLmFwaS5nZXRQbGF5ZXJPcHRpb24oJ2NvbnRhaW5lcklkJyk7CiAgICAgICAgdmFyIHBsYXllciA9IHRoaXMuYXBpLmdldFBsYXllckluc3RhbmNlKCk7CiAgICAgICAgdmFyIHBhdXNlZCA9IHBsYXllci5wYXVzZWQ7CiAgICAgICAgaW52b2tlUCgndmlkZW8vc2xyUGxheVBsYXllcicsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBjb250YWluZXJJZDogY29udGFpbmVySWQKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIOS4u+imgeino+WGszEyLjEz5LmL5YmN55qE54mI5pys5pqC5YGc5ZCOcGxheeS6i+S7tueahOinpuWPkQogICAgICAgICAgaWYgKHBhdXNlZCAmJiBfdGhpcy5hcGkuZ2V0UGxheWVyQ29udHJvbGxlcigncGxheWVyS2VybmVsSW5pdCcpKSB7CiAgICAgICAgICAgIF90aGlzLmFwaS5lbWl0KCdwbGF5Jyk7CgogICAgICAgICAgICBfdGhpcy5hcGkuc2V0UGxheWVyT3B0aW9uKCdwYXVzZWQnLCBmYWxzZSk7CgogICAgICAgICAgICBfdGhpcy5hcGkuZW1pdCgncGxheWluZycpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGlzQW5kcm9pZCgpKSB7CiAgICAgICAgdGhpcy5oNVJ1bigpOwogICAgICB9CiAgICB9CiAgfV0pOwogIHJldHVybiBQbGF5Owp9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBQbGF5Ow=="},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/xbox-player-mini/plugins/Play.js"],"names":["Play","api","pluginOptions","getMode","naRun","h5Run","video","getVideoInstance","play","getBoxTools","isIOS","isAndroid","invokeP","containerId","getPlayerOption","player","getPlayerInstance","paused","params","then","getPlayerController","emit","setPlayerOption"],"mappings":";;;;;;;;;;;;;IAAqBA,I;AACjB,gBAAYC,GAAZ,EAAiBC,aAAjB,EAAgC;AAAA;AAC5B,SAAKD,GAAL,GAAWA,GAAX;AACA,SAAKC,aAAL,GAAqBA,aAArB;AACH;AACD;AACJ;AACA;AACA;;;;;0BACU;AACF,UAAI,KAAKD,GAAL,CAASE,OAAT,OAAuB,IAA3B,EAAiC;AAC7B,eAAO,KAAKC,KAAL,EAAP;AACH;;AACD,WAAKC,KAAL;AACH;;;4BACO;AACJ,UAAIC,KAAK,GAAG,KAAKL,GAAL,CAASM,gBAAT,EAAZ;AACA,aAAOD,KAAK,IAAIA,KAAK,CAACE,IAAN,EAAhB;AACH;;;4BACO;AAAA;;AAAA,kCACgC,KAAKP,GAAL,CAASQ,WAAT,EADhC;AAAA,UACGC,KADH,yBACGA,KADH;AAAA,UACUC,SADV,yBACUA,SADV;AAAA,UACqBC,OADrB,yBACqBA,OADrB;;AAEJ,UAAIF,KAAK,EAAT,EAAa;AACT,YAAMG,WAAW,GAAG,KAAKZ,GAAL,CAASa,eAAT,CAAyB,aAAzB,CAApB;AACA,YAAMC,MAAM,GAAG,KAAKd,GAAL,CAASe,iBAAT,EAAf;AACA,YAAMC,MAAM,GAAGF,MAAM,CAACE,MAAtB;AACAL,QAAAA,OAAO,CAAC,qBAAD,EAAwB;AAACM,UAAAA,MAAM,EAAE;AAACL,YAAAA,WAAW,EAAXA;AAAD;AAAT,SAAxB,CAAP,CACKM,IADL,CACU,YAAM;AACR;AACA,cAAIF,MAAM,IAAI,KAAI,CAAChB,GAAL,CAASmB,mBAAT,CAA6B,kBAA7B,CAAd,EAAgE;AAC5D,YAAA,KAAI,CAACnB,GAAL,CAASoB,IAAT,CAAc,MAAd;;AACA,YAAA,KAAI,CAACpB,GAAL,CAASqB,eAAT,CAAyB,QAAzB,EAAmC,KAAnC;;AACA,YAAA,KAAI,CAACrB,GAAL,CAASoB,IAAT,CAAc,SAAd;AACH;AACJ,SARL;AASH,OAbD,MAcK,IAAIV,SAAS,EAAb,EAAiB;AAClB,aAAKN,KAAL;AACH;AACJ","sourcesContent":["export default class Play {\n    constructor(api, pluginOptions) {\n        this.api = api;\n        this.pluginOptions = pluginOptions;\n    }\n    /**\n     * 播放{\n     * run为本插件对应的方法实际执行的函数\n     */\n    run() {\n        if (this.api.getMode() === 'na') {\n            return this.naRun();\n        }\n        this.h5Run();\n    }\n    h5Run() {\n        let video = this.api.getVideoInstance();\n        return video && video.play();\n    }\n    naRun() {\n        const {isIOS, isAndroid, invokeP} = this.api.getBoxTools();\n        if (isIOS()) {\n            const containerId = this.api.getPlayerOption('containerId');\n            const player = this.api.getPlayerInstance();\n            const paused = player.paused;\n            invokeP('video/slrPlayPlayer', {params: {containerId}})\n                .then(() => {\n                    // 主要解决12.13之前的版本暂停后play事件的触发\n                    if (paused && this.api.getPlayerController('playerKernelInit')) {\n                        this.api.emit('play');\n                        this.api.setPlayerOption('paused', false);\n                        this.api.emit('playing');\n                    }\n                });\n        }\n        else if (isAndroid()) {\n            this.h5Run();\n        }\n    }\n}\n"]}]}