{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/kangyi/index.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/kangyi/index.js","mtime":1695633995750},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2giKTsKCnZhciBfQXBwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL2xpYi9BcHAiKSk7Cgp2YXIgX2FwcCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9jb250YWluZXJzL2FwcC5qcyIpKTsKCnZhciBfc3RvcmUgPSByZXF1aXJlKCIuL3N0b3JlIik7Cgp2YXIgX1N0b3JlID0gcmVxdWlyZSgiQC9saWIvU3RvcmUiKTsKCnZhciBfdXRpbHMgPSByZXF1aXJlKCJAL2xpYi91dGlscyIpOwoKdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9jb250YWluZXJzL3Nzci9pbmRleCIpKTsKCnZhciBfc3B5Q2xpZW50ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJzcHktY2xpZW50L2Rpc3Qvc3B5LWNsaWVudC5taW4iKSk7CgovKioKICogQGZpbGUgaW5kZXgKICovCndpbmRvdy5TUCAmJiB3aW5kb3cuU1AubWFyaygnanNMb2FkZWQnKTsKCnZhciBpbml0UGFnZSA9IGZ1bmN0aW9uIGluaXRQYWdlKHNvcnRzRGF0YSkgewogIHZhciBzdG9yZSA9ICgwLCBfc3RvcmUuaW5pdFN0b3JlKShzb3J0c0RhdGEpOwogIHZhciBrZXlNYXAgPSAoMCwgX3V0aWxzLmtleVppcE9iamVjdCkoT2JqZWN0LmtleXMoc3RvcmUucmF3KSk7CgogIF9TdG9yZS5jb25uZWN0LnNhbihrZXlNYXApKF9hcHAuZGVmYXVsdCk7CgogIHZhciBzc3JFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzc3ItY29udGVudCcpOwoKICB2YXIgY2xlYXJTc3JFbCA9IGZ1bmN0aW9uIGNsZWFyU3NyRWwoKSB7CiAgICBpZiAoc3NyRWwpIHsKICAgICAgc3NyRWwucGFyZW50RWxlbWVudCAmJiBzc3JFbC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHNzckVsKTsKICAgIH0KICB9OwoKICB2YXIgcmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkgewogICAgKDAsIF9BcHAuZGVmYXVsdCkoX2FwcC5kZWZhdWx0LCAnI2FwcCcsIHsKICAgICAgZGF0YTogc29ydHNEYXRhLAogICAgICBhcHBlbmQ6IGZhbHNlCiAgICB9KTsKICB9OwoKICB2YXIgZGVncmFkZVJlbmRlciA9IGZ1bmN0aW9uIGRlZ3JhZGVSZW5kZXIoKSB7CiAgICBjbGVhclNzckVsKCk7CiAgICByZW5kZXIoKTsKICB9OwoKICBpZiAoc3NyRWwpIHsKICAgIHRyeSB7CiAgICAgIHZhciBjb20gPSBuZXcgX2luZGV4LmRlZmF1bHQoewogICAgICAgIGVsOiBzc3JFbCwKICAgICAgICBkYXRhOiBzb3J0c0RhdGEKICAgICAgfSk7CiAgICAgIHJlbmRlcigpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICBjb25zb2xlLmVycm9yKCflj43op6PlpLHotKUnKTsKICAgICAgZGVncmFkZVJlbmRlcigpOwogICAgfQogIH0gZWxzZSB7CiAgICBjb25zb2xlLmxvZygn6ZmN57qn5Yqg6L29Jyk7CiAgICBkZWdyYWRlUmVuZGVyKCk7CiAgfQp9OwoKdHJ5IHsKICBpbml0UGFnZSh3aW5kb3cuc29ydHNEYXRhKTsKfSBjYXRjaCAoZXJyKSB7CiAgdmFyIHNweSA9IG5ldyBfc3B5Q2xpZW50LmRlZmF1bHQoewogICAgcGlkOiAnMTBfMTMzJywKICAgIHNhbXBsZTogMQogIH0pOwogIHZhciB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50IHx8ICcnOwogIHNweS5zZW5kRXhjZXB0KHsKICAgIGluZm86IHsKICAgICAgbXNnOiAna2FuZ3lpIGluaXRQYWdlIGVycm9yOicgKyBlcnIubWVzc2FnZSwKICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZgogICAgfSwKICAgIGdyb3VwOiAna2FuZ3lpX3dlYnZpZXdfanNlcnJvcicsCiAgICBkaW06IHsKICAgICAgb3M6IHVhLm1hdGNoKC9pcGhvbmV8aXBvZHxpcGFkL2kpID8gJ2lvcycgOiB1YS5tYXRjaCgvYW5kcm9pZC9pKSA/ICdhbmRyb2lkJyA6ICdvdGhlcicKICAgIH0KICB9KTsKfQ=="},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/kangyi/index.js"],"names":["window","SP","mark","initPage","sortsData","store","keyMap","Object","keys","raw","connect","san","AppComponent","ssrEl","document","getElementById","clearSsrEl","parentElement","removeChild","render","data","append","degradeRender","com","SSRContentComponent","el","e","console","error","log","err","spy","SpyClient","pid","sample","ua","navigator","userAgent","sendExcept","info","msg","message","url","location","href","group","dim","os","match"],"mappings":";;;;;;;;;;AAKA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAVA;AACA;AACA;AAUAA,MAAM,CAACC,EAAP,IAAaD,MAAM,CAACC,EAAP,CAAUC,IAAV,CAAe,UAAf,CAAb;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,SAAD,EAAe;AAC5B,MAAMC,KAAK,GAAG,sBAAUD,SAAV,CAAd;AAEA,MAAME,MAAM,GAAG,yBAAaC,MAAM,CAACC,IAAP,CAAYH,KAAK,CAACI,GAAlB,CAAb,CAAf;;AAEAC,iBAAQC,GAAR,CAAYL,MAAZ,EAAoBM,YAApB;;AAEA,MAAMC,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAd;;AAEA,MAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACrB,QAAIH,KAAJ,EAAW;AACPA,MAAAA,KAAK,CAACI,aAAN,IAAuBJ,KAAK,CAACI,aAAN,CAAoBC,WAApB,CAAgCL,KAAhC,CAAvB;AACH;AACJ,GAJD;;AAMA,MAAMM,MAAM,GAAG,SAATA,MAAS,GAAM;AACjB,sBAAIP,YAAJ,EAAkB,MAAlB,EAA0B;AAACQ,MAAAA,IAAI,EAAEhB,SAAP;AAAkBiB,MAAAA,MAAM,EAAE;AAA1B,KAA1B;AACH,GAFD;;AAIA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACxBN,IAAAA,UAAU;AACVG,IAAAA,MAAM;AACT,GAHD;;AAMA,MAAIN,KAAJ,EAAW;AACP,QAAI;AACA,UAAIU,GAAG,GAAG,IAAIC,cAAJ,CAAwB;AAC9BC,QAAAA,EAAE,EAAEZ,KAD0B;AAE9BO,QAAAA,IAAI,EAAEhB;AAFwB,OAAxB,CAAV;AAIAe,MAAAA,MAAM;AACT,KAND,CAME,OAAOO,CAAP,EAAU;AACRC,MAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACAC,MAAAA,OAAO,CAACC,KAAR,CAAc,MAAd;AACAN,MAAAA,aAAa;AAChB;AACJ,GAZD,MAYO;AACHK,IAAAA,OAAO,CAACE,GAAR,CAAY,MAAZ;AACAP,IAAAA,aAAa;AAChB;AACJ,CAzCD;;AA2CA,IAAI;AACAnB,EAAAA,QAAQ,CAACH,MAAM,CAACI,SAAR,CAAR;AACH,CAFD,CAGA,OAAO0B,GAAP,EAAY;AACR,MAAMC,GAAG,GAAG,IAAIC,kBAAJ,CAAc;AACtBC,IAAAA,GAAG,EAAE,QADiB;AAEtBC,IAAAA,MAAM,EAAE;AAFc,GAAd,CAAZ;AAIA,MAAMC,EAAE,GAAGnC,MAAM,CAACoC,SAAP,CAAiBC,SAAjB,IAA8B,EAAzC;AACAN,EAAAA,GAAG,CAACO,UAAJ,CAAe;AACXC,IAAAA,IAAI,EAAE;AACFC,MAAAA,GAAG,EAAE,2BAA2BV,GAAG,CAACW,OADlC;AAEFC,MAAAA,GAAG,EAAE1C,MAAM,CAAC2C,QAAP,CAAgBC;AAFnB,KADK;AAKXC,IAAAA,KAAK,EAAE,wBALI;AAMXC,IAAAA,GAAG,EAAE;AACDC,MAAAA,EAAE,EAAEZ,EAAE,CAACa,KAAH,CAAS,mBAAT,IAAgC,KAAhC,GAAwCb,EAAE,CAACa,KAAH,CAAS,UAAT,IAAuB,SAAvB,GAAmC;AAD9E;AANM,GAAf;AAUH","sourcesContent":["\n/**\n * @file index\n */\n\nimport app from '@/lib/App';\nimport AppComponent from './containers/app.js';\nimport {initStore} from './store';\nimport {connect} from '@/lib/Store';\nimport {keyZipObject} from '@/lib/utils';\nimport SSRContentComponent from './containers/ssr/index';\nimport SpyClient from 'spy-client/dist/spy-client.min';\n\nwindow.SP && window.SP.mark('jsLoaded');\n\nconst initPage = (sortsData) => {\n    const store = initStore(sortsData);\n\n    const keyMap = keyZipObject(Object.keys(store.raw));\n\n    connect.san(keyMap)(AppComponent);\n\n    const ssrEl = document.getElementById('ssr-content');\n\n    const clearSsrEl = () => {\n        if (ssrEl) {\n            ssrEl.parentElement && ssrEl.parentElement.removeChild(ssrEl);\n        }\n    };\n\n    const render = () => {\n        app(AppComponent, '#app', {data: sortsData, append: false});\n    };\n\n    const degradeRender = () => {\n        clearSsrEl();\n        render();\n    };\n\n\n    if (ssrEl) {\n        try {\n            let com = new SSRContentComponent({\n                el: ssrEl,\n                data: sortsData\n            });\n            render();\n        } catch (e) {\n            console.error(e);\n            console.error('反解失败');\n            degradeRender();\n        }\n    } else {\n        console.log('降级加载');\n        degradeRender();\n    }\n};\n\ntry {\n    initPage(window.sortsData);\n}\ncatch (err) {\n    const spy = new SpyClient({\n        pid: '10_133',\n        sample: 1\n    });\n    const ua = window.navigator.userAgent || '';\n    spy.sendExcept({\n        info: {\n            msg: 'kangyi initPage error:' + err.message,\n            url: window.location.href\n        },\n        group: 'kangyi_webview_jserror',\n        dim: {\n            os: ua.match(/iphone|ipod|ipad/i) ? 'ios' : ua.match(/android/i) ? 'android' : 'other'\n        }\n    });\n}\n"]}]}