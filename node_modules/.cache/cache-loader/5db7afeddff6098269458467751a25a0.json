{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/lib/utils/fontSize.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/lib/utils/fontSize.js","mtime":1695633995641},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiKTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5zdGFydEZvbnRTaXplID0gdm9pZCAwOwoKdmFyIF9ib3h4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAYmFpZHUvYXVjLWJhc2UvYm94eCIpKTsKCnZhciBfaW5kZXggPSByZXF1aXJlKCIuL2luZGV4Iik7Cgp2YXIgY2hhbmdlRm9udFNpemUgPSBmdW5jdGlvbiBjaGFuZ2VGb250U2l6ZSgpIHsKICB2YXIgZm9udERhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogIHZhciBmb250U2l6ZSA9IGZvbnREYXRhLmRhdGEgJiYgZm9udERhdGEuZGF0YS5mb250c2l6ZSB8fCAnZm9udC1zaXplLTEnOwogIHZhciAkcm9vdCA9IGRvY3VtZW50LmJvZHkucGFyZW50RWxlbWVudDsKICB2YXIgbmV3Q2xhc3NOYW1lID0gJHJvb3QuY2xhc3NOYW1lLnJlcGxhY2UoL2ZvbnQtc2l6ZS1bMC0zXXsxfS9nLCAnJyk7CiAgJHJvb3QuY2xhc3NOYW1lID0gbmV3Q2xhc3NOYW1lOwogICRyb290LmNsYXNzTGlzdC5hZGQoZm9udFNpemUpOwp9OwoKdmFyIHN0YXJ0Rm9udFNpemUgPSBmdW5jdGlvbiBzdGFydEZvbnRTaXplKCkgewogIF9ib3h4LmRlZmF1bHQuY2FsbCgnZGV2aWNlLmdldEdsb2JhbFNldHRpbmdzJywgewogICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7CiAgICAgIGNoYW5nZUZvbnRTaXplKGRhdGEpOwogICAgfQogIH0pOwoKICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICgwLCBfaW5kZXguYm94eE9uKSh7CiAgICAgIHBhZ2U6ICd0b3BpYycsCiAgICAgIGFjdGlvbjogJ2dsb2JhbFNldHRpbmdDaGFuZ2UnLAogICAgICBqc2NhbGxiYWNrOiBmdW5jdGlvbiBqc2NhbGxiYWNrKGFjdGlvbiwgZGF0YSkgewogICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpOwogICAgICAgICAgfSBjYXRjaCAoXykge30KICAgICAgICB9CgogICAgICAgIGNoYW5nZUZvbnRTaXplKGRhdGEpOwogICAgICB9CiAgICB9KTsKICB9LCAwKTsKfTsKCmV4cG9ydHMuc3RhcnRGb250U2l6ZSA9IHN0YXJ0Rm9udFNpemU7"},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/lib/utils/fontSize.js"],"names":["changeFontSize","fontData","fontSize","data","fontsize","$root","document","body","parentElement","newClassName","className","replace","classList","add","startFontSize","boxx","call","success","setTimeout","page","action","jscallback","undefined","JSON","parse","_"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AAEA,IAAMA,cAAc,GAAG,SAAjBA,cAAiB,GAAmB;AAAA,MAAlBC,QAAkB,uEAAP,EAAO;AACtC,MAAMC,QAAQ,GAAGD,QAAQ,CAACE,IAAT,IAAiBF,QAAQ,CAACE,IAAT,CAAcC,QAA/B,IAA2C,aAA5D;AACA,MAAMC,KAAK,GAAGC,QAAQ,CAACC,IAAT,CAAcC,aAA5B;AACA,MAAMC,YAAY,GAAGJ,KAAK,CAACK,SAAN,CAAgBC,OAAhB,CAAwB,qBAAxB,EAA+C,EAA/C,CAArB;AACAN,EAAAA,KAAK,CAACK,SAAN,GAAkBD,YAAlB;AACAJ,EAAAA,KAAK,CAACO,SAAN,CAAgBC,GAAhB,CAAoBX,QAApB;AACH,CAND;;AAOO,IAAMY,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC/BC,gBAAKC,IAAL,CAAU,0BAAV,EAAsC;AAClCC,IAAAA,OADkC,mBAC1Bd,IAD0B,EACpB;AACVH,MAAAA,cAAc,CAACG,IAAD,CAAd;AACH;AAHiC,GAAtC;;AAKAe,EAAAA,UAAU,CAAC,YAAM;AACb,uBAAO;AACHC,MAAAA,IAAI,EAAE,OADH;AAEHC,MAAAA,MAAM,EAAE,qBAFL;AAGHC,MAAAA,UAHG,sBAGQD,MAHR,EAGgBjB,IAHhB,EAGsB;AACrB,YAAIA,IAAI,KAAKmB,SAAb,EAAwB;AACpB;AACH;;AACD,YAAI,OAAOnB,IAAP,KAAgB,QAApB,EAA8B;AAC1B,cAAI;AACAA,YAAAA,IAAI,GAAGoB,IAAI,CAACC,KAAL,CAAWrB,IAAX,CAAP;AACH,WAFD,CAGA,OAAOsB,CAAP,EAAU,CAAE;AACf;;AACDzB,QAAAA,cAAc,CAACG,IAAD,CAAd;AACH;AAdE,KAAP;AAgBH,GAjBS,EAiBP,CAjBO,CAAV;AAkBH,CAxBM","sourcesContent":["import boxx from '@baidu/auc-base/boxx';\nimport {boxxOn} from './index';\n\nconst changeFontSize = (fontData = {}) => {\n    const fontSize = fontData.data && fontData.data.fontsize || 'font-size-1';\n    const $root = document.body.parentElement;\n    const newClassName = $root.className.replace(/font-size-[0-3]{1}/g, '');\n    $root.className = newClassName;\n    $root.classList.add(fontSize);\n};\nexport const startFontSize = () => {\n    boxx.call('device.getGlobalSettings', {\n        success(data) {\n            changeFontSize(data);\n        }\n    });\n    setTimeout(() => {\n        boxxOn({\n            page: 'topic',\n            action: 'globalSettingChange',\n            jscallback(action, data) {\n                if (data === undefined) {\n                    return;\n                }\n                if (typeof data === 'string') {\n                    try {\n                        data = JSON.parse(data);\n                    }\n                    catch (_) {}\n                }\n                changeFontSize(data);\n            }\n        });\n    }, 0);\n};"]}]}