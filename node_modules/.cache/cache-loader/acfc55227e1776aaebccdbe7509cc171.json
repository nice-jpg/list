{"remainingRequest":"/Users/a2012/Desktop/list/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/a2012/Desktop/list/node_modules/@baidu/xbox/na/ios/index.js","dependencies":[{"path":"/Users/a2012/Desktop/list/node_modules/@baidu/xbox/na/ios/index.js","mtime":1696919504000},{"path":"/Users/a2012/Desktop/list/node_modules/san-hot-loader/index.js","mtime":1696919525000},{"path":"/Users/a2012/Desktop/list/node_modules/cache-loader/dist/cjs.js","mtime":1696919513000},{"path":"/Users/a2012/Desktop/list/node_modules/babel-loader/lib/index.js","mtime":1696919524000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvYTIwMTIvRGVza3RvcC9saXN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmludm9rZUFwcCA9IGludm9rZUFwcDsKZXhwb3J0cy5wb3N0TXNnSW52b2tlID0gcG9zdE1zZ0ludm9rZTsKZXhwb3J0cy5jb21wb25lbnRJbnZva2UgPSBjb21wb25lbnRJbnZva2U7CmV4cG9ydHMuc3luY0ludm9rZSA9IHN5bmNJbnZva2U7CmV4cG9ydHMuaW52b2tlV2l0aENiID0gaW52b2tlV2l0aENiOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX3R5cGVvZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9hMjAxMi9EZXNrdG9wL2xpc3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mIikpOwoKdmFyIF9zdHJpbmdpZnkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uLy4uL3N0cmluZ2lmeSIpKTsKCnZhciBfaXMgPSByZXF1aXJlKCIuLi8uLi9pcyIpOwoKdmFyIF9nZXRHbG9iYWxGdW5jID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLi8uLi9nZXQtZ2xvYmFsLWZ1bmMiKSk7Cgp2YXIgX2dldE1hdHJpeFNjaGVtYSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vLi4vZ2V0LW1hdHJpeC1zY2hlbWEiKSk7CgovKioKICogQGZpbGUgaW9zIHNlaGVtZSBpbnZva2UKICogQG1vZHVsZSBpb3MKICovCgovKioKICog5Lu75oSPIHNjaGVtZSDosIPotbfvvIzkuI3moKHpqoxiYWlkdWJveGFwcDovLwogKiBAZnVuY3Rpb24gZGVmYXVsdAogKiBAcGFyYW0ge3N0cmluZ30gc2NoZW1lIC0g5Lu75oSPIHNjaGVtZQogKi8KdmFyIGludm9rZSA9IGZ1bmN0aW9uIGludm9rZShzY2hlbWUpIHsKICBpZiAoaXNTY2hlbWVWYWxpZChzY2hlbWUpKSB7CiAgICB2YXIgJG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsKICAgICRub2RlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAkbm9kZS5zcmMgPSBzY2hlbWU7CiAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXTsKICAgIGJvZHkuYXBwZW5kQ2hpbGQoJG5vZGUpOyAvLyDplIDmr4EgaWZyYW1lCgogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoJG5vZGUpOwogICAgICAkbm9kZSA9IG51bGw7CiAgICB9LCAwKTsKICB9Cn07Ci8qKgogKiBAZnVuY3Rpb24gZGVmYXVsdAogKiBAcGFyYW0ge3N0cmluZ30gc2NoZW1lIC0gaW9zIHNjaGVtYQogKi8KCgp2YXIgX2RlZmF1bHQgPSBpbnZva2U7Ci8qKgogKiBpb3MuaW52b2tlQXBw77yM5Zug5Li66ZyA6KaB5Yib5bu6aWZyYW1l77yM5omA5Lul5Zue6LCD5piv5byC5q2l55qE6K+35rGCCiAqIEBmdW5jdGlvbiBpbnZva2VBcHAKICogQHBhcmFtICB7U3RyaW5nfSAgIGFjdGlvbiAgIOiwg+eUqOeahGFjdGlvbu+8jOS+i+WmgmRvd25sb2Fkbm92ZWwKICogQHBhcmFtICB7T2JqZWN0fSAgIHBhcmFtcyAgIOWPguaVsOWvueixoQogKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sg5Zue6LCD5Ye95pWwCiAqIEBleGFtcGxlCiAqIGludm9rZUFwcCgnZ2V0c3BlZWRsb2dkYXRhJywgZnVuY3Rpb24oY0RhdGEpIHsKICogICAgIGNvbnNvbGUubG9nKGNEYXRhKTsKICogfSk7CiAqIGludm9rZUFwcCgnZG93bmxvYWRub3ZlbCcsIHsKICogICAgIHVybDoneHh4eCcsCiAqICAgICB0aXRsZTogJ3h4eHh4eHgnCiAqIH0sIGZ1bmN0aW9uKGNEYXRhKSB7CiAqICAgICBpZihjRGF0YS5lcnJvcj09MCl7CiAqICAgICAgICAgY29uc29sZS5sb2coJ3N1Y2Nlc3MnKTsKICogICAgICAgICBhbGVydChjRGF0YS5yZXN1bHQpOwogKiAgICAgfWVsc2V7CiAqICAgICAgICAgY29uc29sZS5sb2coJ2ZhaWwnKTsKICogICAgIH0KICogfSk7CiAqLwoKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7CgpmdW5jdGlvbiBpbnZva2VBcHAoYWN0aW9uLCBwYXJhbXMsIGNhbGxiYWNrKSB7CiAgdmFyIHNjaGVtYUhlYWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6ICgwLCBfZ2V0TWF0cml4U2NoZW1hLmRlZmF1bHQpKCk7CiAgdmFyIHVybCA9IFtdOwoKICBpZiAoKDAsIF9pcy5pc0Z1bmN0aW9uKShwYXJhbXMpKSB7CiAgICBjYWxsYmFjayA9IHBhcmFtczsKICB9IGVsc2UgewogICAgZm9yICh2YXIgaSBpbiBwYXJhbXMpIHsKICAgICAgdXJsLnB1c2goaSArICc9JyArIHBhcmFtc1tpXSk7CiAgICB9CiAgfQoKICBpZiAoKDAsIF9pcy5pc0Z1bmN0aW9uKShjYWxsYmFjaykpIHsKICAgIHZhciBmdW5jTmFtZSA9ICgwLCBfZ2V0R2xvYmFsRnVuYy5kZWZhdWx0KShjYWxsYmFjayk7CiAgICB1cmwucHVzaCgnZnVuYz0nICsgZnVuY05hbWUpOwogIH0gZWxzZSBpZiAoY2FsbGJhY2spIHsKICAgIHVybC5wdXNoKCdmdW5jPScgKyBjYWxsYmFjayk7CiAgfQoKICByZXR1cm4gaW52b2tlKHNjaGVtYUhlYWQgKyAnOi8vJyArIGFjdGlvbiArICc/JyArIHVybC5qb2luKCcmJykpOwp9Ci8qKgogKiDkvb/nlKggcG9zdE1zZyDosIPotbcKICogQkJBTU5QSlNCcmlkZ2UucG9zdE1lc3NhZ2UKICogQGZ1bmN0aW9uIHBvc3RNc2dJbnZva2UKICogQHBhcmFtIHtzdHJpbmd9IHNjaGVtZSAtIOiwg+i1t+WRveS7pAogKi8KCgpmdW5jdGlvbiBwb3N0TXNnSW52b2tlKHNjaGVtZSkgewogIGlmIChpc1NjaGVtZVZhbGlkKHNjaGVtZSkpIHsKICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovCiAgICB3aW5kb3cud2Via2l0ICYmIHdlYmtpdC5tZXNzYWdlSGFuZGxlcnMuQkJBTU5QSlNCcmlkZ2UucG9zdE1lc3NhZ2Uoc2NoZW1lKTsKICB9Cn0KLyoqCiAqIEJCQU1OUEpTQnJpZGdlV2ViVmlld0NvbXBvbmVudC5wb3N0TXNnCiAqIEBmdW5jdGlvbiBjb21wb25lbnRJbnZva2UKICogQHBhcmFtIHtzdHJpbmd9IHNjaGVtZSAtIOiwg+i1t+WRveS7pAogKi8KCgpmdW5jdGlvbiBjb21wb25lbnRJbnZva2Uoc2NoZW1lKSB7CiAgaWYgKGlzU2NoZW1lVmFsaWQoc2NoZW1lKSkgewogICAgd2luZG93LndlYmtpdCAmJiB3ZWJraXQubWVzc2FnZUhhbmRsZXJzLkJCQU1OUEpTQnJpZGdlV2ViVmlld0NvbXBvbmVudC5wb3N0TWVzc2FnZShzY2hlbWUpOwogIH0KfQoKZnVuY3Rpb24gc3luY0ludm9rZShzY2hlbWUpIHsKICBpZiAoaXNTY2hlbWVWYWxpZChzY2hlbWUpKSB7CiAgICByZXR1cm4gd2luZG93LnByb21wdCgiQmRib3hBcHA6Ii5jb25jYXQoKDAsIF9zdHJpbmdpZnkuZGVmYXVsdCkoewogICAgICBvYmo6ICdtbnAnLAogICAgICBmdW5jOiAnZGlzcGF0Y2gnLAogICAgICBhcmdzOiBbc2NoZW1lXQogICAgfSkpKTsKICB9CgogIHJldHVybiBudWxsOwp9CgpmdW5jdGlvbiBpc1NjaGVtZVZhbGlkKHNjaGVtZSkgewogIHJldHVybiBzY2hlbWUgJiYgdHlwZW9mIHNjaGVtZSA9PT0gJ3N0cmluZycgJiYgc2NoZW1lLmxlbmd0aCA+IDEwICYmICh0eXBlb2Ygd2luZG93ID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogKDAsIF90eXBlb2YyLmRlZmF1bHQpKHdpbmRvdykpID09PSAnb2JqZWN0JzsKfQovKioKICog5bim5Zue6LCD55qE56uv6IO95YqbCiAqIEBmdW5jdGlvbiBlYXN5T3BlbgogKiBAcGFyYW0gdXJsICB7U3RyaW5nfQogKiBAcGFyYW0gY2FsbGJhY2sgIHtjYWxsYmFja30KICovCgoKZnVuY3Rpb24gaW52b2tlV2l0aENiKHVybCwgY2FsbGJhY2spIHsKICBpZiAoIXVybCkgewogICAgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nICYmIGNhbGxiYWNrKGZhbHNlKTsKICAgIHJldHVybjsKICB9IC8vIOiusOW9lei1t+Wni+aXtumXtAoKCiAgdmFyIGxhc3QgPSBEYXRlLm5vdygpOyAvLyDliJvlu7rkuIDkuKppZnJhbWUKCiAgdmFyIGlmciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0lGUkFNRScpOwogIGlmci5zcmMgPSB1cmw7CiAgaWZyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IC8vIOmjmOWHuuWxj+W5leWklgoKICBpZnIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwogIGlmci5zdHlsZS5sZWZ0ID0gJy0yMDAwcHgnOwogIGlmci5zdHlsZS50b3AgPSAnLTEwMDBweCc7CiAgaWZyLnN0eWxlLndpZHRoID0gJzFweCc7CiAgaWZyLnN0eWxlLmhlaWdodCA9ICcxcHgnOyAvLyDorr7nva7kuIDkuKo056eS55qE5Yqo55S755So5LqO5qOA5p+l5a6i5oi356uv5piv5ZCm6KKr6LCD6LW3CgogIGlmci5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gJ2FsbCAxcyc7CiAgaWZyLnN0eWxlLnRyYW5zaXRpb24gPSAnYWxsIDFzJzsKICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlmcik7CiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICB2YXIgZW5kID0gZnVuY3Rpb24gZW5kKCkgewogICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGlmcik7CgogICAgICBpZiAoRGF0ZS5ub3coKSAtIGxhc3QgPCAxNTAwKSB7CiAgICAgICAgLy8g5aaC5p6c5Yqo55S75omn6KGM5pe26Ze05Zyo6aKE6K6+6IyD5Zu05YaF77yM5bCx6K6k5Li65rKh5pyJ6LCD6LW35a6i5oi356uvCiAgICAgICAgY2FsbGJhY2sodHJ1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5Yqo55S75omn6KGM6LaF6L+H6aKE6K6+6IyD5Zu077yM6K6k5Li66LCD6LW35oiQ5YqfCiAgICAgICAgY2FsbGJhY2soZmFsc2UpOwogICAgICB9CiAgICB9OyAvLyDnm5HlkKzliqjnlLvlrozmiJDml7bpl7QKCgogICAgaWZyLmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCBlbmQsIGZhbHNlKTsKICAgIGlmci5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uRW5kJywgZW5kLCBmYWxzZSk7IC8vIOWQr+WKqOWKqOeUuwoKICAgIGlmci5zdHlsZS5sZWZ0ID0gJy0xMHB4JzsKICB9LCAwKTsKfQ=="},{"version":3,"sources":["/Users/a2012/Desktop/list/node_modules/@baidu/xbox/na/ios/index.js"],"names":["invoke","scheme","isSchemeValid","$node","document","createElement","style","display","src","body","getElementsByTagName","appendChild","setTimeout","removeChild","invokeApp","action","params","callback","schemaHead","url","i","push","funcName","join","postMsgInvoke","window","webkit","messageHandlers","BBAMNPJSBridge","postMessage","componentInvoke","BBAMNPJSBridgeWebViewComponent","syncInvoke","prompt","obj","func","args","length","invokeWithCb","last","Date","now","ifr","position","left","top","width","height","webkitTransition","transition","end","addEventListener"],"mappings":"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","sourcesContent":["/**\n * @file ios seheme invoke\n * @module ios\n */\nimport stringify from '../../stringify';\nimport {isFunction} from '../../is';\nimport getFunc from '../../get-global-func';\nimport getScheme from '../../get-matrix-schema';\n/**\n * 任意 scheme 调起，不校验baiduboxapp://\n * @function default\n * @param {string} scheme - 任意 scheme\n */\nconst invoke = scheme => {\n    if (isSchemeValid(scheme)) {\n        let $node = document.createElement('iframe');\n        $node.style.display = 'none';\n        $node.src = scheme;\n        const body = document.body || document.getElementsByTagName('body')[0];\n        body.appendChild($node);\n        // 销毁 iframe\n        setTimeout(() => {\n            body.removeChild($node);\n            $node = null;\n        }, 0);\n    }\n};\n/**\n * @function default\n * @param {string} scheme - ios schema\n */\nexport default invoke;\n\n/**\n * ios.invokeApp，因为需要创建iframe，所以回调是异步的请求\n * @function invokeApp\n * @param  {String}   action   调用的action，例如downloadnovel\n * @param  {Object}   params   参数对象\n * @param  {Function} callback 回调函数\n * @example\n * invokeApp('getspeedlogdata', function(cData) {\n *     console.log(cData);\n * });\n * invokeApp('downloadnovel', {\n *     url:'xxxx',\n *     title: 'xxxxxxx'\n * }, function(cData) {\n *     if(cData.error==0){\n *         console.log('success');\n *         alert(cData.result);\n *     }else{\n *         console.log('fail');\n *     }\n * });\n */\nexport function invokeApp(action, params, callback, schemaHead = getScheme()) {\n    const url = [];\n    if (isFunction(params)) {\n        callback = params;\n    } else {\n        for (const i in params) {\n            url.push(i + '=' + params[i]);\n        }\n    }\n    if (isFunction(callback)) {\n        const funcName = getFunc(callback);\n        url.push('func=' + funcName);\n    } else if (callback) {\n        url.push('func=' + callback);\n    }\n\n    return invoke(schemaHead + '://' + action + '?' + url.join('&'));\n}\n\n/**\n * 使用 postMsg 调起\n * BBAMNPJSBridge.postMessage\n * @function postMsgInvoke\n * @param {string} scheme - 调起命令\n */\nexport function postMsgInvoke(scheme) {\n    if (isSchemeValid(scheme)) {\n        /* eslint-disable no-undef */\n        window.webkit && webkit.messageHandlers.BBAMNPJSBridge.postMessage(scheme);\n    }\n}\n/**\n * BBAMNPJSBridgeWebViewComponent.postMsg\n * @function componentInvoke\n * @param {string} scheme - 调起命令\n */\nexport function componentInvoke(scheme) {\n    if (isSchemeValid(scheme)) {\n        window.webkit && webkit.messageHandlers.BBAMNPJSBridgeWebViewComponent.postMessage(scheme);\n    }\n}\n\nexport function syncInvoke(scheme) {\n    if (isSchemeValid(scheme)) {\n        return window.prompt(\n            `BdboxApp:${stringify({\n                obj: 'mnp',\n                func: 'dispatch',\n                args: [scheme]\n            })}`\n        );\n    }\n    return null;\n}\n\nfunction isSchemeValid(scheme) {\n    return scheme && typeof scheme === 'string' && scheme.length > 10 && typeof window === 'object';\n}\n\n/**\n * 带回调的端能力\n * @function easyOpen\n * @param url  {String}\n * @param callback  {callback}\n */\nexport function invokeWithCb(url, callback) {\n    if (!url) {\n        typeof callback === 'function' && callback(false);\n        return;\n    }\n    // 记录起始时间\n    const last = Date.now();\n    // 创建一个iframe\n    const ifr = document.createElement('IFRAME');\n    ifr.src = url;\n    ifr.style.display = 'none';\n    // 飘出屏幕外\n    ifr.style.position = 'absolute';\n    ifr.style.left = '-2000px';\n    ifr.style.top = '-1000px';\n    ifr.style.width = '1px';\n    ifr.style.height = '1px';\n    // 设置一个4秒的动画用于检查客户端是否被调起\n    ifr.style.webkitTransition = 'all 1s';\n    ifr.style.transition = 'all 1s';\n    document.body.appendChild(ifr);\n    setTimeout(() => {\n        let end = () => {\n            document.body.removeChild(ifr);\n            if (Date.now() - last < 1500) {\n                // 如果动画执行时间在预设范围内，就认为没有调起客户端\n                callback(true);\n            } else {\n                // 动画执行超过预设范围，认为调起成功\n                callback(false);\n            }\n        };\n\n        // 监听动画完成时间\n        ifr.addEventListener('webkitTransitionEnd', end, false);\n        ifr.addEventListener('transitionEnd', end, false);\n        // 启动动画\n        ifr.style.left = '-10px';\n    }, 0);\n}\n"]}]}