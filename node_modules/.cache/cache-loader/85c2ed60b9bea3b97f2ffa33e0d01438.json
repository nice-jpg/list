{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/mo-core/dist/viewport.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/mo-core/dist/viewport.js","mtime":1696919505774},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmdldFZpZXdwb3J0ID0gZ2V0Vmlld3BvcnQ7CmV4cG9ydHMuZ2V0U2Nyb2xsVG9wID0gZ2V0U2Nyb2xsVG9wOwpleHBvcnRzLmlzU2Nyb2xsQm90dG9tID0gaXNTY3JvbGxCb3R0b207CmV4cG9ydHMuaXNWaXNpYmxlID0gaXNWaXNpYmxlOwoKdmFyIF94Ym94ID0gcmVxdWlyZSgiQGJhaWR1L3hib3giKTsKCnZhciBfZW52ID0gcmVxdWlyZSgiLi9lbnYiKTsKCi8qKgogKiBDb3B5cmlnaHQgKEMpIDIwMjEgfiBwcmVzZW50IGJhaWR1LmNvbQogKi8KCi8qKgogKiBXaGVuIHBhZ2UgaW4gSU9TLUlGUkFNRSwgc2Nyb2xsIGFuZCByZWN0IGhhdmUgc29tZSBidWdzLgogKiBTbyB3ZSBuZWVkIGFkZCBzb21lIGVsZW1lbnRzIHRvIHNvbHZlIHRoaXMgcHJvYmxlbS4KICogY29weSBmcm9tIG1pcAogKi8KdmFyIHBhdGNoID0gZnVuY3Rpb24gcGF0Y2goKSB7CiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBlbGVtZW50LnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjA7aGVpZ2h0OjA7dmlzaWJpbGl0eTpoaWRkZW47JzsKICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpOwogIHJldHVybiBlbGVtZW50Owp9OwovKioKICog6I635Y+WIEJvZHkg5L2c5Li6IFZpZXdwb3J0IOeahOWwgeijhQogKgogKiBAcmV0dXJucyBWaWV3cG9ydCDnu5PmnoQKICovCgoKdmFyIGdldEJvZHkgPSBmdW5jdGlvbiBnZXRCb2R5KCkgewogIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTsKICB2YXIgYm9keVN0eWxlID0gYm9keS5zdHlsZTsKICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3dZID0gJ2F1dG8nOwogIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7CiAgYm9keVN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsKICBib2R5U3R5bGUuaGVpZ2h0ID0gJzEwMCUnOwogIGJvZHlTdHlsZS5vdmVyZmxvd1kgPSAnc2Nyb2xsJzsKICBib2R5U3R5bGUud2Via2l0T3ZlcmZsb3dTY3JvbGxpbmcgPSAndG91Y2gnOwogIHZhciBib2R5UmVjdCA9IGJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgdmFyIGVsZW1lbnQgPSBwYXRjaCgpOwogIHJldHVybiB7CiAgICBlbGVtZW50OiBib2R5LAogICAgb2Zmc2V0V2lkdGg6IGJvZHkub2Zmc2V0V2lkdGgsCiAgICBvZmZzZXRIZWlnaHQ6IGJvZHkub2Zmc2V0SGVpZ2h0LAogICAgc2Nyb2xsV2lkdGg6IGJvZHkuc2Nyb2xsV2lkdGgsCiAgICBzY3JvbGxIZWlnaHQ6IGJvZHkuc2Nyb2xsSGVpZ2h0LAogICAgdG9wOiBib2R5UmVjdC50b3AsCiAgICBsZWZ0OiBib2R5UmVjdC5sZWZ0LAogICAgc2Nyb2xsVG9wOiBmdW5jdGlvbiBzY3JvbGxUb3AodG9wKSB7CiAgICAgIGlmICh0b3AgJiYgKDAsIF94Ym94LmlzTnVtYmVyKSh0b3ApKSB7CiAgICAgICAgYm9keS5zY3JvbGxUb3AgPSB0b3A7CiAgICAgICAgcmV0dXJuIHRvcDsKICAgICAgfQoKICAgICAgcmV0dXJuIE1hdGgucm91bmQoLWVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wKTsKICAgIH0KICB9Owp9OwovKioKICog6I635Y+WIFdpbmRvdyDkvZzkuLogVmlld3BvcnQg55qE5bCB6KOFCiAqCiAqIEByZXR1cm5zIFZpZXdwb3J0IOe7k+aehAogKi8KCgp2YXIgZ2V0V2luZG93ID0gZnVuY3Rpb24gZ2V0V2luZG93KCkgewogIHJldHVybiB7CiAgICBlbGVtZW50OiB3aW5kb3csCiAgICBvZmZzZXRXaWR0aDogd2luZG93LmlubmVyV2lkdGgsCiAgICBvZmZzZXRIZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCwKICAgIHNjcm9sbFdpZHRoOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGgsCiAgICBzY3JvbGxIZWlnaHQ6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsCiAgICB0b3A6IDAsCiAgICBsZWZ0OiAwLAogICAgc2Nyb2xsVG9wOiBmdW5jdGlvbiBzY3JvbGxUb3AodG9wKSB7CiAgICAgIGlmICh0b3AgJiYgKDAsIF94Ym94LmlzTnVtYmVyKSh0b3ApICYmICgwLCBfeGJveC5pc0Z1bmN0aW9uKSh3aW5kb3cuc2Nyb2xsVG8pKSB7CiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHRvcCk7CiAgICAgICAgcmV0dXJuIHRvcDsKICAgICAgfQoKICAgICAgcmV0dXJuIHdpbmRvdy5zY3JvbGxZIHx8IDA7CiAgICB9CiAgfTsKfTsKLyoqCiAqIOWmguaenOWFpeWPguaYryBET00g5YWD57Sg77yM5bCG5YW25bCB6KOF5Li6IHZpZXdwb3J0IOe7k+aehAogKiDlpoLmnpzmmK8gaU9TIOeOr+Wig+S4iyBpZnJhbWUg5Lit77yMdmlld3BvcnQg5Li6IGJvZHkg55qE5bCB6KOF77yM5ZCm5YiZ5pivIHdpbmRvdyDnmoTlsIHoo4UKICoKICogQHBhcmFtIGNvbnRhaW5lciDooqvlsIHoo4XkuLogdmlld3BvcnQg55qE5a655Zmo5YWD57SgCiAqIEByZXR1cm5zIFZpZXdwb3J0IOe7k+aehAogKi8KCgpmdW5jdGlvbiBnZXRWaWV3cG9ydChjb250YWluZXIpIHsKICBpZiAoY29udGFpbmVyICYmIGNvbnRhaW5lciAhPT0gd2luZG93ICYmIGNvbnRhaW5lciAhPT0gZG9jdW1lbnQuYm9keSkgewogICAgdmFyIGVsZW1lbnQgPSBjb250YWluZXI7CiAgICB2YXIgY29udGFpbmVyUmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICByZXR1cm4gewogICAgICBlbGVtZW50OiBlbGVtZW50LAogICAgICBvZmZzZXRXaWR0aDogZWxlbWVudC5vZmZzZXRXaWR0aCwKICAgICAgb2Zmc2V0SGVpZ2h0OiBlbGVtZW50Lm9mZnNldEhlaWdodCwKICAgICAgc2Nyb2xsV2lkdGg6IGVsZW1lbnQuc2Nyb2xsV2lkdGgsCiAgICAgIHNjcm9sbEhlaWdodDogZWxlbWVudC5zY3JvbGxIZWlnaHQsCiAgICAgIHRvcDogY29udGFpbmVyUmVjdC50b3AsCiAgICAgIGxlZnQ6IGNvbnRhaW5lclJlY3QubGVmdCwKICAgICAgc2Nyb2xsVG9wOiBmdW5jdGlvbiBzY3JvbGxUb3AodG9wKSB7CiAgICAgICAgaWYgKHRvcCAmJiAoMCwgX3hib3guaXNOdW1iZXIpKHRvcCkpIHsKICAgICAgICAgIGVsZW1lbnQuc2Nyb2xsVG9wID0gdG9wOwogICAgICAgICAgcmV0dXJuIHRvcDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBlbGVtZW50LnNjcm9sbFRvcDsKICAgICAgfQogICAgfTsKICB9IGVsc2UgaWYgKGNvbnRhaW5lciA9PT0gZG9jdW1lbnQuYm9keSB8fCB3aW5kb3cuc2VsZiAhPT0gd2luZG93LnRvcCAmJiBfZW52LmVudi5pc0lPUykgewogICAgcmV0dXJuIGdldEJvZHkoKTsKICB9CgogIHJldHVybiBnZXRXaW5kb3coKTsKfQovKioKICog6I635Y+W5a655Zmo5Z6C55u05pa55ZCR5rua5Yqo6Led56a7CiAqCiAqIEBwYXJhbSBjb250YWluZXIg5a655Zmo5YWD57SgKOWPr+mAiSkKICogQHJldHVybnMg5Z6C55u05pa55ZCR5rua5Yqo6Led56a7CiAqLwoKCmZ1bmN0aW9uIGdldFNjcm9sbFRvcChjb250YWluZXIpIHsKICByZXR1cm4gK2dldFZpZXdwb3J0KGNvbnRhaW5lcikuc2Nyb2xsVG9wKCk7Cn0KLyoqCiAqIOWIpOaWreWuueWZqOaYr+WQpua7muWKqOWIsOW6lemDqAogKgogKiBAcGFyYW0gY29udGFpbmVyIOWuueWZqOWFg+e0oCjlj6/pgIkpCiAqIEByZXR1cm5zIOWIpOaWree7k+aenAogKi8KCgpmdW5jdGlvbiBpc1Njcm9sbEJvdHRvbShjb250YWluZXIpIHsKICB2YXIgdmlld3BvcnQgPSBnZXRWaWV3cG9ydChjb250YWluZXIpOwogIHJldHVybiArdmlld3BvcnQuc2Nyb2xsVG9wKCkgKyB2aWV3cG9ydC5vZmZzZXRIZWlnaHQgPj0gdmlld3BvcnQuc2Nyb2xsSGVpZ2h0Owp9Ci8qKgogKiDliKTmlq3lhYPntKDlnKjmjIflrprlrrnlmajlhoXmmK/lkKblj6/op4HvvIjpnLLlh7oxcHjvvIkKICoKICogQHBhcmFtIGVsZW1lbnQgRE9N5YWD57SgCiAqIEBwYXJhbSBjb250YWluZXIg55uu5qCH5YWD57SgCiAqIEBwYXJhbSBvZmZzZXRYIFjovbTlgY/np7vph48KICogQHBhcmFtIG9mZnNldFkgWei9tOWBj+enu+mHjwogKiBAcmV0dXJucyDlhYPntKDmmK/lkKblj6/op4EKICovCgoKZnVuY3Rpb24gaXNWaXNpYmxlKGVsZW1lbnQpIHsKICB2YXIgY29udGFpbmVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBnZXRWaWV3cG9ydCgpLmVsZW1lbnQ7CiAgdmFyIG9mZnNldFggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDE7CiAgdmFyIG9mZnNldFkgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDE7CgogIGlmICghZWxlbWVudCB8fCAhY29udGFpbmVyKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICB2YXIgdmlzaWJsZSA9IChkb2N1bWVudCAmJiBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUpICE9PSAnaGlkZGVuJzsKICB2YXIgZWxlbWVudFJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogIHZhciB2aWV3cG9ydCA9IGdldFZpZXdwb3J0KGNvbnRhaW5lcik7CiAgcmV0dXJuIHZpc2libGUgJiYgZWxlbWVudFJlY3QudG9wIDwgdmlld3BvcnQub2Zmc2V0SGVpZ2h0IC0gb2Zmc2V0WSAmJiBlbGVtZW50UmVjdC5ib3R0b20gPiB2aWV3cG9ydC50b3AgJiYgZWxlbWVudFJlY3QubGVmdCA8IHZpZXdwb3J0Lm9mZnNldFdpZHRoIC0gb2Zmc2V0WCAmJiBlbGVtZW50UmVjdC5yaWdodCA+IHZpZXdwb3J0LmxlZnQ7Cn0="},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/@baidu/mo-core/dist/viewport.js"],"names":["patch","element","document","createElement","style","cssText","body","appendChild","getBody","bodyStyle","documentElement","overflowY","height","position","webkitOverflowScrolling","bodyRect","getBoundingClientRect","offsetWidth","offsetHeight","scrollWidth","scrollHeight","top","left","scrollTop","Math","round","getWindow","window","innerWidth","innerHeight","scrollTo","scrollY","getViewport","container","containerRect","self","env","isIOS","getScrollTop","isScrollBottom","viewport","isVisible","offsetX","offsetY","visible","visibilityState","elementRect","bottom","right"],"mappings":"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","sourcesContent":["/**\n * Copyright (C) 2021 ~ present baidu.com\n */\nimport { isFunction, isNumber, } from '@baidu/xbox';\nimport { env } from './env';\n/**\n * When page in IOS-IFRAME, scroll and rect have some bugs.\n * So we need add some elements to solve this problem.\n * copy from mip\n */\nconst patch = () => {\n    const element = document.createElement('div');\n    element.style.cssText = 'position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;';\n    document.body.appendChild(element);\n    return element;\n};\n/**\n * 获取 Body 作为 Viewport 的封装\n *\n * @returns Viewport 结构\n */\nconst getBody = () => {\n    const body = document.body;\n    const bodyStyle = body.style;\n    document.documentElement.style.overflowY = 'auto';\n    document.documentElement.style.height = '100%';\n    bodyStyle.position = 'relative';\n    bodyStyle.height = '100%';\n    bodyStyle.overflowY = 'scroll';\n    bodyStyle.webkitOverflowScrolling = 'touch';\n    const bodyRect = body.getBoundingClientRect();\n    const element = patch();\n    return {\n        element: body,\n        offsetWidth: body.offsetWidth,\n        offsetHeight: body.offsetHeight,\n        scrollWidth: body.scrollWidth,\n        scrollHeight: body.scrollHeight,\n        top: bodyRect.top,\n        left: bodyRect.left,\n        scrollTop(top) {\n            if (top && isNumber(top)) {\n                body.scrollTop = top;\n                return top;\n            }\n            return Math.round(-element.getBoundingClientRect().top);\n        },\n    };\n};\n/**\n * 获取 Window 作为 Viewport 的封装\n *\n * @returns Viewport 结构\n */\nconst getWindow = () => ({\n    element: window,\n    offsetWidth: window.innerWidth,\n    offsetHeight: window.innerHeight,\n    scrollWidth: document.documentElement.scrollWidth,\n    scrollHeight: document.documentElement.scrollHeight,\n    top: 0,\n    left: 0,\n    scrollTop(top) {\n        if (top && isNumber(top) && isFunction(window.scrollTo)) {\n            window.scrollTo(0, top);\n            return top;\n        }\n        return window.scrollY || 0;\n    },\n});\n/**\n * 如果入参是 DOM 元素，将其封装为 viewport 结构\n * 如果是 iOS 环境下 iframe 中，viewport 为 body 的封装，否则是 window 的封装\n *\n * @param container 被封装为 viewport 的容器元素\n * @returns Viewport 结构\n */\nexport function getViewport(container) {\n    if (container && container !== window && container !== document.body) {\n        const element = container;\n        const containerRect = element.getBoundingClientRect();\n        return {\n            element,\n            offsetWidth: element.offsetWidth,\n            offsetHeight: element.offsetHeight,\n            scrollWidth: element.scrollWidth,\n            scrollHeight: element.scrollHeight,\n            top: containerRect.top,\n            left: containerRect.left,\n            scrollTop(top) {\n                if (top && isNumber(top)) {\n                    element.scrollTop = top;\n                    return top;\n                }\n                return element.scrollTop;\n            },\n        };\n    }\n    else if (container === document.body || (window.self !== window.top && env.isIOS)) {\n        return getBody();\n    }\n    return getWindow();\n}\n/**\n * 获取容器垂直方向滚动距离\n *\n * @param container 容器元素(可选)\n * @returns 垂直方向滚动距离\n */\nexport function getScrollTop(container) {\n    return +getViewport(container).scrollTop();\n}\n/**\n * 判断容器是否滚动到底部\n *\n * @param container 容器元素(可选)\n * @returns 判断结果\n */\nexport function isScrollBottom(container) {\n    const viewport = getViewport(container);\n    return +viewport.scrollTop() + viewport.offsetHeight >= viewport.scrollHeight;\n}\n/**\n * 判断元素在指定容器内是否可见（露出1px）\n *\n * @param element DOM元素\n * @param container 目标元素\n * @param offsetX X轴偏移量\n * @param offsetY Y轴偏移量\n * @returns 元素是否可见\n */\nexport function isVisible(element, container = getViewport().element, offsetX = 1, offsetY = 1) {\n    if (!element || !container) {\n        return false;\n    }\n    const visible = (document && document.visibilityState) !== 'hidden';\n    const elementRect = element.getBoundingClientRect();\n    const viewport = getViewport(container);\n    return (visible\n        && elementRect.top < viewport.offsetHeight - offsetY\n        && elementRect.bottom > viewport.top\n        && elementRect.left < viewport.offsetWidth - offsetX\n        && elementRect.right > viewport.left);\n}\n"]}]}