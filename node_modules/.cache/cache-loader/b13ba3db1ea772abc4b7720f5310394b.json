{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/olympic/containers/app.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/olympic/containers/app.js","mtime":1695633995777},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWZsZWN0LmNvbnN0cnVjdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giKTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gZXhwb3J0cy5SRUZSRVNIX0lOVEVSVkFMID0gdm9pZCAwOwoKdmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9saWFvaHVhbnl1L3Byb2plY3RzL2JhaWR1LXdvcmsvYmFpZHUvZmVlZDMvbXVsdGktcGFnZXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSk7Cgp2YXIgX2NyZWF0ZUNsYXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpKTsKCnZhciBfaW5oZXJpdHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIikpOwoKdmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikpOwoKdmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9saWFvaHVhbnl1L3Byb2plY3RzL2JhaWR1LXdvcmsvYmFpZHUvZmVlZDMvbXVsdGktcGFnZXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2YiKSk7Cgp2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSIpKTsKCnZhciBfc2FuID0gcmVxdWlyZSgic2FuIik7Cgp2YXIgX2FwcE1vZHVsZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9hcHAubW9kdWxlLmxlc3MiKSk7Cgp2YXIgX2VudiA9IHJlcXVpcmUoIkBiYWlkdS9hdWMtYmFzZS9lbnYiKTsKCnZhciBfdHJhbnMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vdHJhbnMuanMiKSk7Cgp2YXIgX2VhY2hJdGVtID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL2VhY2gtaXRlbSIpKTsKCnZhciBfaW5pdENoYW5uZWwgPSByZXF1aXJlKCIuL2luaXRDaGFubmVsIik7Cgp2YXIgX3ViY1JlcG9ydFNkayA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQGJhaWR1L3ViYy1yZXBvcnQtc2RrIikpOwoKdmFyIF9heGlvcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiYXhpb3MiKSk7Cgp2YXIgX2JveHggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkBiYWlkdS9hdWMtYmFzZS9ib3h4IikpOwoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yLmRlZmF1bHQpKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQoKdmFyIGFhYSA9IHJlcXVpcmUoJy4vbW9jay5qc29uJyk7Cgp2YXIgbG9hZGluZ0Fzc2V0cyA9IHsKICBsaWdodDogcmVxdWlyZSgnLi4vYXNzZXRzL2xvYWRpbmcucG5nJyksCiAgbmlnaHQ6IHJlcXVpcmUoJy4uL2Fzc2V0cy9sb2FkaW5nLW5pZ2h0LnBuZycpLAogIGRhcms6IHJlcXVpcmUoJy4uL2Fzc2V0cy9sb2FkaW5nLWRhcmsucG5nJykKfTsKdmFyIFJFRlJFU0hfSU5URVJWQUwgPSAxLjhlNjsKZXhwb3J0cy5SRUZSRVNIX0lOVEVSVkFMID0gUkVGUkVTSF9JTlRFUlZBTDsKCnZhciBBcHAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICAoMCwgX2luaGVyaXRzMi5kZWZhdWx0KShBcHAsIF9Db21wb25lbnQpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEFwcCk7CgogIGZ1bmN0aW9uIEFwcCgpIHsKICAgICgwLCBfY2xhc3NDYWxsQ2hlY2syLmRlZmF1bHQpKHRoaXMsIEFwcCk7CiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICAoMCwgX2NyZWF0ZUNsYXNzMi5kZWZhdWx0KShBcHAsIFt7CiAgICBrZXk6ICJpbml0RGF0YSIsCgogICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqLwoKICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqLwogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXREYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIElTX0lPUzogX2Vudi5lbnYuaXNJT1MsCiAgICAgICAgc3R5bGVzOiBfYXBwTW9kdWxlLmRlZmF1bHQsCiAgICAgICAgZmVlZGxpc3Q6IFtdLAogICAgICAgIHRoZW1lOiAnbGlnaHQnLAogICAgICAgIHZpc2liaWxpdHk6IHRydWUsCiAgICAgICAgZm9udExldmVsOiAxCiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAiaW5pdGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0ZWQoKSB7CiAgICAgIHRoaXMuaW5pdExvZygpOwogICAgfQogIH0sIHsKICAgIGtleTogImNyZWF0ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAgIC8vIOWIm+W7uuaXtuS7jnVybOS4iuivu+WPluS4u+mimOW5tuiuvue9rmh0bWznmoTmoLflvI8KICAgICAgLy8gdXJs5Li+5L6LIGh0dHA6Ly9oNS5iYWlkdS5jb20vP3Zpc2liaWxpdHk9MCZ0aGVtZT0wJmZvbnRfbGV2ZWw9MQogICAgICB2YXIgcGFyYW1zRnJvbVVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgICB2YXIgcGFyYW1TdGFydCA9IHBhcmFtc0Zyb21VcmwuaW5kZXhPZignPycpOwogICAgICB2YXIgcmVxdWVzdFN0ciA9IHBhcmFtc0Zyb21Vcmwuc2xpY2UocGFyYW1TdGFydCArIDEpOwogICAgICB2YXIgcmVxdWVzdFBhcmFtcyA9IHt9OwoKICAgICAgaWYgKHJlcXVlc3RTdHIuaW5kZXhPZignJicpICE9PSAtMSkgewogICAgICAgIHJlcXVlc3RTdHIuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgaWYgKCFpdGVtIHx8ICFpdGVtLnNwbGl0IHx8IGl0ZW0uc3BsaXQoJz0nKS5sZW5ndGggIT09IDIpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBrZXkgPSBpdGVtLnNwbGl0KCc9JylbMF07CiAgICAgICAgICB2YXIgdmFsID0gaXRlbS5zcGxpdCgnPScpWzFdOwogICAgICAgICAgcmVxdWVzdFBhcmFtc1trZXldID0gdmFsOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuZGF0YS5zZXQoJ3JlcXVlc3RQYXJhbXMnLCByZXF1ZXN0UGFyYW1zKTsKICAgICAgfQoKICAgICAgdmFyIHRoZW1lID0gcmVxdWVzdFBhcmFtcy50aGVtZSA9PT0gJ2RlZmF1bHQnID8gJ2xpZ2h0JyA6IHJlcXVlc3RQYXJhbXMudGhlbWU7CiAgICAgIHRoaXMuZGF0YS5zZXQoJ3RoZW1lJywgdGhlbWUpOyAvLyDnlLHkuo7nq6/kuIrkuI3lgZrpooTliJvlu7rvvIzmiYDku6V2aXNpYmxpdHnmmoLml7bnlKjkuI3liLDkuoYKICAgICAgLy8gdGhpcy5kYXRhLnNldCgndmlzaWJpbGl0eScsIHJlcXVlc3RQYXJhbXMudmlzaWJpbGl0eSk7CgogICAgICB0aGlzLmRhdGEuc2V0KCdmb250TGV2ZWwnLCByZXF1ZXN0UGFyYW1zLmZvbnRfbGV2ZWwpOwogICAgICB0aGlzLmRhdGEuc2V0KCd0YWJJZCcsIHJlcXVlc3RQYXJhbXMudGFiX2lkKTsKICAgICAgdmFyICRyb290ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2h0bWwnKVswXTsKICAgICAgJHJvb3QuY2xhc3NMaXN0LmFkZCgnb2x5bXBpYy0nICsgdGhlbWUpOyAvLyDorr7nva7lrZfkvZMKCiAgICAgIGlmIChfZW52LmVudi5pc0lPUykgewogICAgICAgICRyb290LmNsYXNzTGlzdC5hZGQoJ2lwaG9uZScpOwogICAgICB9IGVsc2UgewogICAgICAgICRyb290LmNsYXNzTGlzdC5hZGQoJ2FuZHJvaWQnKTsKICAgICAgfSAvLyB0aGlzLmRhdGEuc2V0KCdmZWVkbGlzdCcsIHRyYW5zKGFhYSkpOwoKCiAgICAgIGlmICh3aW5kb3cuc29ydHNEYXRhLmVycm5vID09PSAwKSB7CiAgICAgICAgdGhpcy5kYXRhLnNldCgnZmVlZGxpc3QnLCAoMCwgX3RyYW5zLmRlZmF1bHQpKHdpbmRvdy5zb3J0c0RhdGEpKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImluaXRMb2ciLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRMb2coKSB7CiAgICAgICgwLCBfdWJjUmVwb3J0U2RrLmRlZmF1bHQpKCdpbml0JywgJzEzMzI0JywgewogICAgICAgIHBhZ2U6ICdvbHltcGljJywKICAgICAgICBmcm9tOiAnZmVlZCcsCiAgICAgICAgYXV0b1B2VHJhY2s6IHRydWUsCiAgICAgICAgc291cmNlOiAnZmVlZCcKICAgICAgfSk7IC8vIHViYygndGltaW5nJywgJ3N0YXJ0Jyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYXR0YWNoZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGF0dGFjaGVkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgKDAsIF9pbml0Q2hhbm5lbC5pbml0Q2hhbm5lbCkoZnVuY3Rpb24gKHBhcmFtcykgewogICAgICAgIHZhciBsYXN0VGhlbWUgPSBfdGhpcy5kYXRhLmdldCgndGhlbWUnKSA9PT0gJ2xpZ2h0JyA/ICdkZWZhdWx0JyA6IF90aGlzLmRhdGEuZ2V0KCd0aGVtZScpOwoKICAgICAgICB2YXIgbGFzdFZpc2libGUgPSBfdGhpcy5kYXRhLmdldCgndmlzaWJpbGl0eScpOwoKICAgICAgICB2YXIgbGFzdEZvbnRMZXZlbCA9IF90aGlzLmRhdGEuZ2V0KCdmb250TGV2ZWwnKTsgLy8g5Li76aKY5Y+Y5YyW5Zue6LCDCgoKICAgICAgICBpZiAocGFyYW1zLmhhc093blByb3BlcnR5KCd0aGVtZScpICYmIGxhc3RUaGVtZSAhPT0gcGFyYW1zLnRoZW1lKSB7CiAgICAgICAgICB2YXIgdGhlbWUgPSBwYXJhbXMudGhlbWUgPT09ICdkZWZhdWx0JyA/ICdsaWdodCcgOiBwYXJhbXMudGhlbWU7CgogICAgICAgICAgdmFyIElTX0lPUyA9IF90aGlzLmRhdGEuZ2V0KCdJU19JT1MnKTsKCiAgICAgICAgICB2YXIgJHJvb3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaHRtbCcpWzBdOwogICAgICAgICAgJHJvb3QuY2xhc3NOYW1lID0gIm9seW1waWMtIi5jb25jYXQodGhlbWUsICIgIikuY29uY2F0KElTX0lPUyA/ICdpcGhvbmUnIDogJ2FuZHJvaWQnKTsKCiAgICAgICAgICBfdGhpcy5kYXRhLnNldCgndGhlbWUnLCB0aGVtZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAocGFyYW1zLmhhc093blByb3BlcnR5KCdmb250X2xldmVsJykgJiYgcGFyYW1zLmZvbnRfbGV2ZWwgIT09IGxhc3RGb250TGV2ZWwpIHsKICAgICAgICAgIF90aGlzLmRhdGEuc2V0KCdmb250TGV2ZWwnLCBwYXJhbXMuZm9udF9sZXZlbCk7CiAgICAgICAgfQoKICAgICAgICBpZiAocGFyYW1zLmhhc093blByb3BlcnR5KCd2aXNpYmlsaXR5JykgJiYgcGFyYW1zLnZpc2liaWxpdHkgIT09IGxhc3RWaXNpYmxlKSB7CiAgICAgICAgICBfdGhpcy5kYXRhLnNldCgndmlzaWJpbGl0eScsIHBhcmFtcy52aXNpYmlsaXR5KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICAoMCwgX2luaXRDaGFubmVsLnJlZnJlc2hDaGFubmVsKShmdW5jdGlvbiAocGFyYW1zKSB7CiAgICAgICAgX3RoaXMuZGF0YS5zZXQoJ3RhYklkJywgcGFyYW1zLnRhYl9pZCk7CgogICAgICAgIF90aGlzLnNlbmRSZXF1ZXN0KCk7CiAgICAgIH0pOwogICAgICB0aGlzLmRhdGEuc2V0KCdsYXN0UmVmcmVzaFRpbWUnLCBEYXRlLm5vdygpKTsKICAgICAgdGhpcy53YXRjaCgndmlzaWJpbGl0eScsIGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAvLyDotoXov4czMG1pbumHjeaWsOi/m+WFpXRhYuinpuWPkeiHquWKqOWIt+aWsAogICAgICAgIHZhciBsYXN0UmVmcmVzaFRpbWUgPSBfdGhpcy5kYXRhLmdldCgnbGFzdFJlZnJlc2hUaW1lJyk7CgogICAgICAgIHZhciBpbnRlcnZhbCA9IERhdGUubm93KCkgLSBsYXN0UmVmcmVzaFRpbWU7CgogICAgICAgIGlmIChpbnRlcnZhbCA+PSBSRUZSRVNIX0lOVEVSVkFMICYmIHZhbCkgewogICAgICAgICAgX3RoaXMuc2VuZFJlcXVlc3QoZmFsc2UpOwogICAgICAgIH0KICAgICAgfSk7IC8vIOWmguaenOWKoOi9veS4reeUqOaIt+S4i+aLieWIt+aWsO+8jOerr+S4iuS4jeefpemBk+S7gOS5iOaXtuWAmeWBnOatou+8jOaJgOS7peWSjOerr+S4iue6puWumua4suafk+WujOaIkOWQjue7meerr+S4iuWPkemAgWVuZOa2iOaBrwoKICAgICAgdGhpcy5zZW5kRW5kTWVzc2FnZSgn5bey5pu05paw5Yiw5pyA5pawJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2VuZFJlcXVlc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmRSZXF1ZXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBmaXJlQ2hhbm5lbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTsKCiAgICAgIC8vIGZpcmVDaGFubmVsIOS4umZhbHNl6KGo56S65LiN6ZyA6KaB57uZ5pWw5o2u6YCa6YGT5Y+R6YCB5Yi35paw57uT5p2f6YCa55+l77yM5Y+q5piv5Y2V57qv5pu05paw5pWw5o2uCiAgICAgIF9heGlvcy5kZWZhdWx0LmdldCgnL25ld3NwYWdlL2RhdGEvZmVlZCcsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHRhYl9pZDogdGhpcy5kYXRhLmdldCgndGFiSWQnKSwKICAgICAgICAgIGNoYW5uZWxfaWQ6IDgsCiAgICAgICAgICBfZm9ybWF0OiAnanNvbicKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGE7CgogICAgICAgICAgX3RoaXMyLmRhdGEuc2V0KCdmZWVkbGlzdCcsICgwLCBfdHJhbnMuZGVmYXVsdCkoZGF0YSkpOwoKICAgICAgICAgIF90aGlzMi5kYXRhLnNldCgnbGFzdFJlZnJlc2hUaW1lJywgRGF0ZS5ub3coKSk7CgogICAgICAgICAgZmlyZUNoYW5uZWwgJiYgX3RoaXMyLnNlbmRFbmRNZXNzYWdlKCflt7Lmm7TmlrDliLDmnIDmlrAnKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBmaXJlQ2hhbm5lbCAmJiBfdGhpczIudGhpcy5zZW5kRW5kTWVzc2FnZSgn5pu05paw5aSx6LSlJyk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInNlbmRFbmRNZXNzYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kRW5kTWVzc2FnZSh0ZXh0KSB7CiAgICAgIF9ib3h4LmRlZmF1bHQuZXZlbnQuZW1pdCh7CiAgICAgICAgYWN0aW9uOiAnY29tLmJhaWR1LmNoYW5uZWwuZmVlZC5yZWZyZXNoZW5kJywKICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICBzdGF0dXM6ICdlbmQnLAogICAgICAgICAgcmVmcmVzaF90aXBzOiB0ZXh0LAogICAgICAgICAgdGFiX2lkOiB0aGlzLmRhdGEuZ2V0KCd0YWJJZCcpCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAib25SZWZyZXNoQ2xpY2siLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVmcmVzaENsaWNrKCkgewogICAgICB0aGlzLnNlbmRSZXF1ZXN0KGZhbHNlKTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEFwcDsKfShfc2FuLkNvbXBvbmVudCk7CgpleHBvcnRzLmRlZmF1bHQgPSBBcHA7CigwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKEFwcCwgImNvbXBvbmVudHMiLCB7CiAgJ2VhY2gtaXRlbSc6IF9lYWNoSXRlbS5kZWZhdWx0Cn0pOwooMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShBcHAsICJ0ZW1wbGF0ZSIsICJcbiAgICAgICAgPGRpdiBpZD1cImFwcENvbnRhaW5cIiBjbGFzcz1cInt7c3R5bGVzWydhcHAnXX19XCI+XG4gICAgICAgICAgICA8ZGl2IHMtaWY9XCJzaG93RXJyb3JQYWdlXCIgXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJ7e3N0eWxlc1snYXBwLWVtcHR5J119fVwiIHN0eWxlPVwiaGVpZ2h0Ont7aGVpZ2h0fX1weDtcIj5cbiAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwie3tzdHlsZXNbJ2FwcC1lbXB0eS1pbWcnXX19XCJcbiAgICAgICAgICAgICAgICAgICAgc3JjPVwie3tpbWdTb3VyY2V9fVwiIGFsdD1cIlwiLz5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInt7c3R5bGVzWydhcHAtZW1wdHktdGlwJ119fVwiPlx1NzBCOVx1NTFGQlx1NTIzN1x1NjVCMFx1RkYwQ1x1NEUzQVx1NjBBOFx1NjNBOFx1ODM1MFx1NjZGNFx1NTkxQVx1N0NCRVx1NUY2OVx1NTE4NVx1NUJCOTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwie3tzdHlsZXNbJ2FwcC1lbXB0eS1idXR0b24nXX19XCIgb24tY2xpY2s9XCJvblJlZnJlc2hDbGlja1wiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInt7c3R5bGVzWydhcHAtZW1wdHktYnV0dG9uVGV4dCddfX1cIj5cdTdBQ0JcdTUzNzNcdTUyMzdcdTY1QjA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgcy1lbHNlPlxuICAgICAgICAgICAgICAgIDxlYWNoLWl0ZW1cbiAgICAgICAgICAgICAgICAgICAgcy1mb3I9XCJmZWVkLCBpbmRleCBpbiBmZWVkbGlzdFwiXG4gICAgICAgICAgICAgICAgICAgIGZlZWQ9XCJ7e2ZlZWR9fVwiXG4gICAgICAgICAgICAgICAgICAgIGluZGV4PVwie3tpbmRleH19XCJcbiAgICAgICAgICAgICAgICAgICAgdGhlbWU9XCJ7e3RoZW1lfX1cIlxuICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5PVwie3t2aXNpYmlsaXR5fX1cIlxuICAgICAgICAgICAgICAgICAgICBmb250TGV2ZWw9XCJ7e2ZvbnRMZXZlbH19XCJcbiAgICAgICAgICAgICAgICAgICAgdGFiSWQ9XCJ7e3RhYklkfX1cIlxuICAgICAgICAgICAgICAgID48L2VhY2gtaXRlbT5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuICAgICIpOwooMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShBcHAsICJjb21wdXRlZCIsIHsKICBzaG93RXJyb3JQYWdlOiBmdW5jdGlvbiBzaG93RXJyb3JQYWdlKCkgewogICAgdmFyIGZlZWRsaXN0ID0gdGhpcy5kYXRhLmdldCgnZmVlZGxpc3QnKTsKICAgIHZhciBpc0VtcHR5ID0gZmVlZGxpc3QubGVuZ3RoID09PSAwOwogICAgdmFyIG9ubHlIYXNEaXZlcnNpb24gPSBmZWVkbGlzdC5sZW5ndGggPT09IDEgJiYgZmVlZGxpc3RbMF0ubGF5b3V0ID09PSAnZGl2ZXJzaW9uLXRhYic7CiAgICByZXR1cm4gaXNFbXB0eSB8fCBvbmx5SGFzRGl2ZXJzaW9uOwogIH0sCiAgaW1nU291cmNlOiBmdW5jdGlvbiBpbWdTb3VyY2UoKSB7CiAgICB2YXIgdGhlbWUgPSB0aGlzLmRhdGEuZ2V0KCd0aGVtZScpOwogICAgcmV0dXJuIGxvYWRpbmdBc3NldHNbdGhlbWVdOwogIH0sCiAgaGVpZ2h0OiBmdW5jdGlvbiBoZWlnaHQoKSB7CiAgICB2YXIgc2NyZWVuSGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDsKICAgIHJldHVybiBzY3JlZW5IZWlnaHQ7CiAgfQp9KTsKCmlmIChtb2R1bGUuaG90KSB7CiAgdmFyIF9fSE9UX0FQSV9fID0gcmVxdWlyZSgnL1VzZXJzL2xpYW9odWFueXUvcHJvamVjdHMvYmFpZHUtd29yay9iYWlkdS9mZWVkMy9tdWx0aS1wYWdlcy9ub2RlX21vZHVsZXMvc2FuLWhvdC1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50LWNsaWVudC1hcGkuanMnKTsKCiAgdmFyIF9fSE9UX1VUSUxTX18gPSByZXF1aXJlKCcvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9zYW4taG90LWxvYWRlci9saWIvcnVudGltZS91dGlscy5qcycpOwoKICB2YXIgX19TQU5fQ09NUE9ORU5UX18gPSBfX0hPVF9VVElMU19fLmdldEV4cG9ydHMobW9kdWxlKTsKCiAgaWYgKF9fU0FOX0NPTVBPTkVOVF9fLnRlbXBsYXRlIHx8IF9fU0FOX0NPTVBPTkVOVF9fLnByb3RvdHlwZS50ZW1wbGF0ZSkgewogICAgbW9kdWxlLmhvdC5hY2NlcHQoKTsKCiAgICBfX0hPVF9BUElfXy5pbnN0YWxsKHJlcXVpcmUoJ3NhbicpKTsKCiAgICB2YXIgX19ITVJfSURfXyA9ICc0OTUxNjM5ZCc7CgogICAgaWYgKCFtb2R1bGUuaG90LmRhdGEpIHsKICAgICAgX19IT1RfQVBJX18uY3JlYXRlUmVjb3JkKF9fSE1SX0lEX18sIF9fU0FOX0NPTVBPTkVOVF9fKTsKICAgIH0gZWxzZSB7CiAgICAgIF9fSE9UX0FQSV9fLmhvdFJlbG9hZChfX0hNUl9JRF9fLCBfX1NBTl9DT01QT05FTlRfXyk7CiAgICB9CiAgfQp9"},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/olympic/containers/app.js"],"names":["aaa","require","loadingAssets","light","night","dark","REFRESH_INTERVAL","App","IS_IOS","env","isIOS","styles","feedlist","theme","visibility","fontLevel","initLog","paramsFromUrl","window","location","href","paramStart","indexOf","requestStr","slice","requestParams","split","forEach","item","index","length","key","val","data","set","font_level","tab_id","$root","document","getElementsByTagName","classList","add","sortsData","errno","page","from","autoPvTrack","source","params","lastTheme","get","lastVisible","lastFontLevel","hasOwnProperty","className","sendRequest","Date","now","watch","lastRefreshTime","interval","sendEndMessage","fireChannel","axios","channel_id","_format","then","res","status","catch","this","text","boxx","event","emit","action","JSON","stringify","refresh_tips","Component","EachItem","showErrorPage","isEmpty","onlyHasDiversion","layout","imgSource","height","screenHeight","documentElement","clientHeight","module","hot","__HOT_API__","__HOT_UTILS__","__SAN_COMPONENT__","getExports","template","prototype","accept","install","__HMR_ID__","createRecord","hotReload"],"mappings":"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","sourcesContent":["/**\n * @file container\n */\n\n/* eslint-disable fecs-camelcase */\nimport {Component} from 'san';\nimport styles from './app.module.less';\nimport {env} from '@baidu/auc-base/env';\nimport trans from './trans.js';\nimport EachItem from './each-item';\nimport {initChannel, refreshChannel} from './initChannel';\nimport ubc from '@baidu/ubc-report-sdk';\nimport axios from 'axios';\nimport boxx from '@baidu/auc-base/boxx';\n\nconst aaa = require('./mock.json');\nconst loadingAssets = {\n    light: require('../assets/loading.png'),\n    night: require('../assets/loading-night.png'),\n    dark: require('../assets/loading-dark.png')\n};\nexport const REFRESH_INTERVAL = 1.8e6;\nexport default class App extends Component {\n    static components = {\n        'each-item': EachItem\n    };\n    /* eslint-disable max-len */\n    static template = `\n        <div id=\"appContain\" class=\"{{styles['app']}}\">\n            <div s-if=\"showErrorPage\" \n                class=\"{{styles['app-empty']}}\" style=\"height:{{height}}px;\">\n                <img class=\"{{styles['app-empty-img']}}\"\n                    src=\"{{imgSource}}\" alt=\"\"/>\n                <span class=\"{{styles['app-empty-tip']}}\">点击刷新，为您推荐更多精彩内容</span>\n                <div class=\"{{styles['app-empty-button']}}\" on-click=\"onRefreshClick\">\n                    <span class=\"{{styles['app-empty-buttonText']}}\">立即刷新</span>\n                </div>\n            </div>\n            <div s-else>\n                <each-item\n                    s-for=\"feed, index in feedlist\"\n                    feed=\"{{feed}}\"\n                    index=\"{{index}}\"\n                    theme=\"{{theme}}\"\n                    visibility=\"{{visibility}}\"\n                    fontLevel=\"{{fontLevel}}\"\n                    tabId=\"{{tabId}}\"\n                ></each-item>\n            </div>\n\n        </div>\n    `;\n    /* eslint-enable max-len */\n    static computed = {\n        showErrorPage() {\n            const feedlist = this.data.get('feedlist');\n            let isEmpty = feedlist.length === 0;\n            let onlyHasDiversion = feedlist.length === 1 && feedlist[0].layout === 'diversion-tab';\n            return isEmpty || onlyHasDiversion;\n        },\n        imgSource() {\n            const theme = this.data.get('theme');\n            return loadingAssets[theme];\n        },\n        height() {\n            const screenHeight = document.documentElement.clientHeight;\n            return screenHeight;\n        }\n    }\n\n    initData() {\n        return {\n            IS_IOS: env.isIOS,\n            styles,\n            feedlist: [],\n            theme: 'light',\n            visibility: true,\n            fontLevel: 1\n        };\n    }\n    inited() {\n        this.initLog();\n    }\n    created() {\n        // 创建时从url上读取主题并设置html的样式\n        // url举例 http://h5.baidu.com/?visibility=0&theme=0&font_level=1\n        let paramsFromUrl = window.location.href;\n        let paramStart = paramsFromUrl.indexOf('?');\n        let requestStr = paramsFromUrl.slice(paramStart + 1);\n        let requestParams = {};\n        if (requestStr.indexOf('&') !== -1) {\n            requestStr.split('&').forEach((item, index) => {\n                if (!item || !item.split || item.split('=').length !== 2) {\n                    return;\n                }\n                let key = item.split('=')[0];\n                let val = item.split('=')[1];\n                requestParams[key] = val;\n            });\n            this.data.set('requestParams', requestParams);\n        }\n        let theme = requestParams.theme === 'default' ? 'light' : requestParams.theme;\n        this.data.set('theme', theme);\n        // 由于端上不做预创建，所以visiblity暂时用不到了\n        // this.data.set('visibility', requestParams.visibility);\n        this.data.set('fontLevel', requestParams.font_level);\n        this.data.set('tabId', requestParams.tab_id);\n        const $root = document.getElementsByTagName('html')[0];\n        $root.classList.add('olympic-' + theme);\n        // 设置字体\n\n        if (env.isIOS) {\n            $root.classList.add('iphone');\n        } else {\n            $root.classList.add('android');\n        }\n        // this.data.set('feedlist', trans(aaa));\n        if (window.sortsData.errno === 0) {\n            this.data.set('feedlist', trans(window.sortsData));\n        }\n    }\n    initLog() {\n        ubc('init', '13324', {\n            page: 'olympic',\n            from: 'feed',\n            autoPvTrack: true,\n            source: 'feed'\n        });\n        // ubc('timing', 'start');\n    }\n    attached() {\n        initChannel(params => {\n            const lastTheme = this.data.get('theme') === 'light' ? 'default' : this.data.get('theme');\n            const lastVisible = this.data.get('visibility');\n            const lastFontLevel = this.data.get('fontLevel');\n            // 主题变化回调\n            if (params.hasOwnProperty('theme') && lastTheme !== params.theme) {\n                let theme = params.theme === 'default' ? 'light' : params.theme;\n                const IS_IOS = this.data.get('IS_IOS');\n                const $root = document.getElementsByTagName('html')[0];\n                $root.className = `olympic-${theme} ${IS_IOS ? 'iphone' : 'android'}`;\n                this.data.set('theme', theme);\n            }\n            if (params.hasOwnProperty('font_level') && params.font_level !== lastFontLevel) {\n                this.data.set('fontLevel', params.font_level);\n            }\n            if (params.hasOwnProperty('visibility') && params.visibility !== lastVisible) {\n                this.data.set('visibility', params.visibility);\n            }\n        });\n        refreshChannel(params => {\n            this.data.set('tabId', params.tab_id);\n            this.sendRequest();\n        });\n        this.data.set('lastRefreshTime', Date.now());\n        this.watch('visibility', val => {\n            // 超过30min重新进入tab触发自动刷新\n            const lastRefreshTime = this.data.get('lastRefreshTime');\n            const interval = Date.now() - lastRefreshTime;\n            if (interval >= REFRESH_INTERVAL && val) {\n                this.sendRequest(false);\n            }\n        });\n        // 如果加载中用户下拉刷新，端上不知道什么时候停止，所以和端上约定渲染完成后给端上发送end消息\n        this.sendEndMessage('已更新到最新');\n    }\n    sendRequest(fireChannel = true) {\n        // fireChannel 为false表示不需要给数据通道发送刷新结束通知，只是单纯更新数据\n        axios.get('/newspage/data/feed', {\n            params: {\n                tab_id: this.data.get('tabId'),\n                channel_id: 8,\n                _format: 'json'\n            }\n        }).then(res => {\n            if (res.status === 200) {\n                const data = res.data;\n                this.data.set('feedlist', trans(data));\n                this.data.set('lastRefreshTime', Date.now());\n                fireChannel && this.sendEndMessage('已更新到最新');\n            }\n        }).catch(() => {\n            fireChannel && this.this.sendEndMessage('更新失败');\n        });\n    }\n    sendEndMessage(text) {\n        boxx.event.emit({\n            action: 'com.baidu.channel.feed.refreshend',\n            data: JSON.stringify({\n                status: 'end',\n                refresh_tips: text,\n                tab_id: this.data.get('tabId')\n            })\n        });\n    }\n    onRefreshClick() {\n        this.sendRequest(false);\n    }\n}\n"]}]}