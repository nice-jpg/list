{"remainingRequest":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js??ref--1-2!/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/olympic/containers/initChannel.js","dependencies":[{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/olympic/containers/initChannel.js","mtime":1695633995778},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/san-hot-loader/index.js","mtime":1696919525187},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/cache-loader/dist/cjs.js","mtime":1696919513896},{"path":"/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/node_modules/babel-loader/lib/index.js","mtime":1696919524615}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGlhb2h1YW55dS9wcm9qZWN0cy9iYWlkdS13b3JrL2JhaWR1L2ZlZWQzL211bHRpLXBhZ2VzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLnJlZnJlc2hDaGFubmVsID0gZXhwb3J0cy5pbml0Q2hhbm5lbCA9IHZvaWQgMDsKCnZhciBfb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkBiYWlkdS94Ym94LW5hdGl2ZS9ldmVudC9vbiIpKTsKCnZhciBfaXMgPSByZXF1aXJlKCJAYmFpZHUveGJveC9pcyIpOwoKdmFyIF9vcyA9IHJlcXVpcmUoIkBiYWlkdS94Ym94L29zIik7Cgp2YXIgX2dldEdsb2JhbEZ1bmMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkBiYWlkdS94Ym94L2dldC1nbG9iYWwtZnVuYyIpKTsKCnZhciBfYm94eCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQGJhaWR1L2F1Yy1iYXNlL2JveHgiKSk7CgovKioKICogQGZpbGUg5rOo5YaM5pWw5o2u6YCa6YGTCiAqLwoKLyogZXNsaW50LWRpc2FibGUgZmVjcy1jYW1lbGNhc2UgKi8KdmFyIGNoYW5nZU5pZ2h0TW9kZSA9IGZ1bmN0aW9uIGNoYW5nZU5pZ2h0TW9kZShjYWxsYmFjaykgewogICgwLCBfb24uZGVmYXVsdCkoewogICAgbmFtZTogJ2ZvdW5kYXRpb24ubmlnaHRtb2RlY2hhbmdlZCcsCiAgICBkYXRhOiB7CiAgICAgIHBhZ2U6ICdwcm9maWxlJywKICAgICAganNjYWxsYmFjazogKDAsIF9nZXRHbG9iYWxGdW5jLmRlZmF1bHQpKGZ1bmN0aW9uIChhY3Rpb24sIGRhdGEpIHsKICAgICAgICB0cnkgewogICAgICAgICAgaWYgKCgwLCBfaXMuaXNTdHJpbmcpKGRhdGEpKSB7CiAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGUpIHt9CgogICAgICAgIHZhciBwYWdlTW9kZSA9IGRhdGEgJiYgZGF0YS5pc05pZ2h0TW9kZSA+IDAgPyAnbmlnaHQnIDogJ2xpZ2h0JzsKICAgICAgICAoMCwgX2lzLmlzRnVuY3Rpb24pKGNhbGxiYWNrKSAmJiBjYWxsYmFjayh7CiAgICAgICAgICB0aGVtZTogcGFnZU1vZGUKICAgICAgICB9KTsKICAgICAgfSkKICAgIH0KICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgLy8gYnVpbGTlkI7mmK/kuKrnqbrnmoRmdW5jdGlvbgogICAgY29uc29sZS5sb2coJ2ZpcmUg56uv6IO95Yqb5LiN5a2Y5ZyoJyk7CiAgfSk7Cn07Cgp2YXIgY2hhbmdlRGFya01vZGUgPSBmdW5jdGlvbiBjaGFuZ2VEYXJrTW9kZShjYWxsYmFjaykgewogICgwLCBfb24uZGVmYXVsdCkoewogICAgbmFtZTogJ2ZvdW5kYXRpb24udGhlbWVjaGFuZ2VkJywKICAgIGRhdGE6IHsKICAgICAgcGFnZTogJ3Byb2ZpbGUnLAogICAgICBqc2NhbGxiYWNrOiAoMCwgX2dldEdsb2JhbEZ1bmMuZGVmYXVsdCkoZnVuY3Rpb24gKGFjdGlvbiwgZGF0YSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAoKDAsIF9pcy5pc1N0cmluZykoZGF0YSkpIHsKICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZSkge30KCiAgICAgICAgdmFyIHBhZ2VNb2RlID0gZGF0YSAmJiBkYXRhLnRoZW1lID09PSAnZGFyaycgPyAnZGFyaycgOiAnbGlnaHQnOwogICAgICAgICgwLCBfaXMuaXNGdW5jdGlvbikoY2FsbGJhY2spICYmIGNhbGxiYWNrKHBhZ2VNb2RlKTsKICAgICAgfSkKICAgIH0KICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgLy8gYnVpbGTlkI7mmK/kuKrnqbrnmoRmdW5jdGlvbgogICAgY29uc29sZS5sb2coJ2ZpcmUg56uv6IO95Yqb5LiN5a2Y5ZyoJyk7CiAgfSk7Cn07Cgp2YXIgY2hhbmdlaDV0YWJQYXJhbXMgPSBmdW5jdGlvbiBjaGFuZ2VoNXRhYlBhcmFtcyhjYWxsYmFjaykgewogICgwLCBfb24uZGVmYXVsdCkoewogICAgbmFtZTogJ2ZlZWQuaDV0YWIucGFyYW1zJywKICAgIGRhdGE6IHsKICAgICAgcGFnZTogJ3Byb2ZpbGUnLAogICAgICBqc2NhbGxiYWNrOiAoMCwgX2dldEdsb2JhbEZ1bmMuZGVmYXVsdCkoZnVuY3Rpb24gKGFjdGlvbiwgZGF0YSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAoKDAsIF9pcy5pc1N0cmluZykoZGF0YSkpIHsKICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZSkge30KCiAgICAgICAgKDAsIF9pcy5pc0Z1bmN0aW9uKShjYWxsYmFjaykgJiYgY2FsbGJhY2soZGF0YSk7CiAgICAgIH0pCiAgICB9CiAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgIC8vIGJ1aWxk5ZCO5piv5Liq56m655qEZnVuY3Rpb24KICAgIGNvbnNvbGUubG9nKCdmaXJlIOerr+iDveWKm+S4jeWtmOWcqCcpOwogIH0pOwp9OwoKdmFyIGluaXRDaGFubmVsID0gZnVuY3Rpb24gaW5pdENoYW5uZWwoZXZlbnRIYW5kbGVyKSB7CiAgaWYgKCgwLCBfb3MuaXNBbmRyb2lkKSgpKSB7CiAgICBjaGFuZ2VOaWdodE1vZGUoZXZlbnRIYW5kbGVyKTsKICAgIGNoYW5nZWg1dGFiUGFyYW1zKGV2ZW50SGFuZGxlcik7CiAgfSBlbHNlIHsKICAgIGNoYW5nZWg1dGFiUGFyYW1zKGV2ZW50SGFuZGxlcik7CiAgfQp9OwoKZXhwb3J0cy5pbml0Q2hhbm5lbCA9IGluaXRDaGFubmVsOwoKdmFyIHJlZnJlc2hDaGFubmVsID0gZnVuY3Rpb24gcmVmcmVzaENoYW5uZWwoY2FsbGJhY2spIHsKICBfYm94eC5kZWZhdWx0LmV2ZW50Lm9uKHsKICAgIHBhZ2U6ICduZXdzZGV0YWlscycsCiAgICAvLyBhY3Rpb246ICdjb20uYmFpZHUuY2hhbm5lbC5mZWVkLnJlZnJlc2hoZWFkZXInLAogICAgYWN0aW9uOiAnY29tLmJhaWR1LmNoYW5uZWwuZmVlZC5yZWZyZXNoc3RhcnQnLAogICAganNjYWxsYmFjazogZnVuY3Rpb24ganNjYWxsYmFjayhhY3Rpb24sIGRhdGEpIHsKICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykgewogICAgICAgIHRyeSB7CiAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTsKICAgICAgICB9IGNhdGNoIChfKSB7fQogICAgICB9CgogICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhkYXRhKTsKICAgIH0KICB9KTsKfTsKCmV4cG9ydHMucmVmcmVzaENoYW5uZWwgPSByZWZyZXNoQ2hhbm5lbDs="},{"version":3,"sources":["/Users/liaohuanyu/projects/baidu-work/baidu/feed3/multi-pages/src/pages/olympic/containers/initChannel.js"],"names":["changeNightMode","callback","name","data","page","jscallback","action","JSON","parse","e","pageMode","isNightMode","theme","catch","console","log","changeDarkMode","changeh5tabParams","initChannel","eventHandler","refreshChannel","boxx","event","on","undefined","_"],"mappings":"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","sourcesContent":["/**\n * @file 注册数据通道\n */\n\n/* eslint-disable fecs-camelcase */\nimport on from '@baidu/xbox-native/event/on';\nimport {isFunction, isString} from '@baidu/xbox/is';\nimport {isIOS, isAndroid} from '@baidu/xbox/os';\nimport getGlobalFunc from '@baidu/xbox/get-global-func';\nimport boxx from '@baidu/auc-base/boxx';\n\nconst changeNightMode = callback => {\n    on({\n        name: 'foundation.nightmodechanged',\n        data: {\n            page: 'profile',\n            jscallback: getGlobalFunc((action, data) => {\n                try {\n                    if (isString(data)) {\n                        data = JSON.parse(data);\n                    }\n                }\n                catch (e) {}\n                const pageMode = data && data.isNightMode > 0 ? 'night' : 'light';\n                isFunction(callback) && callback({theme: pageMode});\n            })\n        }\n    }).catch(e => {\n        // build后是个空的function\n        console.log('fire 端能力不存在');\n    });\n};\nconst changeDarkMode = callback => {\n    on({\n        name: 'foundation.themechanged',\n        data: {\n            page: 'profile',\n            jscallback: getGlobalFunc((action, data) => {\n                try {\n                    if (isString(data)) {\n                        data = JSON.parse(data);\n                    }\n                }\n                catch (e) {}\n                const pageMode = data && data.theme === 'dark' ? 'dark' : 'light';\n                isFunction(callback) && callback(pageMode);\n            })\n        }\n    }).catch(e => {\n        // build后是个空的function\n        console.log('fire 端能力不存在');\n    });\n};\nconst changeh5tabParams = callback => {\n    on({\n        name: 'feed.h5tab.params',\n        data: {\n            page: 'profile',\n            jscallback: getGlobalFunc((action, data) => {\n                try {\n                    if (isString(data)) {\n                        data = JSON.parse(data);\n                    }\n                }\n                catch (e) {}\n                isFunction(callback) && callback(data);\n            })\n        }\n    }).catch(e => {\n        // build后是个空的function\n        console.log('fire 端能力不存在');\n    });\n};\n\nexport const initChannel = eventHandler => {\n    if (isAndroid()) {\n        changeNightMode(eventHandler);\n        changeh5tabParams(eventHandler);\n    } else {\n        changeh5tabParams(eventHandler);\n    }\n};\nexport const refreshChannel = callback => {\n    boxx.event.on({\n        page: 'newsdetails',\n        // action: 'com.baidu.channel.feed.refreshheader',\n        action: 'com.baidu.channel.feed.refreshstart',\n        jscallback(action, data) {\n            if (data === undefined) {\n                return;\n            }\n            if (typeof data === 'string') {\n                try {\n                    data = JSON.parse(data);\n                }\n                catch (_) {}\n            }\n            callback && callback(data);\n        }\n    });\n};\n"]}]}