module.exports = function () {
  var $ = require('boxjs/dist/utils/_bdboxWrapper');

  return function (obj, callback, scope) {
    if ($.isArray(obj)) {
      for (var i = 0; i < obj.length; i++) {
        if (callback.call(scope || obj[i], obj[i], i) === false) {
          return obj;
        }
      }
    } else {
      for (var key in obj) {
        if (callback.call(scope || obj[key], obj[key], key) === false) {
          return obj;
        }
      }
    }

    return obj;
  };
}();