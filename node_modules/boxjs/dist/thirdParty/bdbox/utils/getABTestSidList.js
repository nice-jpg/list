module.exports = function () {
  var $ = require('boxjs/dist/utils/_bdboxWrapper');
  /* eslint-disable */


  var androidInvoke = require('../android/invokeApp');

  var iosInvoke = require('../ios/invokeApp');
  /**
   * 获取ABTest Sid 列表
   * @param  {Function} callback 回调
   *
   * callback参数示例：
   * {
   *     errno: 1,
   *     errmsg: 'success',
   *     data: [[aaa,bbb],[ccc,ddd]]
   * }
   */


  return function (callback) {
    if (callback && $.isFunction(callback)) {
      var callName = '__box_utils_getABTestSidList_' + $.getId();

      window[callName] = function (data) {
        if ($.$isIOS()) {
          callback(JSON.parse(data).data);
        } else {
          callback(data.data);
        }
      };

      if ($.$isIOS()) {
        iosInvoke('utils', {
          action: 'getABTestSidList'
        }, callName);
      } else {
        androidInvoke('Bdbox_android_utils', 'getABTestSidList', [callName]);
      }
    } else {
      console.log('error: callback is null or type is not function');
    }
  };
}();