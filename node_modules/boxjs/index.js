module.exports = function () {
  /**
  * @file index.js
  * @author gaojiexuan@baidu.com
  * @description 端能力入口文件。定制化挂载端能力
  */
  var Boxjs = {};
  Boxjs.h5API = {};
  /* istanbul ignore next */

  Boxjs.cache = require('./dist/components/cache/index');
  Boxjs.data = require('./dist/components/data/index');
  Boxjs.device = require('./dist/components/device/index');
  Boxjs.event = require('./dist/components/event/index');
  /* istanbul ignore next */

  Boxjs.log = require('./dist/components/log/index');
  Boxjs.media = require('./dist/components/media/index');
  Boxjs.net = require('./dist/components/net/index');
  Boxjs.ui = require('./dist/components/ui/index');
  Boxjs.view = require('./dist/components/view/index');
  Boxjs.filter = require('./dist/core/BDPolyfill/filter');
  Boxjs.versionMap = require('./dist/core/versionMap');
  Boxjs.invoke = require("boxjs/dist/core/invoke");
  Boxjs.extend = require('./dist/thirdParty/bdbox/extend');
  Boxjs.view = require('./dist/components/view/index');
  Boxjs.view = require('./dist/components/view/index');
  Boxjs.view = require('./dist/components/view/index');
  Boxjs.platform = require('./dist/utils/platform');
  Boxjs.$ = require('./dist/utils/_bdboxWrapper'); // 挂载platform api

  function getPlatformApis() {
    var proccessedApis = {};

    var apis = require('./dist/utils/platform');

    Object.keys(apis).forEach(function (apiKey) {
      var actualApi = apis[apiKey];

      proccessedApis[apiKey] = function () {
        if (apiKey === 'versionCompare') {
          return actualApi(arguments[0], arguments[1]);
        }

        return actualApi;
      };
    });
    return proccessedApis;
  }

  Boxjs.platform = getPlatformApis();
  return Boxjs;
}();